<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Blog on gmgall.net</title>
    <link>https://gmgall.net/blog/</link>
    <description>Recent content in Blog on gmgall.net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <lastBuildDate>Tue, 10 Jan 2023 22:52:11 -0300</lastBuildDate><atom:link href="https://gmgall.net/blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>P√≥s-instala√ß√£o Void Linux</title>
      <link>https://gmgall.net/blog/pos-instalacao-void-linux/</link>
      <pubDate>Wed, 24 Jul 2024 21:36:23 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/pos-instalacao-void-linux/</guid>
      <description>&lt;p&gt;Estou usando o &lt;a href=&#34;https://voidlinux.org/&#34;&gt;Void Linux&lt;/a&gt; como SO principal agora. Estou bem satisfeito com ele por enquanto, mas como toda distribui√ß√£o minimalista, h√° interven√ß√µes que precisei fazer ap√≥s terminar a instala√ß√£o para ter um desktop totalmente funcional.&lt;/p&gt;
&lt;p&gt;Listarei essas interven√ß√µes abaixo para minha&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; pr√≥pria refer√™ncia futura. Parti da imagem com &lt;a href=&#34;https://xfce.org/&#34;&gt;XFCE&lt;/a&gt; + &lt;code&gt;glibc&lt;/code&gt;. Baixei a ISO em 17/07/2024&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h2 id=&#34;impedir-o-carregamento-do-m√≥dulo-nouveau&#34;&gt;Impedir o carregamento do m√≥dulo nouveau&lt;/h2&gt;
&lt;p&gt;O &lt;em&gt;boot&lt;/em&gt; estava demorando mais que o normal. A seguinte mensagem aparecia:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;udevd[674]: worker [681] /devices/pci0000:00/0000:00:1c.0/0000:01:00.0 is taking a long time
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;O processo de desligamento e &lt;em&gt;reboot&lt;/em&gt; causava travamento.&lt;/p&gt;
&lt;p&gt;Impedir o carregamento do m√≥dulo do &lt;em&gt;kernel&lt;/em&gt; &lt;code&gt;nouveau&lt;/code&gt; resolveu esses problemas.&lt;/p&gt;
&lt;p&gt;Em &lt;code&gt;/etc/default/grub&lt;/code&gt; adicionei &lt;code&gt;module_blacklist=nouveau&lt;/code&gt; ao valor da vari√°vel &lt;code&gt;GRUB_CMDLINE_LINUX_DEFAULT&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ grep GRUB_CMDLINE_LINUX_DEFAULT /etc/default/grub 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GRUB_CMDLINE_LINUX_DEFAULT&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;loglevel=4 module_blacklist=nouveau&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;mudar-o-mirror&#34;&gt;Mudar o &lt;em&gt;mirror&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;Nem sempre o &lt;em&gt;mirror&lt;/em&gt; principal do Void √© o mais r√°pido. Acho que ele fica na Europa. &lt;a href=&#34;https://docs.voidlinux.org/xbps/repositories/mirrors/changing.html&#34;&gt;Mudar para o &lt;em&gt;mirror&lt;/em&gt;&lt;/a&gt; de Chicago pode melhorar os tempos de download de pacotes. A forma mais f√°cil de mudar de &lt;em&gt;mirror&lt;/em&gt; √© usando o comando &lt;code&gt;xmirror&lt;/code&gt;, disponibilizado no pacote de mesmo nome.&lt;/p&gt;
&lt;h2 id=&#34;configurar-o-layout-de-teclado-no-xfce&#34;&gt;Configurar o &lt;em&gt;layout&lt;/em&gt; de teclado no XFCE&lt;/h2&gt;
&lt;p&gt;As configura√ß√µes de idioma e &lt;em&gt;layout&lt;/em&gt; de teclado do programa &lt;code&gt;void-installer&lt;/code&gt; funcionam para o modo texto. No ambiente gr√°fico, executei o seguinte para mudar o &lt;em&gt;layout&lt;/em&gt; da sess√£o corrente, de forma n√£o persistente:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;setxkbmap -model abnt2 -layout br
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;E criei o arquivo &lt;code&gt;/etc/X11/xorg.conf.d/30-keyboard.conf&lt;/code&gt; com o conte√∫do seguinte para manter as configura√ß√µes permanentes:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Section &amp;#34;InputClass&amp;#34;
  Identifier &amp;#34;keyboard-all&amp;#34;
  Driver &amp;#34;evdev&amp;#34;
  MatchIsKeyboard &amp;#34;on&amp;#34;
  Option &amp;#34;XkbLayout&amp;#34; &amp;#34;br&amp;#34;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;instalar-fontes-extras&#34;&gt;Instalar fontes extras&lt;/h2&gt;
&lt;p&gt;Todas as fontes presentes p√≥s-instala√ß√£o permitem ler textos em portugu√™s e ingl√™s sem problemas. Para evitar ver quadradinhos ao exibir &lt;strike&gt;emoticons&lt;/strike&gt;
 textos em outros alfabetos, instalei outras fontes.&lt;/p&gt;
&lt;p&gt;Os pacotes que instalei foram &lt;code&gt;noto-fonts-ttf&lt;/code&gt;, &lt;code&gt;noto-fonts-emoji&lt;/code&gt; e &lt;code&gt;noto-fonts-cjk&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xbps-install noto-fonts-ttf noto-fonts-emoji noto-fonts-cjk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;instalar-pacotes-para-fazer-funcionar-fones-bluetooth&#34;&gt;Instalar pacotes para fazer funcionar fones Bluetooth&lt;/h2&gt;
&lt;p&gt;Contei recentemente &lt;a href=&#34;https://gmgall.net/blog/premissas-erradas-pipewire-e-bluetooth/&#34;&gt;esse causo&lt;/a&gt; aqui. A imagem do Void Linux com XFCE usa PipeWire e n√£o PulseAudio.&lt;/p&gt;
&lt;p&gt;Para parear com fones ou caixas de som Bluetooth, √© necess√°ria a instala√ß√£o de um pacote.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xbps-install libspa-bluetooth
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;‚ö†Ô∏è  N√£o se deixe enganar pelo nome do &lt;em&gt;mixer&lt;/em&gt; de √°udio no XFCE. Ao &lt;em&gt;bootar&lt;/em&gt; com a imagem com XFCE, √© o PipeWire que estar√° em uso.&lt;/p&gt;
&lt;h2 id=&#34;instalar-anki-flashcards-do-site-n√£o-dos-reposit√≥rios&#34;&gt;Instalar Anki Flashcards do site, n√£o dos reposit√≥rios&lt;/h2&gt;
&lt;p&gt;A vers√£o empacotada nos reposit√≥rios do Void n√£o √© t√£o nova quanto a vers√£o disponibilizada &lt;a href=&#34;https://apps.ankiweb.net/&#34;&gt;no site&lt;/a&gt;. Acho que a dos reposit√≥rios n√£o sincronizava direito com o &lt;a href=&#34;https://ankiweb.net/&#34;&gt;AnkiWeb&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Escrevo &amp;ldquo;acho&amp;rdquo; acima porque a √∫nica nota que fiz sobre o assunto foi &amp;ldquo;instale do site, n√£o do repo&amp;rdquo; e agora n√£o lembro mais o motivo exato de ter escrito isso.ü´è&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Ou de meus eventuais leitores, que s√≥ tenho como ter certeza que existem quando comentam.üôÉ N√£o uso nenhum mecanismo de rastreamento nesse site.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;√â uma distribui√ß√£o com &lt;em&gt;rolling release&lt;/em&gt; e n√£o sei com que frequ√™ncia eles constroem uma nova ISO para disponibilizar para download.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Premissas Erradas, PipeWire e Bluetooth</title>
      <link>https://gmgall.net/blog/premissas-erradas-pipewire-e-bluetooth/</link>
      <pubDate>Mon, 22 Jul 2024 16:29:53 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/premissas-erradas-pipewire-e-bluetooth/</guid>
      <description>&lt;p&gt;Esse final de semana relembrei que pode ser elevado o custo de partir de premissas erradas e n√£o gastar nem 5 minutinhos verificando a validade delas. Marquei com &lt;a href=&#34;https://gmgall.net/categories/tech/&#34;&gt;tech&lt;/a&gt; e &lt;a href=&#34;https://gmgall.net/categories/non-tech/&#34;&gt;non-tech&lt;/a&gt; porque honestamente acho que isso √© uma li√ß√£o tanto na √°rea t√©cnica quanto para a vida.üòÖ&lt;/p&gt;
&lt;p&gt;Ap√≥s um desastre na parti√ß√£o em que mantinha meu &lt;a href=&#34;https://xubuntu.org/&#34;&gt;SO principal&lt;/a&gt;, resolvi aproveitar a oportunidade da reinstala√ß√£o para finalmente testar outra distro. Estava incomodado com os rumos de Ubuntu e derivados j√° h√° algum tempo, mas a pregui√ßa vencia a insatisfa√ß√£o e eu n√£o trocava.&lt;/p&gt;
&lt;p&gt;Queria testar algo sem &lt;a href=&#34;https://systemd.io/&#34;&gt;systemd&lt;/a&gt;, mais minimalista e em que eu me sentisse no controle do SO de novo. Uma distro em que eu entendesse melhor que estava acontecendo. Fiquei entre &lt;a href=&#34;https://archlinux.org/&#34;&gt;Arch&lt;/a&gt;, &lt;a href=&#34;https://www.gentoo.org/&#34;&gt;Gentoo&lt;/a&gt; e &lt;a href=&#34;https://voidlinux.org/&#34;&gt;Void&lt;/a&gt;. Acabei escolhendo esse √∫ltimo e as primeiras impress√µes t√™m sido excelentes.&lt;/p&gt;
&lt;p&gt;A &lt;a href=&#34;https://docs.voidlinux.org/&#34;&gt;documenta√ß√£o do Void Linux&lt;/a&gt;, apesar de menor que a dispon√≠vel nas excelentes wikis de &lt;a href=&#34;https://wiki.gentoo.org/wiki/Main_Page&#34;&gt;Gentoo&lt;/a&gt; e &lt;a href=&#34;https://wiki.archlinux.org/title/Main_page&#34;&gt;Arch&lt;/a&gt;, tem tudo para voc√™ terminar com um desktop funcional. Ao menos foi minha experi√™ncia partindo da imagem do Void + XFCE.&lt;/p&gt;
&lt;p&gt;S√≥ uma coisa n√£o consegui fazer funcionar ap√≥s a 1¬™ leitura do t√≥pico correspondente na documenta√ß√£o oficial: Bluetooth. Meus fones pareavam por 1 ou 2 segundos e desconectavam logo em seguida. Confirmei que meu adaptador e fones funcionavam sem problemas testando no &lt;a href=&#34;https://minios.dev/pt/&#34;&gt;MiniOS&lt;/a&gt; (um sabor de Debian). Era s√≥ no Void que eu n√£o conseguia parear. √Åudio era reproduzido nos alto-falantes, ent√£o &lt;em&gt;n√£o podia&lt;/em&gt; ser o &lt;a href=&#34;https://en.wikipedia.org/wiki/Sound_server&#34;&gt;&lt;em&gt;sound server&lt;/em&gt;&lt;/a&gt;, &lt;em&gt;tinha&lt;/em&gt; que ser Bluetooth.&lt;/p&gt;
&lt;p&gt;A &lt;a href=&#34;https://docs.voidlinux.org/config/bluetooth.html&#34;&gt;documenta√ß√£o sobre o assunto&lt;/a&gt; √© bem direta:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To use an audio device such as a wireless speaker or headset, ALSA users need to install the bluez-alsa package. PulseAudio users do not need any additional software. PipeWire users need libspa-bluetooth.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure&gt;&lt;img src=&#34;captura_de_tela_2024-07-22_00-22-59.png&#34;
         alt=&#34;Menu &amp;#39;Aplicativos&amp;#39; do XFCE. No submenu &amp;#39;Multim√≠dia&amp;#39; h√° um aplicativo chamado &amp;#39;Controle de volume do PulseAudio&amp;#39;.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Esse mixer funciona. Eu obviamente estou usando PulseAudio, certo?&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Se eu uso PulseAudio, n√£o deveria precisar de mais nada. &lt;em&gt;Tinha&lt;/em&gt; que ser Bluetooth.&lt;/p&gt;
&lt;p&gt;Parti ent√£o para tentar deixar as vers√µes dos softwares instalados no Void iguais √†s dos softwares instalados no MiniOS (que eu sabia que funcionava). Devia ser alguma regress√£o. Fiz &lt;em&gt;build&lt;/em&gt; do meu pr√≥prio pacote do &lt;a href=&#34;https://www.bluez.org/&#34;&gt;BlueZ&lt;/a&gt; para poder fazer &lt;em&gt;downgrade&lt;/em&gt; da vers√£o 5.76 para a 5.66, instalei outras 2 ou 3 vers√µes de kernel e gastei um bom tempo em &lt;em&gt;issues&lt;/em&gt; do GitHub, listas de discuss√£o, f√≥runs etc.&lt;/p&gt;
&lt;p&gt;Mesmo resultado. Pareava por apenas uns instantes.ü§¶‚Äç‚ôÇÔ∏è&lt;/p&gt;
&lt;p&gt;Desisti de executar o &lt;code&gt;bluetoothd&lt;/code&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; como servi√ßo. Rodei o execut√°vel diretamente num &lt;em&gt;shell&lt;/em&gt; com as &lt;em&gt;flags&lt;/em&gt; &lt;a href=&#34;https://man.voidlinux.org/bluetoothd#n&#34;&gt;&lt;code&gt;-n&lt;/code&gt;&lt;/a&gt; e &lt;a href=&#34;https://man.voidlinux.org/bluetoothd#d,&#34;&gt;&lt;code&gt;-d&lt;/code&gt;&lt;/a&gt; enquanto tentava parear para ver se eu recebia alguma &amp;ldquo;luz&amp;rdquo; melhor que as mensagens de erro do &lt;a href=&#34;https://man.voidlinux.org/bluetoothctl&#34;&gt;&lt;code&gt;bluetoothctl&lt;/code&gt;&lt;/a&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Eis que em algum ponto durante os breves instantes de pareamento, aparece algo como a mensagem abaixo:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;a2dp-sink profile connect failed for 60:F4:3A:70:E4:0B: Protocol not available
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_Bluetooth_profiles#Advanced_Audio_Distribution_Profile_%28A2DP%29&#34;&gt;A2DP&lt;/a&gt; tem a ver com √°udio&amp;hellip; E se aconteceu o seguinte?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;O dispositivo pareava.&lt;/li&gt;
&lt;li&gt;Ele tentava se registrar como um dispositivo capaz de A2DP de alguma forma.&lt;/li&gt;
&lt;li&gt;O &lt;em&gt;sound server&lt;/em&gt; n√£o suportava esse perfil.&lt;/li&gt;
&lt;li&gt;O dispositivo se desconectava porque n√£o tinha mais o que ser feito.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Foi minha hip√≥tese naquele momento, mas isso implicaria em erro na documenta√ß√£o do Void, que dizia claramente &lt;em&gt;PulseAudio users do not need any additional software.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mas e se&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pgrep -a pipewire
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1188&lt;/span&gt; pipewire
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1233&lt;/span&gt; /usr/bin/pipewire -c pipewire-pulse.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Eu estava, afinal, com o &lt;a href=&#34;https://pipewire.org/&#34;&gt;PipeWire&lt;/a&gt; instalado e rodando.ü§°&lt;/p&gt;
&lt;p&gt;Matei o processo, o som parou. Era o PipeWire em uso mesmo.ü§°ü§°&lt;/p&gt;
&lt;p&gt;Voltei √† documenta√ß√£o, √†quele √∫nico par√°grafo. &lt;em&gt;PipeWire users need &lt;code&gt;libspa-bluetooth&lt;/code&gt;&lt;/em&gt;. Instalei o pacote. Passou a parear e a reproduzir √°udio nos fones t√£o logo reiniciei os servi√ßos.ü§°ü§°ü§°&lt;/p&gt;
&lt;p&gt;Por n√£o ter conferido o que eu estava &lt;strong&gt;realmente&lt;/strong&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; usando para √°udio, &amp;ldquo;botei a culpa&amp;rdquo; no subsistema errado e enveredei por um caminho que me tomou v√°rias horas. Verificar levaria s√≥ alguns segundos.&lt;/p&gt;
&lt;p&gt;Acho que a moral da hist√≥ria √©: especialmente se for r√°pido e barato, cheque suas premissas.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;√â preciso ter d√∫vidas. S√≥ os est√∫pidos t√™m uma confian√ßa absoluta em si mesmos.&lt;/p&gt;
&lt;p&gt;&amp;ndash; Orson Welles&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;O &lt;em&gt;daemon&lt;/em&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Uma ferramenta de CLI de controle de Bluetooth.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;A bem da verdade, o nome do &lt;em&gt;mixer&lt;/em&gt; do XFCE ser &amp;ldquo;Controle de volume &lt;strong&gt;do PulseAudio&lt;/strong&gt;&amp;rdquo;, me induziu bastante ao erro. N√£o muda o fato que conferir levaria literalmente apenas alguns segundos.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Fiz Um Concurso P√∫blico e Olha No Que Deu</title>
      <link>https://gmgall.net/blog/fiz-um-concurso-e-olha-no-que-deu/</link>
      <pubDate>Mon, 17 Jun 2024 20:49:12 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/fiz-um-concurso-e-olha-no-que-deu/</guid>
      <description>&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt; N√£o deu em nada. Desculpe o &lt;em&gt;clickbait&lt;/em&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Minha √∫ltima postagem aqui foi em fevereiro, o que mostra que estou desrespeitando flagrantemente a minha &lt;a href=&#34;https://gmgall.net/blog/resolucao-para-2024/&#34;&gt;√∫nica resolu√ß√£o para esse ano&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O motivo √© bom. Comecei a estudar para concursos p√∫blicos h√° uns 3 ou 4 meses. Hoje parei para analisar os resultados da 1¬™ prova que fiz. Foi para a C√¢mara Municipal de uma capital.&lt;/p&gt;
&lt;p&gt;Os n√∫meros dessa brincadeira foram os seguintes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1107 pessoas inscritas.&lt;/li&gt;
&lt;li&gt;755 acertaram ao menos 1 quest√£o.&lt;/li&gt;
&lt;li&gt;Dessas, fui o 46¬∫, com 43/60 acertos.&lt;/li&gt;
&lt;li&gt;O melhor para a vaga fez 50/60, sozinho. Do 2¬∫ lugar em diante, foram 49 acertos ou menos.&lt;/li&gt;
&lt;li&gt;A nota mais frequente entre os que acertaram ao menos uma quest√£o foi 33. 10 acertos a menos do que eu.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Not great, not terrible.&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;N√£o foi nem pr√≥ximo de uma aprova√ß√£o, mas at√© que foi um resultado alentador. N√£o tenho nem 6 meses de estudos e a prova cobrou principalmente seguran√ßa da informa√ß√£o, assunto que n√£o tive tempo de ver.&lt;/p&gt;
&lt;p&gt;Seguirei estudando, esse primeiro resultado mostrou que n√£o estou t√£o mal quando pensava que estaria.&lt;/p&gt;
&lt;p&gt;Talvez at√© volte a escrever por aqui porque a rotina de tentar estudar em todo tempo livre n√£o est√° saud√°vel. Ainda h√° muita √°gua para passar debaixo da ponte e j√° me sinto bem cansado.&lt;/p&gt;
&lt;p&gt;Preciso botar algum equil√≠brio na vida. Os estudos j√° n√£o rendem como sinto que rendiam nos 2 primeiros meses.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://knowyourmeme.com/memes/anatoly-dyatlov&#34;&gt;Frase da s√©rie Chernobyl que se tornou meme&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>1 Ano de Mastodon</title>
      <link>https://gmgall.net/blog/1-ano-de-mastodon/</link>
      <pubDate>Fri, 09 Feb 2024 18:47:03 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/1-ano-de-mastodon/</guid>
      <description>&lt;p&gt;Ontem completei 1 ano usando apenas o &lt;a href=&#34;https://fedi.tips/what-is-mastodon-what-is-the-fediverse/&#34;&gt;Mastodon&lt;/a&gt; como rede social de uso geral&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Antes, utilizava apenas o Twitter. Quero escrever um pouco sobre como a experi√™ncia em ambas se comparam.&lt;/p&gt;
&lt;h2 id=&#34;as-pessoas&#34;&gt;As pessoas&lt;/h2&gt;
&lt;p&gt;Acho que o principal aspecto que mant√©m os usu√°rios numa rede &lt;strong&gt;social&lt;/strong&gt; √© o&amp;hellip; social. üòÖ Quem voc√™ conhece e troca ideia por elas √© determinante no seu uso.&lt;/p&gt;
&lt;p&gt;Nesse aspecto, o Mastodon foi imbat√≠vel em compara√ß√£o com todas as outras redes sociais que j√° usei. N√£o tenho a sensa√ß√£o de estar falando sozinho por l√°. √â f√°cil ter conversas divertidas ou informativas.&lt;/p&gt;
&lt;p&gt;J√° considero boas amigas algumas pessoas que conheci por l√°. Isso demorou alguns anos para acontecer em outros ambientes virtuais. Claro que tenho &lt;a href=&#34;https://icd.who.int/dev11/f/en#/http://id.who.int/icd/entity/2062286624&#34;&gt;certos&lt;/a&gt; &lt;a href=&#34;https://icd.who.int/dev11/f/en#/http%3a%2f%2fid.who.int%2ficd%2fentity%2f429615620&#34;&gt;probleminhas&lt;/a&gt; sob controle agora e isso ajuda, mas acho que estar numa rede que n√£o limita o meu alcance&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; foi essencial.&lt;/p&gt;
&lt;h2 id=&#34;a-descentraliza√ß√£o&#34;&gt;A descentraliza√ß√£o&lt;/h2&gt;
&lt;p&gt;A &lt;a href=&#34;https://fedi.tips/why-is-the-fediverse-on-so-many-separate-servers/&#34;&gt;descentraliza√ß√£o&lt;/a&gt; do fediverso realmente funciona. Estive numa inst√¢ncia que amea√ßou parar de funcionar. Migrei para outra e mantive meus contatos.&lt;/p&gt;
&lt;p&gt;No Twitter, minha √∫nica alternativa por n√£o estar gostando da nova dire√ß√£o foi deixar de usar a rede.&lt;/p&gt;
&lt;p&gt;Como algu√©m que &lt;a href=&#34;https://www.gmgall.net/blog/tchau-twitter#n%C3%A3o-quero-uma-web-centralizada&#34;&gt;n√£o quer uma &lt;em&gt;web&lt;/em&gt; t√£o centralizada&lt;/a&gt; quanto a que temos hoje, gostei demais desse aspecto.&lt;/p&gt;
&lt;h2 id=&#34;o-ambiente&#34;&gt;O ambiente&lt;/h2&gt;
&lt;p&gt;Talvez isso devesse entrar em &lt;a href=&#34;#as-pessoas&#34;&gt;&lt;em&gt;As pessoas&lt;/em&gt;&lt;/a&gt;, mas acho que merece um coment√°rio separado.&lt;/p&gt;
&lt;p&gt;Dificilmente se encontra uma inst√¢ncia em que &lt;a href=&#34;https://www.gmgall.net/blog/tchau-twitter/#festa-estranha-com-gente-esquisita&#34;&gt;o tipo de figura que Elon deixou voltar para o Twitter&lt;/a&gt; &amp;ldquo;se crie&amp;rdquo;. A maior parte delas s√£o de vi√©s ao menos progressista.&lt;/p&gt;
&lt;p&gt;Por ser um software livre baseado num padr√£o aberto, nada impede a exist√™ncia de inst√¢ncias malcomportadas ou at√© fascistas, mas a tend√™ncia √© os piores agentes terminarem isolados, bloqueados pelos demais.&lt;/p&gt;
&lt;p&gt;H√° um coment√°rio recorrente de que o fediverso foi feito por &lt;em&gt;furries&lt;/em&gt; e pessoas &lt;em&gt;queer&lt;/em&gt;, da√≠ recursos como &lt;a href=&#34;https://fedi.tips/how-to-use-content-warnings-cws-on-mastodon-and-the-fediverse/&#34;&gt;CW&lt;/a&gt;s e filtros. H√° todo um foco em criar um ambiente seguro. &lt;a href=&#34;https://wedistribute.org/2023/06/a-partial-queer-trans-and-non-binary-history-of-mastodon-and-the-fediverse/&#34;&gt;Longe de ser um para√≠so&lt;/a&gt; para popula√ß√µes marginalizadas, claro, mas √© bem melhor comparativamente que redes comerciais.&lt;/p&gt;
&lt;p&gt;Achei isso √≥timo. Se eu quisesse ler conte√∫do reacion√°rio, entrava no Facebook.&lt;/p&gt;
&lt;h2 id=&#34;a-api&#34;&gt;A API&lt;/h2&gt;
&lt;p&gt;Talvez isso seja altamente subjetivo, mas acho a API do Mastodon muito bem documentada e f√°cil de usar. A do Twitter, acho um pouco mais chata.&lt;/p&gt;
&lt;p&gt;Fora que o imbr√≥glio sobre novos pre√ßos de uso da API do Twitter foi t√£o chato que desisti de acompanhar. N√£o sei mais como est√° isso.&lt;/p&gt;
&lt;h2 id=&#34;filtros&#34;&gt;Filtros&lt;/h2&gt;
&lt;p&gt;Acho os filtros melhores no Mastodon. No Twitter, um conjunto de palavras relacionadas precisa ser silenciada uma a uma. No Mastodon, as palavras de um mesmo tema podem ser listadas num √∫nico filtro e as regras se aplicam ao filtro, n√£o √†s palavras individuais.&lt;/p&gt;
&lt;h2 id=&#34;eventos-ao-vivo&#34;&gt;Eventos ao vivo&lt;/h2&gt;
&lt;p&gt;Esse √© o √∫nico aspecto que julgo o Twitter ainda superior. Eventos como partidas da &lt;a href=&#34;https://www.nfl.com/&#34;&gt;NFL&lt;/a&gt; s√£o comentados por mais pessoas no Twitter. O tipo de coment√°rio tamb√©m √© mais variado. No Mastodon h√° principalmente os coment√°rios tipo &amp;ldquo;mesa de bar&amp;rdquo;. No Twitter h√°, al√©m desses, estat√≠sticas e fatos hist√≥ricos da liga.&lt;/p&gt;
&lt;p&gt;Isso deve melhorar com mais gente no fediverso.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Conclus√£o: deveria ter migrado mais cedo. A experi√™ncia √© melhor em quase todos os aspectos e me devolveu o prazer de estar numa rede social.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.dnalounge.com/backstage/log/2023/10/10.html&#34;&gt;&lt;em&gt;Twitter&lt;/em&gt;&lt;/a&gt; &lt;a href=&#34;https://pt.wikipedia.org/wiki/Carthago_delenda_est&#34;&gt;&lt;em&gt;delenda est&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Considero Facebook, Instagram, Twitter etc. &amp;ldquo;redes de uso geral&amp;rdquo; em oposi√ß√£o a LinkedIn, GitHub, Last.fm etc.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;J√° fiz o teste de manter uma mesma enquete, pelo mesmo tempo, no Twitter e no Mastodon. Neste, recebi 19 votos, naquele, 1 voto. Tenho mais seguidores no Twitter. O n√∫mero de impress√µes tamb√©m sugere que um percentual pequeno dos meus seguidores veem meus tweets.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Responda Por E-mail</title>
      <link>https://gmgall.net/blog/responda-por-e-mail/</link>
      <pubDate>Fri, 26 Jan 2024 11:33:25 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/responda-por-e-mail/</guid>
      <description>&lt;p&gt;Tenho lido ultimamente sobre o valor que as pessoas tiram dos seus blogs e um fator que aparece muito √© o social: com frequ√™ncia as conversas iniciadas por uma postagem s√£o mais profundas que as conversas em redes sociais e √†s vezes as rela√ß√µes que come√ßam com essa troca de ideias s√£o bem duradouras.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;O Kev Quirk fala &lt;a href=&#34;https://kevquirk.com/friends-from-blogging&#34;&gt;dos amigos que fez por conta de ter um blog&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;O Manuel Moreale fala que &lt;a href=&#34;https://manuelmoreale.com/online-conversations&#34;&gt;ainda √© poss√≠vel ter √≥timas conversas &lt;em&gt;online&lt;/em&gt; especialmente se ela for uma conversa privada entre 2 pessoas&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;O Colin Walker fala de como &lt;a href=&#34;https://colinwalker.blog/blog/?date=2023-10-12&#34;&gt;escrever num blog pode ser uma forma de conex√£o interpessoal para pessoas introvertidas&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A Tracy Durnell fala que os blogs oferecem &amp;ldquo;um tipo de comunidade diferente - um ritmo diferente - do que as redes sociais&amp;rdquo; em &lt;a href=&#34;https://tracydurnell.com/2023/09/23/my-20th-anniversary-of-blogging/&#34;&gt;suas pondera√ß√µes sobre os seus 20 anos de &lt;em&gt;blogging&lt;/em&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Minha experi√™ncia √© parecida. Sempre que mandei um e-mail sobre um texto que li num blog, a resposta foi interessante.&lt;/p&gt;
&lt;p&gt;Quero isso tamb√©m. üòä J√° consegui respostas interessantes pelo Mastodon, mas para me mandar um e-mail a pessoa precisava ir at√© a p√°gina com as &lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;informa√ß√µes de contato&lt;/a&gt;, copiar meu endere√ßo de e-mail, abrir o cliente de e-mail, colar meu endere√ßo no campo &amp;ldquo;Para:&amp;rdquo;, pensar num assunto&amp;hellip; Para a√≠, sim, come√ßar a redigir uma mensagem. Burocr√°tico demais, precisava facilitar isso.&lt;/p&gt;
&lt;p&gt;Por isso estou adicionando a partir de hoje um link &lt;em&gt;Responda por e-mail&lt;/em&gt; nos posts, &lt;a href=&#34;https://kevquirk.com/online-conversations-website-engagement/&#34;&gt;como fez o Kev&lt;/a&gt;. O assunto e campo &amp;ldquo;Para:&amp;rdquo; j√° vir√£o preenchidos clicando nele.&lt;/p&gt;
&lt;h2 id=&#34;algumas-d√∫vidas&#34;&gt;Algumas d√∫vidas&lt;/h2&gt;
&lt;p&gt;Para n√£o ser soterrado por spam, n√£o listo meu endere√ßo de e-mail diretamente. Uso Javascript para &lt;a href=&#34;https://en.wikipedia.org/wiki/Obfuscation&#34;&gt;ofuscar&lt;/a&gt; o endere√ßo.&lt;/p&gt;
&lt;p&gt;N√£o gosto dessa solu√ß√£o, √© feia e idealmente as p√°ginas que podem ser est√°ticas, devem ser est√°ticas.&lt;/p&gt;
&lt;p&gt;Implementei isso porque sempre ouvi que listar o endere√ßo diretamente era m√° ideia, por√©m apenas agora, escrevendo essas linhas, que constatei que nunca realmente &lt;strong&gt;testei&lt;/strong&gt; para ver se a quantidade de spam recebido realmente aumentava.&lt;/p&gt;
&lt;p&gt;Ent√£o, pergunto:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Voc√™ mant√©m seu endere√ßo de e-mail em texto plano na web?&lt;/li&gt;
&lt;li&gt;Isso piorou muito a quantidade de spam recebido?&lt;/li&gt;
&lt;li&gt;Voc√™ est√° me lendo agora com Javascript desativado e minha solu√ß√£o te impossibilita de ver o e-mail? (caso queira me avisar, sou gmgall no servi√ßo de e-mail do Google)&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Automatizando Blogroll Com OPML</title>
      <link>https://gmgall.net/blog/automatizando-blogroll-com-opml/</link>
      <pubDate>Wed, 24 Jan 2024 20:51:04 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/automatizando-blogroll-com-opml/</guid>
      <description>&lt;p&gt;TL;DR&lt;/p&gt;
&lt;p&gt;Gero o meu &lt;a href=&#34;https://gmgall.net/blogroll/&#34;&gt;blogroll&lt;/a&gt; a partir de um OPML gerado pelo meu agregador RSS. S√£o 4 etapas:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Gerar o OPML no agregador.&lt;/li&gt;
&lt;li&gt;Filtrar para manter apenas as categorias desejadas no OPML.&lt;/li&gt;
&lt;li&gt;Escrever um &lt;em&gt;shortcode&lt;/em&gt; do Hugo que renderiza o &lt;em&gt;blogroll&lt;/em&gt; a partir do OPML.&lt;/li&gt;
&lt;li&gt;Baixar o arquivo OPML para os diret√≥rios corretos do Hugo antes de gerar o site.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Mais detalhes abaixo.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;H√° uma &lt;a href=&#34;https://liaamancio.com.br/2024/01/07/blogroll-como-no-tempo-da-internet-arte-internet-moleque/&#34;&gt;tend√™ncia&lt;/a&gt; &lt;a href=&#34;https://www.lireo.com/bringing-back-the-blogroll/&#34;&gt;recente&lt;/a&gt; &lt;a href=&#34;https://blog.cadusilva.com/blogroll&#34;&gt;interessante&lt;/a&gt; em sites pessoais e blogs: o ressurgimento dos &lt;em&gt;blogrolls&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Acho uma ideia excelente, uma forma de &lt;a href=&#34;https://tomcritchlow.com/2022/04/21/new-rss/&#34;&gt;aumentar a √°rea de superf√≠cie do &lt;em&gt;blogging&lt;/em&gt;&lt;/a&gt;, de fazer as pessoas descobrirem mais conte√∫do em sites pessoais.&lt;/p&gt;
&lt;p&gt;Fiz um &lt;a href=&#34;https://gmgall.net/blogroll/&#34;&gt;blogroll para chamar de meu tamb√©m&lt;/a&gt;, mas a forma como gero o meu n√£o √© manual. Como leio a Indie Web principalmente por &lt;a href=&#34;https://gmgall.net/tags/rss/&#34;&gt;RSS&lt;/a&gt;, pensei em oferecer tamb√©m um link para um arquivo &lt;a href=&#34;http://opml.org/&#34;&gt;OPML&lt;/a&gt; com os &lt;em&gt;feeds&lt;/em&gt; dos sites no &lt;em&gt;blogroll&lt;/em&gt; para que fosse poss√≠vel subscri√ß√£o em todos os sites de uma vez s√≥.&lt;/p&gt;
&lt;p&gt;Penso que essa possibilidade √© uma boa para quem est√° conhecendo RSS s√≥ agora ou perdeu o h√°bito de acompanhar as atualiza√ß√µes dos sites por um agregador (ol√°, vi√∫vas do Google Reader, tudo bem por a√≠? üëã).&lt;/p&gt;
&lt;p&gt;O &lt;strong&gt;1¬∫ passo&lt;/strong&gt; para gerar o &lt;em&gt;blogroll&lt;/em&gt; seria exportar meus &lt;em&gt;feeds&lt;/em&gt; num arquivo OPML. Uso o &lt;a href=&#34;https://freshrss.org/&#34;&gt;FreshRSS&lt;/a&gt;, que tem uma &lt;a href=&#34;https://github.com/FreshRSS/FreshRSS/tree/edge/cli&#34;&gt;ferramenta de linha de comando&lt;/a&gt; chamada &lt;code&gt;export-opml-for-user.php&lt;/code&gt; para isso.&lt;/p&gt;
&lt;p&gt;Eu poderia usar o arquivo OPML que ela gera diretamente, mas preciso dar uma limpada legal nos &lt;em&gt;feeds&lt;/em&gt; em que estou inscrito. Tem muitos sites sem atualiza√ß√£o h√° anos e &lt;em&gt;feeds&lt;/em&gt; quebrados ali. Pensei em s√≥ manter no OPML algumas categorias e fazer uma curadoria mais cuidadosa dessas que vou manter. Ent√£o o &lt;strong&gt;2¬∫ passo&lt;/strong&gt; √© filtrar esse arquivo OPML que o FreshRSS gera.&lt;/p&gt;
&lt;p&gt;Isso √© relativamente f√°cil com de fazer em &lt;a href=&#34;https://docs.python.org/3/library/xml.etree.elementtree.html&#34;&gt;Python&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/python3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; sys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; xml.etree.ElementTree &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; ET
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tree &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ET&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;parse(sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdin)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tree&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;getroot()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;body &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; root&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;body&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;categories &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;argv[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; category &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; body&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;findall(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;outline&amp;#39;&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; category&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;attrib&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;get(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;text&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; categories:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        body&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;remove(category)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tree&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;buffer, encoding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;, xml_declaration&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O script acima l√™ OPML da &lt;code&gt;stdin&lt;/code&gt; e escreve na &lt;code&gt;stdout&lt;/code&gt; o mesmo OPML com apenas as categorias passadas como argumentos.&lt;/p&gt;
&lt;p&gt;Ent√£o, supondo que o script acima esteja num arquivo chamado &lt;code&gt;filter_opml.py&lt;/code&gt;, o comando abaixo grava em &lt;code&gt;blogroll.xml&lt;/code&gt; um arquivo OPML s√≥ com as categorias &lt;code&gt;Fediverso lus√≥fono&lt;/code&gt; e &lt;code&gt;ctrl-c.club&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./export-opml-for-user.php --user gmgall | python filter_opml.py &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Fediverso lus√≥fono&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ctrl-c.club&amp;#39;&lt;/span&gt; &amp;gt; blogroll.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Tendo esse arquivo dispon√≠vel, √© &amp;ldquo;f√°cil&amp;rdquo; consumi-lo no &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;. Ele permite guardar arquivos no diret√≥rio &lt;code&gt;data&lt;/code&gt; que ter√£o seus dados expostos nos templates, ent√£o √© &amp;ldquo;s√≥&amp;rdquo; quest√£o de copiar meu arquivo OPML para &lt;code&gt;data&lt;/code&gt; e consumi-los com algo como &lt;code&gt;{{ $body := .Site.Data.blogroll.body }}&lt;/code&gt;, certo?&lt;/p&gt;
&lt;p&gt;Sim, mas n√£o achei intuitivo fazer isso. Saiu, mas teve alguma tentativa e erro envolvidas. A &lt;a href=&#34;https://github.com/gohugoio/hugo/commit/0eaaa8fee37068bfc8ecfb760f770ecc9a7af22a&#34;&gt;mensagem de commit&lt;/a&gt; na implementa√ß√£o dessa funcionalidade cita casos simples, em que se recupera o &lt;strong&gt;conte√∫do&lt;/strong&gt; de tags XML. O padr√£o OPML traz as informa√ß√µes quase todas como &lt;strong&gt;atributos&lt;/strong&gt;. Voc√™ precisa usar a &lt;a href=&#34;https://gohugo.io/functions/index-function/&#34;&gt;fun√ß√£o &lt;code&gt;index&lt;/code&gt; do Hugo&lt;/a&gt; para acessar os atributos e eles viram chaves com nomes iniciados por &lt;code&gt;-&lt;/code&gt; nos templates. Recomendo ler o que o &lt;a href=&#34;https://brainbaking.com/post/2022/01/generating-a-blogroll-with-opml-in-hugo/#hugo-and-xml-parsing&#34;&gt;Wouter Groeneveld escreveu sobre&lt;/a&gt;. Ap√≥s brigar um pouco com isso, saiu o &lt;a href=&#34;https://gohugo.io/content-management/shortcodes/&#34;&gt;&lt;em&gt;shortcode&lt;/em&gt;&lt;/a&gt; abaixo, o &lt;strong&gt;3¬∫ passo&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;body&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; .&lt;span style=&#34;color:#a6e22e&#34;&gt;Site&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Data&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;blogroll&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;body&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;body&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;outline&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;text&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; . &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-text&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;h2&lt;/span&gt;&amp;gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;text&lt;/span&gt; }}&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;h2&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ul&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; .&lt;span style=&#34;color:#a6e22e&#34;&gt;outline&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_text&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; . &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-text&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_description&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; . &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-description&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_htmlUrl&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; . &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-htmlUrl&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      {{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_xmlUrl&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt; . &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-xmlUrl&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;li&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;href&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ $feed_htmlUrl }}&amp;#34;&lt;/span&gt;&amp;gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_text&lt;/span&gt; }}&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;&amp;gt; &amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;href&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ $feed_xmlUrl }}&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;alt&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;O logo do RSS.&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/img/rss.svg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;height&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;12&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;width&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;12&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;style&lt;/span&gt;=&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;display: inline&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;&amp;gt; {{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;feed_description&lt;/span&gt; }}&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;li&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {{ &lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ul&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Esse &lt;em&gt;shortcode&lt;/em&gt; quebra nos casos em que uma categoria tem um √∫nico &lt;em&gt;feed&lt;/em&gt; ou caso &lt;code&gt;body&lt;/code&gt; possua uma √∫nica categoria. Vi quem preferisse &lt;a href=&#34;https://nikdoof.com/posts/2022/automating-a-blogroll-in-hugo/#the-script&#34;&gt;transformar o OPML em JSON antes de process√°-lo&lt;/a&gt; com o Hugo. Tendo enfrentado esses probleminhas, entendo a motiva√ß√£o.&lt;/p&gt;
&lt;p&gt;Chamei esse &lt;em&gt;shortcode&lt;/em&gt; de &lt;code&gt;blogroll&lt;/code&gt; e isso me permite renderiz√°-lo em qualquer arquivo de conte√∫do desse site com &lt;code&gt;{{&amp;lt; blogroll &amp;gt;}}&lt;/code&gt;. Vou renderiz√°-lo entre 2 linhas horizontais abaixo:&lt;/p&gt;
&lt;hr&gt;


  &lt;h2&gt;ctrl-c.club&lt;/h2&gt;
  &lt;ul&gt;
      &lt;li&gt;&lt;a href=&#34;https://ctrl-c.club/~chiptune/blog/&#34;&gt;~chiptune posts on ctrl-c.club&lt;/a&gt; &lt;a href=&#34;https://ctrl-c.club/~gmgall/feeds/chiptune.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; chiptune&amp;#39;s blog&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://ctrl-c.club/~FikaMedHasse/blog.html&#34;&gt;~FikaMedHasse posts on ctrl-c.club&lt;/a&gt; &lt;a href=&#34;https://ctrl-c.club/~gmgall/feeds/FikaMedHasse.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Blog!&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://ctrl-c.club/~gome/journal/&#34;&gt;~gome posts on ctrl-c.club&lt;/a&gt; &lt;a href=&#34;https://ctrl-c.club/~gmgall/feeds/gome.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; gome ‚Äî journal&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://ctrl-c.club/~lettuce/&#34;&gt;~lettuce posts on ctrl-c.club&lt;/a&gt; &lt;a href=&#34;https://ctrl-c.club/~gmgall/feeds/lettuce.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; /home/lettuce/public_html/index.html&lt;/li&gt;
    
  &lt;/ul&gt;

  &lt;h2&gt;Fediverso lus√≥fono&lt;/h2&gt;
  &lt;ul&gt;
      &lt;li&gt;&lt;a href=&#34;https://blog.cadusilva.com/&#34;&gt;Blog do Cadu Silva&lt;/a&gt; &lt;a href=&#34;https://blog.cadusilva.com/feed&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Site pessoal de Cadu Silva. Aqui voc√™ encontra especialmente textos sobre tecnologia.&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://www.brunoarine.com/posts/&#34;&gt;Blog on Bruno Arine&lt;/a&gt; &lt;a href=&#34;https://brunoarine.com/posts/index.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Recent content in Blog on Bruno Arine&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://crieaporradeum.blog/&#34;&gt;Crie a Porra de um Blog&lt;/a&gt; &lt;a href=&#34;https://crieaporradeum.blog/index.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Recent content on Crie a Porra de um Blog&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://escrevescreve.wordpress.com/&#34;&gt;escrevescreve ‚Äì cecilia giannetti&lt;/a&gt; &lt;a href=&#34;https://gmgall.github.io/feeds/escrevescreve.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; cecilia giannetti&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://blog.ayom.media/felipe-siles/&#34;&gt;Felipe Siles&lt;/a&gt; &lt;a href=&#34;https://blog.ayom.media/felipe-siles/feed/&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Espero que seja √∫til&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;http://helio.loureiro.eng.br/index.php&#34;&gt;Home - helio.loureiro.eng.br&lt;/a&gt; &lt;a href=&#34;http://helio.loureiro.eng.br/index.php?format=feed&amp;amp;type=rss&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Helio Loureiro - site pessoal, blog, informa√ß√µes, scripts, unix, linux, receitas t√©cnicas, python, cyberativismo e outros&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://kiff.blog/&#34;&gt;Kiff&lt;/a&gt; &lt;a href=&#34;https://kiff.blog/rss&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; No more empty sketchbooks. Gallery of drawings and sketches produced during 2021, in an attempt to be daily studies.&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://liaamancio.com.br/&#34;&gt;Lia Amancio&lt;/a&gt; &lt;a href=&#34;https://liaamancio.com.br/feed/&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Desde 2001 servindo conte√∫do de qualidade na internet.&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://www.memedecarbono.com.br/&#34;&gt;Meme de Carbono&lt;/a&gt; &lt;a href=&#34;https://www.memedecarbono.com.br/feed/&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; Os √°tomos e ideias que constroem a consci√™ncia&lt;/li&gt;
    
      &lt;li&gt;&lt;a href=&#34;https://sol2070.in/&#34;&gt;sol2070&lt;/a&gt; &lt;a href=&#34;https://sol2070.in/feed/notes.xml&#34;&gt;&lt;img alt=&#34;O logo do RSS.&#34; src=&#34;https://gmgall.net/img/rss.svg&#34; height=&#34;12&#34;  width=&#34;12&#34; style=&#34;display: inline&#34;&gt;&lt;/a&gt; &lt;/li&gt;
    
  &lt;/ul&gt;


&lt;hr&gt;
&lt;p&gt;Falta s√≥ baixar o arquivo OPML para o diret√≥rio &lt;code&gt;data&lt;/code&gt; (para que os dados fiquem dispon√≠veis para o &lt;em&gt;shortcode&lt;/em&gt; &lt;code&gt;blogroll&lt;/code&gt;) e para o diret√≥rio &lt;code&gt;static&lt;/code&gt; (para que ele fique dispon√≠vel para download) a cada gera√ß√£o do site. Como uso &lt;a href=&#34;https://docs.github.com/en/actions&#34;&gt;GitHub Actions&lt;/a&gt;, o &lt;strong&gt;4¬∫ passo&lt;/strong&gt; √© adicionar uma etapa no &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/.github/workflows/gh-pages-deployment.yml&#34;&gt;workflow de gera√ß√£o desse site&lt;/a&gt; que coloca o arquivo nesses diret√≥rios.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Download OPML for blogroll&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;run&lt;/span&gt;: |&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    wget &amp;#39;${{ secrets.OPML_URL }}&amp;#39; -O data/blogroll.xml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    cp data/blogroll.xml static/blogroll.xml&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Isso √© tudo.&lt;/p&gt;
&lt;p&gt;E a√≠? Voc√™ tem um &lt;em&gt;blogroll&lt;/em&gt;? J√° pensou em oferecer um OPML para facilitar a inscri√ß√£o em todos os &lt;em&gt;feeds&lt;/em&gt; de uma vez s√≥?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Ombuds, G√™nero Neutro e Status Codes</title>
      <link>https://gmgall.net/blog/ombuds-genero-neutro-status-codes/</link>
      <pubDate>Thu, 18 Jan 2024 23:27:14 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/ombuds-genero-neutro-status-codes/</guid>
      <description>&lt;p&gt;A &lt;a href=&#34;https://en.wikipedia.org/wiki/ICANN&#34;&gt;ICANN&lt;/a&gt; removeu o -man de &lt;em&gt;ombudsman&lt;/em&gt;. A entidade agora chama a pessoa com esse cargo simplesmente de &lt;em&gt;ombuds&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Parece ser uma tentativa de usar um termo de g√™nero neutro. O cargo na ICANN, inclusive, √© &lt;a href=&#34;https://www.icann.org/resources/pages/about-2012-02-25-en&#34;&gt;ocupado por uma mulher&lt;/a&gt; no momento em que escrevo essas linhas.&lt;/p&gt;
&lt;p&gt;Por que n√£o &amp;ldquo;neutralizar&amp;rdquo; o termo com &lt;a href=&#34;https://www.merriam-webster.com/dictionary/ombudsperson&#34;&gt;&lt;em&gt;ombudsperson&lt;/em&gt;&lt;/a&gt; ou usar um substantivo que se refira s√≥ a mulheres como &lt;a href=&#34;https://www.merriam-webster.com/dictionary/ombudswoman&#34;&gt;&lt;em&gt;ombudswoman&lt;/em&gt;&lt;/a&gt;? Ambos aparecem no dicion√°rio Merriam-Webster. S√≥ &lt;em&gt;ombuds&lt;/em&gt;, n√£o.&lt;/p&gt;
&lt;p&gt;Acontece que &lt;em&gt;ombudsman&lt;/em&gt; n√£o √© um termo originalmente da l√≠ngua inglesa, √© da l√≠ngua sueca. E parece que √© um substantivo que pode se referir a pessoas que se identificam com qualquer g√™nero. Pelo que &lt;a href=&#34;https://translate.google.com.br/?sl=pt&amp;amp;tl=sv&amp;amp;text=um%20professor%0Auma%20professora%0A%0Aum%20m%C3%A9dico%0Auma%20m%C3%A9dica%0A%0Aum%20escultor%0Auma%20escultora%0A%0Aum%20artista%0Auma%20artista&amp;amp;op=translate&#34;&gt;testei rapidamente no Google Tradutor&lt;/a&gt;, as palavras que se referem a seres humanos est√£o quase todas no &lt;a href=&#34;https://pt.wikipedia.org/wiki/L%C3%ADngua_sueca#2._Dois_g%C3%A9neros:_comum_e_neutro&#34;&gt;g√™nero comum&lt;/a&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;, independente do g√™nero em que a pessoa se classifique.&lt;/p&gt;
&lt;p&gt;A &lt;a href=&#34;https://www1.folha.uol.com.br/ombudsman/2018/01/1789462-nome-da-funcao-e-comum-aos-dois-generos.shtml&#34;&gt;Folha&lt;/a&gt; j√° teve homens e mulheres na posi√ß√£o de &lt;code&gt;ombuds(man)?&lt;/code&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; e usa a forma &lt;em&gt;ombudsman&lt;/em&gt; para ambos, com plural &lt;em&gt;ombudsmans&lt;/em&gt;, inclusive. Nada da forma estadunidense &lt;em&gt;ombudsperson&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;A solu√ß√£o da ICANN me parece a mais interessante porque evita o enxerto dos sufixos -woman e -person numa palavra de um idioma que n√£o √© o ingl√™s. Parece-me uma forma de conseguir um termo neutro sem se render a um certo colonialismo lingu√≠stico&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; do ingl√™s.&lt;/p&gt;
&lt;p&gt;Por√©m, parece que nem a pr√≥pria ICANN est√° muito certa de que seguir√° com esse uso. Digo isso porque &lt;a href=&#34;https://www.icann.org/ombudsman&#34;&gt;https://www.icann.org/ombudsman&lt;/a&gt; redireciona para &lt;a href=&#34;https://www.icann.org/ombuds&#34;&gt;https://www.icann.org/ombuds&lt;/a&gt;, mas com um &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302&#34;&gt;302 Found&lt;/a&gt; (tamb√©m conhecido como &lt;em&gt;302 Moved Temporarily&lt;/em&gt; no HTTP/1.0).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ http &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;www.icann.org/ombudsman&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HTTP/1.0 &lt;span style=&#34;color:#ae81ff&#34;&gt;302&lt;/span&gt; Moved Temporarily
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Connection: Keep-Alive
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Length: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Location: https://www.icann.org/ombudsman
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Server: Apache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;E n√£o √© como se eles n√£o conhecessem o status &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301&#34;&gt;301 Moved Permanently&lt;/a&gt;, porque √© o status usado para redirecionar de &lt;a href=&#34;https://icann.org&#34;&gt;https://icann.org&lt;/a&gt; para &lt;a href=&#34;https://www.icann.org&#34;&gt;https://www.icann.org&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ http &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;icann.org&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HTTP/1.1 &lt;span style=&#34;color:#ae81ff&#34;&gt;301&lt;/span&gt; Moved Permanently
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Cache-Control: max-age&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;345600&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Connection: Keep-Alive
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Length: &lt;span style=&#34;color:#ae81ff&#34;&gt;230&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Content-Type: text/html; charset&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iso-8859-1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Date: Fri, &lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt; Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;2024&lt;/span&gt; 02:16:56 GMT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Expires: Tue, &lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt; Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;2024&lt;/span&gt; 02:16:56 GMT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Keep-Alive: timeout&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;2, max&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;358&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Location: https://www.icann.org/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Server: Apache
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;!DOCTYPE HTML PUBLIC &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-//IETF//DTD HTML 2.0//EN&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;title&amp;gt;301 Moved Permanently&amp;lt;/title&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;h1&amp;gt;Moved Permanently&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;p&amp;gt;The document has moved &amp;lt;a href&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.icann.org/&amp;#34;&lt;/span&gt;&amp;gt;here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Independentemente do que seria &amp;ldquo;o mais certo&amp;rdquo; gramaticalmente, sabemos que o termo escolhido deveria ser o que &lt;strike&gt;irritasse mais conservadores que s√£o contra&lt;/strike&gt;
 promovesse uma linguagem mais inclusiva. Essa quest√£o, no entanto, n√£o parece fechada ainda nesse caso.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;O outro g√™nero √© o g√™nero neutro. Mais sobre os g√™neros neutro e comum no sueco em &lt;a href=&#34;http://www.aprendasueco.com.br/2019/04/en-ett.html&#34;&gt;http://www.aprendasueco.com.br/2019/04/en-ett.html&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://aurelio.net/regex/&#34;&gt;Regex&lt;/a&gt; que casa &lt;em&gt;ombuds&lt;/em&gt; e &lt;em&gt;ombudsman&lt;/em&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;Sim, estou ciente de que √© uma birra muito arbitr√°ria. As l√≠nguas mudam e se influenciam mutuamente com o passar do tempo.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Publicar na Web Precisa Ficar Mais F√°cil</title>
      <link>https://gmgall.net/blog/publicar-na-web-precisa-ficar-mais-facil/</link>
      <pubDate>Mon, 15 Jan 2024 14:24:58 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/publicar-na-web-precisa-ficar-mais-facil/</guid>
      <description>&lt;p&gt;Acho importante que as pessoas tenham &lt;a href=&#34;https://crieaporradeum.blog/&#34;&gt;seu pr√≥prio canto na web&lt;/a&gt;. A &lt;a href=&#34;https://www.gmgall.net/blog/tchau-twitter/#n%C3%A3o-quero-uma-web-centralizada&#34;&gt;centraliza√ß√£o de tudo nos condom√≠nios murados das &lt;em&gt;big techs&lt;/em&gt; virou a regra do jogo&lt;/a&gt; e precisamos desfaz√™-la.&lt;/p&gt;
&lt;p&gt;Dito isso, acho que o &lt;a href=&#34;https://gilest.org/&#34;&gt;Giles&lt;/a&gt; fez um ponto excelente em &lt;a href=&#34;https://gilest.org/indie-easy.html&#34;&gt;&lt;em&gt;Let‚Äôs make the indie web easier&lt;/em&gt;&lt;/a&gt;: em termos de ferramentas, precisamos de mais do que o Wordpress. N√£o estamos prontos ainda para afirmar que publicar independentemente √© t√£o simples quanto publicar numa &lt;a href=&#34;https://en.wikipedia.org/wiki/Enshittification&#34;&gt;plataforma decadente&lt;/a&gt; qualquer.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We need more self-hosted platforms for personal publishing that aren‚Äôt Wordpress. And don‚Äôt point me to Hugo or Netlify or Eleventy or all those things - all of them are great, but none of them are simple enough. We need web publishing tools that do not require users to open the Terminal at all. And we need lots of them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ele vai contra o que eu aconselho no geral, que s√£o &lt;a href=&#34;https://staticsitegenerators.net/&#34;&gt;geradores de sites est√°ticos&lt;/a&gt;, porque entrar comandos numa interface de linha de comando assusta a maior parte das pessoas.&lt;/p&gt;
&lt;p&gt;Entendo e at√© concordo com esse argumento, mas entre a complexidade de aprender poucos comandos uma √∫nica vez e depois ter s√≥ que servir arquivos est√°ticos e a complexidade de instalar e manter uma &lt;a href=&#34;https://en.wikipedia.org/wiki/LAMP_(software_bundle)&#34;&gt;pilha LAMP&lt;/a&gt;, eu julgo que a segunda √© maior.&lt;/p&gt;
&lt;p&gt;Mesmo que voc√™ argumente que pode pagar por um servi√ßo que oculte a pilha para voc√™, migrar o site de lugar exige um &lt;em&gt;dump&lt;/em&gt; de uma base de dados de um servidor e a restaura√ß√£o dela em outro. Backups nem sempre s√£o inclusos nos servi√ßos, ent√£o voc√™ precisa pagar extra ou aprender a usar uma outra ferramenta para fazer&amp;hellip; Realmente n√£o acho que o Wordpress ofere√ßa esse &amp;ldquo;mar de facilidade&amp;rdquo; que pintam se a inten√ß√£o √© tornar as pessoas independentes para publicar e donas de seu canto na web.&lt;/p&gt;
&lt;p&gt;Sempre vou achar - e talvez isso sejam os anos de &lt;em&gt;sysadmin&lt;/em&gt; falando - que um diret√≥rio com arquivos est√°ticos que voc√™ copia para qualquer lugar e serve com qualquer servidor √© a solu√ß√£o mais f√°cil e que d√° mais independ√™ncia para o usu√°rio. Se eu precisar tirar meu site do &lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub Pages&lt;/a&gt;, provavelmente vai demorar mais tempo para propagar as altera√ß√µes no DNS do que para copiar os arquivos. Se eu usasse Wordpress, n√£o seria t√£o f√°cil.&lt;/p&gt;
&lt;p&gt;Mas divago. O ponto n√£o √© fazer um ataque ao Wordpress, que √© um CMS competente e tem o seu espa√ßo, mas que parece que faltam alternativas para muitas pessoas que desejam ter o seu pr√≥prio site. Eu, como o Giles, n√£o sei dizer que alternativa √© essa. Talvez ela ainda precise ser criada.&lt;/p&gt;
&lt;p&gt;Qual sua opini√£o sobre isso? Que software ou servi√ßo voc√™ recomenda para quem quer ter o seu site pessoal? Qual seria o &lt;em&gt;sweet spot&lt;/em&gt; entre uma cole√ß√£o de arquivos est√°ticos e um CMS cheio de partes m√≥veis?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ActivityPub, Meta e Espantalhos</title>
      <link>https://gmgall.net/blog/activitypub-meta-e-espantalhos/</link>
      <pubDate>Fri, 05 Jan 2024 13:10:58 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/activitypub-meta-e-espantalhos/</guid>
      <description>&lt;p&gt;Existem muitos textos sobre a entrada da Meta no &lt;a href=&#34;https://fedi.tips/what-is-mastodon-what-is-the-fediverse/&#34;&gt;fediverso&lt;/a&gt;, este √© mais um. Cometo este aqui na tend√™ncia que pretendo seguir de &lt;a href=&#34;https://gmgall.net/blog/resolucao-para-2024/&#34;&gt;escrever mais livremente por aqui&lt;/a&gt;. N√£o tem muita revis√£o, foi baseado num &lt;em&gt;toot&lt;/em&gt; e nem de longe pretendo exaurir o assunto. Tem at√© um tom de desabafo.&lt;/p&gt;
&lt;p&gt;Recentemente chegou um post de um administrador de inst√¢ncia&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; - que respeito e geralmente gosto de ler - no agregador RSS aqui. Ele explica no texto porque a inst√¢ncia dele n√£o vai desfederar a Meta por enquanto.&lt;/p&gt;
&lt;p&gt;Vai rebatendo v√°rios argumentos a favor da desfedera√ß√£o. Fala de privacidade, de an√∫ncios e de gente que baseia sua opini√£o s√≥ em &amp;ldquo;n√£o queremos eles aqui&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;N√£o&lt;/strong&gt; fala de &lt;a href=&#34;https://en.wikipedia.org/wiki/Embrace,_extend,_and_extinguish&#34;&gt;&lt;em&gt;embrace, extend and extinguish&lt;/em&gt;&lt;/a&gt;. &lt;strong&gt;N√£o&lt;/strong&gt; fala do risco que uma inst√¢ncia gigantesca de uma &lt;em&gt;big tech&lt;/em&gt; representa para o fediverso.&lt;/p&gt;
&lt;p&gt;Honestamente - e essa √© a parte do desabafo - fico aqui matutando se nessa altura do campeonato algumas pessoas n√£o est√£o simplesmente fazendo &lt;a href=&#34;https://pt.wikipedia.org/wiki/Fal%C3%A1cia_do_espantalho&#34;&gt;espantalhos&lt;/a&gt; dos argumentos de quem √© contra as inst√¢ncias de &lt;em&gt;big techs&lt;/em&gt;, para que eles pare√ßam mais burros ou desnecessariamente radicais.&lt;/p&gt;
&lt;p&gt;Digo isso porque o cara veio de uma inst√¢ncia focada em software &lt;em&gt;open source&lt;/em&gt;, ele √© um administrador (ou seja, tem profici√™ncia t√©cnica)&amp;hellip; Certamente ele j√° teve contato com argumentos mais importantes do que os que escolheu rebater. H√° uma pilha de esterco no meio da sala e ele escolheu falar das cortinas.&lt;/p&gt;
&lt;p&gt;N√£o vou nomear a pessoa, nem linkar para o texto porque eu posso estar cometendo uma grande injusti√ßa. Assumir m√° vontade onde realmente pode existir s√≥ ignor√¢ncia √© horr√≠vel. S√≥ que nesse caso espec√≠fico, uma pessoa n√£o leiga, interagindo com frequ√™ncia com programadores e &lt;em&gt;sysadmins&lt;/em&gt;&amp;hellip; Fica bem limitado o espa√ßo para ignor√¢ncia.&lt;/p&gt;
&lt;p&gt;Para n√£o dizer que esse texto √© s√≥ um resmungo&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;o-risco-de-servidores-gigantes-numa-federa√ß√£o&#34;&gt;O risco de servidores gigantes numa federa√ß√£o&lt;/h2&gt;
&lt;p&gt;Percebeu que o t√≠tulo acima n√£o fala em &amp;ldquo;fediverso&amp;rdquo;? Nem em &amp;ldquo;inst√¢ncias&amp;rdquo;? √â porque eu n√£o quero que voc√™ pense em &lt;a href=&#34;https://pt.wikipedia.org/wiki/ActivityPub&#34;&gt;ActivityPub&lt;/a&gt;, Mastodon e seus amigos no momento.&lt;/p&gt;
&lt;p&gt;Pense no servi√ßo de e-mail e no protocolo &lt;a href=&#34;https://pt.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol&#34;&gt;SMTP&lt;/a&gt;. √â um protocolo aberto, qualquer um pode escrever softwares que &amp;ldquo;falem&amp;rdquo; SMTP, existem v√°rios softwares livres que o implementam&amp;hellip; Deve ser f√°cil entrar nessa &amp;ldquo;federa√ß√£o&amp;rdquo; do e-mail, n√©? Ter o seu pr√≥prio servidor para voc√™, para sua fam√≠lia ou empresa&amp;hellip;&lt;/p&gt;
&lt;p&gt;Errado. Em 2024 √© um inferno manter o seu pr√≥prio servidor. &lt;a href=&#34;https://cfenollosa.com/blog/after-self-hosting-my-email-for-twenty-three-years-i-have-thrown-in-the-towel-the-oligopoly-has-won.html&#34;&gt;Tem gente experiente desistindo&lt;/a&gt;. O bom senso √© usar os servi√ßos de um &lt;em&gt;player&lt;/em&gt; maior para lidar com e-mail para voc√™.&lt;/p&gt;
&lt;p&gt;Por qu√™? Porque eles podem. Problemas de entrega de mensagens, mensagens sendo classificadas como &lt;em&gt;spam&lt;/em&gt; arbitrariamente, seu IP caindo em &lt;em&gt;blacklists&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&amp;hellip; Tudo isso rola mesmo com quem &amp;ldquo;faz tudo certo&amp;rdquo;. Qual exatamente a motiva√ß√£o dos grandes &lt;em&gt;players&lt;/em&gt; para tratarem os servidores pequenos com equidade? Boa sorte convencendo seus usu√°rios de que uma mensagem n√£o chegou por culpa do Google, n√£o sua.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;√â perfeitamente poss√≠vel ter um oligop√≥lio em que o pequeno n√£o entra mesmo com protocolos abertos.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Citando &lt;a href=&#34;https://fosstodon.org/@prma&#34;&gt;@prma@fosstodon.org&lt;/a&gt; &lt;a href=&#34;https://fosstodon.org/@prma/111651240157863347&#34;&gt;em 27/12/2023&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Have you considered that when threads becomes a fact of fediverse, they will be the ones that dictate how activitypub-based federation is going to go? Most users of activitypub will be threads users and for those that post-threads activitypub users, well behaved communication with threads will become the expectation, even if the misbehaving is caused by threads.
If you don&amp;rsquo;t think so, just consider gmail and chrome as they basically dictate the norms of usage of the open standards.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Leia mais sobre os riscos que &lt;em&gt;big techs&lt;/em&gt; representam em &lt;a href=&#34;https://ploum.net/2023-06-23-how-to-kill-decentralised-networks.html&#34;&gt;&lt;em&gt;How to Kill a Decentralised Network (such as the Fediverse)&lt;/em&gt;&lt;/a&gt;. Aqui aparecem XMPP, OOXML e Kerberos&amp;hellip; Para n√£o dizerem que e-mail √© um exemplo isolado.&lt;/p&gt;
&lt;h2 id=&#34;o-espantalho&#34;&gt;O espantalho&lt;/h2&gt;
&lt;p&gt;O autor do texto l√° falou algo que ao menos tangenciou as preocupa√ß√µes acima? N√£o. Ele falou em&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;privacidade&#34;&gt;Privacidade&lt;/h3&gt;
&lt;p&gt;O Mastodon (e outras redes no fediverso) possui uma API aberta e a maior parte das coisas postadas l√° s√£o com privacidade p√∫blica. Sabemos disso. Esse n√£o √© o cerne da quest√£o. Pr√≥xima.&lt;/p&gt;
&lt;h3 id=&#34;an√∫ncios&#34;&gt;An√∫ncios&lt;/h3&gt;
&lt;p&gt;Todos os lados concordam que s√£o chatos e sabemos que mostrar an√∫ncios √© fonte de renda para Meta. Esse n√£o √© o cerne da quest√£o. Pr√≥xima.&lt;/p&gt;
&lt;h3 id=&#34;n√£o-queremos-eles-aqui&#34;&gt;&amp;ldquo;N√£o queremos eles aqui&amp;rdquo;&lt;/h3&gt;
&lt;p&gt;Esse √© talvez o mais irritante porque tenta pintar os que s√£o a favor da desfedera√ß√£o como birrentos, como intransigentes incapazes de aceitar os &amp;ldquo;impuros&amp;rdquo; que v√™m de redes comerciais.&lt;/p&gt;
&lt;p&gt;Se voc√™ leu at√© aqui. Se entendeu o que rolou com e-mail, XMPP, OOXML&amp;hellip; Voc√™ n√£o pode honestamente dizer que o nosso ponto √© &amp;ldquo;tira a Meta daqui porque eles s√£o bobos, feios e cara de mel√£o&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Voc√™ tem o direito de achar que nossas preocupa√ß√µes s√£o exageradas ou que simplesmente n√£o se aplicam ao fediverso, que o ActivityPub √© um protocolo especial em alguma forma, mas n√£o pode dizer que o que est√° sendo defendido √© s√≥ um &lt;em&gt;gatekeeping&lt;/em&gt; besta de &amp;ldquo;n√£o gostamos da Meta, sai daqui&amp;rdquo;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Bom, √© o que eu tinha sobre esse assunto por hoje. Se o tom aqui pareceu mais espont√¢neo, √© porque foi mesmo. Talvez nenhuma inten√ß√£o de fazer espantalho tenha existido por parte do autor que motivou esse post, talvez eu tenha exagerado.&lt;/p&gt;
&lt;p&gt;Infelizmente quanto mais penso nisso, mais me parece que n√£o. Quis falar sobre.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;N√£o brasileira.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;em&gt;Blacklists&lt;/em&gt; ali√°s que podem ter pr√°ticas de mil√≠cia, &lt;a href=&#34;https://blog.roastidio.us/posts/spam_blacklists_are_out_of_control/&#34;&gt;cobrando por prote√ß√£o&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;Quem realmente &lt;a href=&#34;https://erinkissane.com/untangling-threads&#34;&gt;se debru√ßou sobre os aspectos √©ticos da quest√£o&lt;/a&gt; pode cham√°-los de muito mais que &amp;ldquo;bobos e feios&amp;rdquo;&amp;hellip;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Uma Resolu√ß√£o Para Esse Site em 2024</title>
      <link>https://gmgall.net/blog/resolucao-para-2024/</link>
      <pubDate>Tue, 02 Jan 2024 03:40:44 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/resolucao-para-2024/</guid>
      <description>&lt;p&gt;N√£o fiz resolu√ß√µes&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; de ano novo. N√£o porque eu n√£o tenha nada que queira melhorar na minha vida, mas porque eu j√° iniciei o processo de melhora em 2023. Considerarei 2024 um bom ano se eu seguir na trajet√≥ria tra√ßada ano passado.&lt;/p&gt;
&lt;p&gt;Um &lt;a href=&#34;https://bt.ht/posts/dump/&#34;&gt;texto que li pouco antes da virada&lt;/a&gt;, no entanto, me serviu como &amp;ldquo;pux√£o de orelha&amp;rdquo; e me fez estabelecer uma meta para esse site nesse ano vindouro: quero escrever mais aqui, quero que isso aqui seja mais um &lt;a href=&#34;https://bt.ht/posts/dump/#whatsabraindump&#34;&gt;&lt;em&gt;brain dump&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Eu, em muitas situa√ß√µes no ano passado, escrevi um fio no &lt;a href=&#34;https://ursal.zone/@gmgall&#34;&gt;Mastodon&lt;/a&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; sobre algo que poderia ser um post ou deixei ideias de textos incompletas em notas no &lt;a href=&#34;https://joplinapp.org/&#34;&gt;Joplin&lt;/a&gt;. A 1¬™ op√ß√£o √© melhor do que n√£o me expressar, mas ambas v√™m de um perfeccionismo besta, de ficar me questionando se o que escrevi est√° num &amp;ldquo;formato bom&amp;rdquo; para virar post.&lt;/p&gt;
&lt;p&gt;Quero vencer esse sentimento em 2024: quero atualizar mais esse site, fazer mais &lt;em&gt;brain dumps&lt;/em&gt;, diminuir a autocensura e aumentar a quantidade de postagens. N√£o faz sentido eu falar por a√≠ da &lt;a href=&#34;https://crieaporradeum.blog/&#34;&gt;import√¢ncia de se ter o &amp;ldquo;seu canto na web&amp;rdquo;&lt;/a&gt; se eu mesmo estou usando o meu canto menos do que poderia.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;J√° fiz a piada que a resolu√ß√£o ser√° 1920x1080 vezes o suficiente. Vou poup√°-los. ü§£&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Considero uma postagem no Mastodon &amp;ldquo;menos s√©ria&amp;rdquo; do que um texto aqui e desencano um pouco. Bobagem de minha parte, mas √© mais ou menos meu processo de pensamento.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>A Morte do Omegle e a Web Em Que Cresci</title>
      <link>https://gmgall.net/blog/a-morte-do-omegle-e-a-web-em-que-cresci/</link>
      <pubDate>Fri, 10 Nov 2023 18:19:07 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/a-morte-do-omegle-e-a-web-em-que-cresci/</guid>
      <description>&lt;p&gt;A &lt;a href=&#34;https://web.archive.org/web/20231110120720/https://www.omegle.com/&#34;&gt;carta de despedida do Omegle&lt;/a&gt; me &amp;ldquo;bate&amp;rdquo; forte j√° nos 2¬∫ e 3¬∫ par√°grafos porque descreve muito bem minha rela√ß√£o com a web &amp;ldquo;primitiva&amp;rdquo; (a &lt;a href=&#34;https://pt.wikipedia.org/wiki/World_Wide_Web#Web_1.0&#34;&gt;1.0&lt;/a&gt; e talvez o in√≠cio do que chamam de &lt;a href=&#34;https://pt.wikipedia.org/wiki/Web_2.0&#34;&gt;web 2.0&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As a young teenager, I couldn‚Äôt just waltz onto a college campus and tell a student: ‚ÄúLet‚Äôs debate moral philosophy!‚Äù I couldn‚Äôt walk up to a professor and say: ‚ÄúTell me something interesting about microeconomics!‚Äù But online, I was able to meet those people, and have those conversations. I was also an avid Wikipedia editor; I contributed to open source software projects; and I often helped answer computer programming questions posed by people many years older than me.&lt;/p&gt;
&lt;p&gt;In short, the Internet opened the door to a much larger, more diverse, and more vibrant world than I would have otherwise been able to experience; and enabled me to be an active participant in, and contributor to, that world. All of this helped me to learn, and to grow into a more well-rounded person.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;ldquo;Tudo isso me ajudou a aprender e a me tornar uma pessoa mais completa&amp;rdquo; √© exatamente a minha experi√™ncia.&lt;/p&gt;
&lt;p&gt;De cidade do interior do Estado, nenhum parente com acesso a ensino superior&amp;hellip;&lt;/p&gt;
&lt;p&gt;Eu seria muito mais burro, muito mais conservador, muito mais limitado em tudo mesmo, se n√£o tivesse acesso a um mundo muito mais amplo do que o poss√≠vel &lt;a href=&#34;http://www.catb.org/~esr/jargon/html/A/AFK.html&#34;&gt;AFK&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Cada pessoa que apontava &amp;ldquo;N√£o √© bem assim, n√£o. L√™ isso aqui.&amp;rdquo; moldou demais a pessoa que sou hoje.&lt;/p&gt;
&lt;p&gt;Entendo completamente quando algu√©m de uma minoria oprimida qualquer diz, por exemplo, que &amp;ldquo;n√£o precisa ser did√°tica&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;S√≥ que √© fato que as que entraram no meu caminho e &lt;em&gt;foram did√°ticas&lt;/em&gt; me ensinaram muitas coisas e eu n√£o teria acesso a muitas delas sem a web.&lt;/p&gt;
&lt;p&gt;√â ainda um pouco alien√≠gena para mim ler sobre a web sendo usada para radicaliza√ß√£o, intoler√¢ncia e ascens√£o da direita porque minha experi√™ncia √© justamente o contr√°rio.&lt;/p&gt;
&lt;p&gt;H√° sempre um momento de estranhamento antes de eu me lembrar que eu tive contato com uma internet de sites pessoais, chats e listas/f√≥runs de discuss√£o; enquanto existe toda uma gera√ß√£o que s√≥ teve contato com grupos em mensageiros privados e redes sociais com algoritmos movidos a ultraje feitas para vender espa√ßo para publicidade.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Ao ver hoje o &lt;a href=&#34;https://twitter.com/&#34;&gt;tribunal de min√∫sculas causas&lt;/a&gt; oferecer os piores &lt;em&gt;hot takes&lt;/em&gt; que voc√™ j√° leu sobre um assunto complexo&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; ou o &lt;a href=&#34;https://super.abril.com.br/sociedade/instagram-e-a-rede-social-mais-prejudicial-a-saude-mental/&#34;&gt;site de fotos erodir a sa√∫de mental&lt;/a&gt; de seus usu√°rios&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;, pode parecer imposs√≠vel lutar contra a &lt;a href=&#34;https://en.wikipedia.org/wiki/Enshittification&#34;&gt;&lt;em&gt;enshittification&lt;/em&gt;&lt;/a&gt; de tudo ou contra o poder dos &lt;a href=&#34;https://gmgall.net/books/engenheiros-do-caos/&#34;&gt;engenheiros do caos&lt;/a&gt;. Essa batalha, no entanto, est√° longe de perdida.&lt;/p&gt;
&lt;p&gt;Apesar de hoje ser um nicho, n√£o acho que essa web vibrante e construtiva em que eu cresci tenha acabado. Voc√™ ainda pode &lt;a href=&#34;https://crieaporradeum.blog/&#34;&gt;criar um blog&lt;/a&gt; ou site pessoal, acompanhar as atualiza√ß√µes de sites por &lt;a href=&#34;https://pt.wikipedia.org/wiki/RSS&#34;&gt;RSS&lt;/a&gt; e estar numa &lt;a href=&#34;https://fedi.tips/&#34;&gt;rede social em que voc√™ seja o algoritmo&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;geopol√≠tica e n√£o monogamia s√£o minhas recomenda√ß√µes para quando voc√™ estiver com um excesso de f√© na humanidade para gastar&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;especialmente su&lt;strong&gt;as&lt;/strong&gt; &lt;a href=&#34;https://archive.ph/XrQEM&#34;&gt;usu√°ri&lt;strong&gt;as&lt;/strong&gt; jovens&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>As Consequ√™ncias de Manter Comunidades de Esquerda na Web</title>
      <link>https://gmgall.net/blog/consequencias-de-manter-comunidades-de-esquerda-na-web/</link>
      <pubDate>Wed, 04 Oct 2023 12:03:07 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/consequencias-de-manter-comunidades-de-esquerda-na-web/</guid>
      <description>&lt;p&gt;&lt;em&gt;O texto abaixo n√£o √© de minha autoria, eu s√≥ traduzi para portugu√™s. O &lt;a href=&#34;https://blog.protodrew.website/the_consequences_of_running_leftist_communities&#34;&gt;texto original em ingl√™s&lt;/a&gt; √© de &lt;a href=&#34;https://merveilles.town/@protodrew&#34;&gt;protodrew&lt;/a&gt;. Obtive autoriza√ß√£o para fazer essa tradu√ß√£o por e-mail. A apreens√£o citada √© de meados de maio de 2023.&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Hoje, os administradores da &lt;a href=&#34;https://kolektiva.social&#34;&gt;kolektiva.social&lt;/a&gt;, uma inst√¢ncia do Mastodon que se vende como &amp;ldquo;uma plataforma livre, n√£o corporativa para produtores de conte√∫do anarquistas e anticoloniais que buscam contornar o Google, o Facebook e outros capitalistas de vigil√¢ncia&amp;rdquo;, anunciaram que uma c√≥pia n√£o criptografada de seu banco de dados de meados de maio de 2023 foi apreendida pelo FBI como parte de uma opera√ß√£o n√£o relacionada. O principal conte√∫do afetado √© toda informa√ß√£o de contas e postagens, independente das configura√ß√µes de privacidade das postagens. Deve ser notado que mensagens diretas no Mastodon requerem uma c√≥pia armazenada em ambos os servidores, no seu e no servidor do destinat√°rio, ent√£o a disponibilidade desse tipo de informa√ß√£o n√£o √© √∫nica. No entanto, a incapacidade de lidar adequadamente com dados potencialmente sens√≠veis de usu√°rios e de comunicar rapidamente esse vazamento me mostra que a kolektiva √© v√≠tima da falta de preocupa√ß√£o significativa com seus usu√°rios que assola a maioria dos espa√ßos de esquerda.&lt;/p&gt;
&lt;p&gt;Espa√ßos esquerdistas online s√£o um pouco paradoxais. Num mundo neoliberal que √© ativamente hostil a a√ß√µes anticapitalistas (ex.: o administrador sendo alvo de uma opera√ß√£o por estar envolvido em um protesto), podem haver consequ√™ncias s√©rias ao se discutir teoria, organiza√ß√£o e a√ß√£o anticapitalistas. Apesar disso, usu√°rios raramente s√£o adequadamente informados sobre as consequ√™ncias do que postam e a seguran√ßa de seus dados. No Mastodon e servi√ßos similares baseados em ActivityPub, voc√™ NUNCA deve postar nada que voc√™ n√£o queira publicamente associado com a sua identidade. O fediverso n√£o √© um lugar para comunica√ß√£o segura e a falta de consci√™ncia desse fato levou repetidamente pessoas a serem pegas de cal√ßas arriadas pensando que suas mensagens privadas s√£o seguras.&lt;/p&gt;
&lt;p&gt;Para ser claro, isso n√£o √© pior que redes sociais corporativas, que est√£o frequentemente mais que dispostas a entregar suas DMs descriptografadas para qualquer ag√™ncia governamental que pe√ßa por elas. No entanto, espa√ßos que se propagandeiam como lugares para ativistas se reunirem e trabalharem est√£o essencialmente criando grandes bancos de dados de esquerdistas que podem facilmente serem apanhados pelas autoridades se essas informa√ß√µes n√£o forem protegidas.&lt;/p&gt;
&lt;p&gt;√â mais f√°cil do que nunca criar comunidades online, especialmente dentro do fediverso, mas √© necess√°rio mais que desejo para prover comunidade e palavras ao vento para prover seguran√ßa e privacidade aos usu√°rios. Uma vers√£o n√£o encriptada do banco de dados nunca deveria ter sido armazenada em lugar algum, especialmente na m√°quina local de algu√©m que j√° atraiu a aten√ß√£o das autoridades. Para piorar a situa√ß√£o, isso n√£o foi comunicado aos usu√°rios t√£o cedo quando poss√≠vel e os acenos vagos √† discuss√£o de advogados n√£o √© o suficiente para explicar o atraso. Podem existir repercuss√µes na vida real de organizadores e usu√°rios ao manter espa√ßos online e muitos espa√ßos orientados √† esquerda s√£o operados por pessoas que maquiam a falta de habilidade de proteger seus usu√°rios com jarg√µes da moda.&lt;/p&gt;
&lt;p&gt;Eu recomendo aos que s√£o membros da kolektiva a migrarem para uma inst√¢ncia que vai atrair menos aten√ß√£o e a nunca falarem l√° sobre algo que voc√™ n√£o gostaria que um policial lesse. Boa sorte aos administradores da kolektiva nos seus esfor√ßos de demandarem que o FBI devolva ou destrua esses dados. Tenho certeza que as autoridades atender√£o.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kolektiva.social/@admin/110637031574056150&#34;&gt;An√∫ncio dos administradores da kolektiva&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Migrando Para Uma Alternativa GPL Ao LastPass Authenticator</title>
      <link>https://gmgall.net/blog/migrando-para-uma-alternativa-gpl-ao-lastpass-authenticator/</link>
      <pubDate>Fri, 29 Sep 2023 03:40:06 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/migrando-para-uma-alternativa-gpl-ao-lastpass-authenticator/</guid>
      <description>&lt;p&gt;Usei o &lt;a href=&#34;https://play.google.com/store/apps/details?id=com.lastpass.authenticator&#34;&gt;LastPass Authenticator&lt;/a&gt; como &lt;em&gt;app&lt;/em&gt; de 2FA no meu celular Android por alguns anos. N√£o me recordo agora o que me levou a escolh√™-lo no passado, mas, por h√°bito, acabou sendo o que instalei no &lt;em&gt;smartphone&lt;/em&gt; que comprei recentemente.&lt;/p&gt;
&lt;p&gt;2 problemas s√©rios com o LastPass Authenticator:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;√© software propriet√°rio e&lt;/li&gt;
&lt;li&gt;s√≥ permite &lt;em&gt;backup&lt;/em&gt; na nuvem da LastPass&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Eu devia ter pesquisado uma alternativa livre antes, mas a &lt;strike&gt;pregui√ßa&lt;/strike&gt;
 rotina venceu. Fiquei com esse problema por resolver.&lt;/p&gt;
&lt;p&gt;At√© agora.&lt;/p&gt;
&lt;p&gt;A ins√¥nia me deu a oportunidade de ler o texto &lt;a href=&#34;https://joelchrono.xyz/blog/what-is-on-my-phone-fall-2023/&#34;&gt;&lt;em&gt;What&amp;rsquo;s on my Phone (Fall 2023)&lt;/em&gt;&lt;/a&gt;, recheado de recomenda√ß√µes de &lt;em&gt;apps&lt;/em&gt; livres para Android instal√°veis via &lt;a href=&#34;https://f-droid.org/&#34;&gt;F-Droid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &lt;a href=&#34;https://getaegis.app/&#34;&gt;&lt;em&gt;Aegis Authenticator&lt;/em&gt;&lt;/a&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; tinha a descri√ß√£o &lt;em&gt;2FA manager with a nice&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; interface and easy to backup&lt;/em&gt;. Boa, achei &amp;ldquo;o cara&amp;rdquo;!&lt;/p&gt;
&lt;p&gt;Aegis instalado, fui em &lt;code&gt;Configura√ß√µes&lt;/code&gt; &amp;gt; &lt;code&gt;Importar &amp;amp; Exportar&lt;/code&gt; &amp;gt; &lt;code&gt;Importar de arquivo&lt;/code&gt;. Tem mais de 10 op√ß√µes de &lt;em&gt;apps&lt;/em&gt; de origem para escolher, mas o LastPass n√£o √© uma delas. üòî&lt;/p&gt;
&lt;p&gt;Por sorte, algu√©m parou para olhar o arquivo gerado pela op√ß√£o &lt;code&gt;Exportar contas para arquivo&lt;/code&gt; do LastPass Authenticator e descobriu que n√£o √© um JSON muito diferente do usado pelo pr√≥prio Aegis.&lt;/p&gt;
&lt;p&gt;Um &lt;a href=&#34;https://github.com/tghw/lastpass_aegis_convert&#34;&gt;conversor est√° dispon√≠vel no GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O processo para migrar as contas foi o seguinte:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;No LastPass, fui em &lt;code&gt;Configura√ß√µes&lt;/code&gt; &amp;gt; &lt;code&gt;Transferir contas&lt;/code&gt; &amp;gt; &lt;code&gt;Exportar contas para arquivo&lt;/code&gt;. Foi gerado um arquivo JSON.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Transferi o arquivo para o computador e usei &lt;code&gt;python convert.py path/to/lastpass_auth_export.json&lt;/code&gt;. Um arquivo com nome no padr√£o &lt;code&gt;aegis_*.json&lt;/code&gt; foi gerado.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Transferi o arquivo &lt;code&gt;aegis_*.json&lt;/code&gt; para o celular. No Aegis, fui em &lt;code&gt;Configura√ß√µes&lt;/code&gt; &amp;gt; &lt;code&gt;Importar &amp;amp; Exportar&lt;/code&gt; &amp;gt; &lt;code&gt;Importar de arquivo&lt;/code&gt;. Selecionei &lt;code&gt;Aegis&lt;/code&gt; e escolhi em seguida o arquivo &lt;code&gt;aegis_*.json&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Funcionou perfeitamente. üòä&lt;/p&gt;
&lt;p&gt;Com as contas migradas, confirmei o &lt;em&gt;easy to backup&lt;/em&gt;. Em &lt;code&gt;Configura√ß√µes&lt;/code&gt; &amp;gt; &lt;code&gt;Backups&lt;/code&gt; consegui rapidamente selecionar um diret√≥rio numa inst√¢ncia do &lt;a href=&#34;https://nextcloud.com/&#34;&gt;Nextcloud&lt;/a&gt; e agora tenho backups regulares das contas.&lt;/p&gt;
&lt;p&gt;‚ö†Ô∏è &lt;strong&gt;N√£o deixe os arquivos JSON usados para migra√ß√£o de bobeira no celular ou no computador. Apague-os assim que terminar a migra√ß√£o.&lt;/strong&gt; ‚ö†Ô∏è&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;N√£o sei se √© uma boa ideia ter uma conta na nuvem de uma empresa que tem como maior se√ß√£o de seu artigo na Wikipedia uma &lt;a href=&#34;https://en.wikipedia.org/wiki/LastPass#Security_incidents&#34;&gt;lista de incidentes de seguran√ßa&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;O Aegis usa a licen√ßa GPLv3.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;Est√° a√≠: acho que o motivo para eu ter instalado o LastPass Authenticator pela 1¬™ vez foi eu ter achado a interface bonita.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>GitHub Pages e Nomes de Diret√≥rio Iniciados com Underline</title>
      <link>https://gmgall.net/blog/github-pages-underline/</link>
      <pubDate>Wed, 07 Jun 2023 19:25:06 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/github-pages-underline/</guid>
      <description>&lt;p&gt;Levei mais tempo para descobrir isso do que me orgulharia em compartilhar, ent√£o escrevo aqui para n√£o esquecer.&lt;/p&gt;
&lt;p&gt;O &lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub Pages&lt;/a&gt; trata diret√≥rios com nomes iniciados por &lt;code&gt;_&lt;/code&gt; (&lt;em&gt;underline&lt;/em&gt;) de forma especial &lt;strong&gt;mesmo se voc√™ estiver usando GitHub Actions para gerar os arquivos est√°ticos com outras ferramentas&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Isso ocorre porque o &lt;a href=&#34;https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll&#34;&gt;GitHub Pages pode gerar e servir um site feito com Jekyll&lt;/a&gt; se voc√™ quiser e para o &lt;a href=&#34;https://jekyllrb.com/&#34;&gt;Jekyll&lt;/a&gt;, diret√≥rios com nomes iniciados por &lt;code&gt;_&lt;/code&gt; s√£o especiais.&lt;/p&gt;
&lt;p&gt;Aparentemente o Jekyll est√° envolvido mesmo quando configuramos o Pages para servir os arquivos de um &lt;em&gt;branch&lt;/em&gt; separado e escrevemos nosso pr√≥prio &lt;em&gt;workflow&lt;/em&gt; no &lt;a href=&#34;https://github.com/features/actions&#34;&gt;Actions&lt;/a&gt; para escrever nesse &lt;em&gt;branch&lt;/em&gt;. Achei pouco intuitivo e outras pessoas que conversaram comigo sobre o assunto concordaram, mas √© assim que o Pages funciona.&lt;/p&gt;
&lt;p&gt;Um site que eu estava tentando servir tinha uma estrutura de arquivos parecida com a seguinte:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;about
css
doc
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ _static
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ basic.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ doctools.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ documentation_options.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ file.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ graphviz.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ language_data.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ minus.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ plus.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pygments.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ scripts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js.LICENSE.txt
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js.map
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pydata-sphinx-theme.js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ pydata-sphinx-theme.js.map
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ searchtools.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ sphinx_highlight.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ styles
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pydata-sphinx-theme.css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ theme.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ switcher.json
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ webpack-macros.html
‚îî‚îÄ‚îÄ tutorial
    ‚îú‚îÄ‚îÄ graphs.html
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ plotting_customization.html
    ‚îî‚îÄ‚îÄ quantum_walk_models.html
example.html
features
gethelp
getstarted
images
index.html
index.xml
js
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;O arquivo &lt;code&gt;doc/index.html&lt;/code&gt; carregava v√°rios recursos de &lt;code&gt;doc/_static/&lt;/code&gt;. S√≥ a requisi√ß√£o para o arquivo &lt;code&gt;doc/index.html&lt;/code&gt; era conclu√≠da com sucesso. Para as requisi√ß√µes de todos os arquivos em &lt;code&gt;doc/_static&lt;/code&gt; eu recebia um erro 404 como resposta, &lt;strong&gt;mesmo que os arquivos estivessem l√°&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Para que esses arquivos passassem a ser servidos normalmente, precisei criar um arquivo oculto de nome &lt;code&gt;.nojekyll&lt;/code&gt; na &lt;strong&gt;raiz do site&lt;/strong&gt;. A estrutura ficou mais ou menos a seguinte:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;about
css
doc
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ _static
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ basic.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ doctools.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ documentation_options.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ file.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ graphviz.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ language_data.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ minus.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ plus.png
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pygments.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ scripts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js.LICENSE.txt
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.js.map
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pydata-sphinx-theme.js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ pydata-sphinx-theme.js.map
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ searchtools.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ sphinx_highlight.js
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ styles
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bootstrap.css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pydata-sphinx-theme.css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ theme.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ switcher.json
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ webpack-macros.html
‚îî‚îÄ‚îÄ tutorial
    ‚îú‚îÄ‚îÄ graphs.html
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ plotting_customization.html
    ‚îî‚îÄ‚îÄ quantum_walk_models.html
example.html
features
gethelp
getstarted
images
index.html
index.xml
js
.nojekyll
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Depois da cria√ß√£o desse arquivo, todas as requisi√ß√µes eram conclu√≠das normalmente.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Quais Empresas Respeitam o &#34;Unsubscribe&#34;?</title>
      <link>https://gmgall.net/blog/unsubscribe/</link>
      <pubDate>Wed, 10 May 2023 18:52:09 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/unsubscribe/</guid>
      <description>&lt;p&gt;At√© poucos meses atr√°s, eu estava com uma caixa de entrada completamente ca√≥tica. Eu tinha mais de 20000&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; mensagens n√£o lidas e esse n√∫mero aumentava a cada dia.&lt;/p&gt;
&lt;p&gt;Resolvi dedicar alguns minutos por dia para solucionar o problema. Isso significou classificar os e-mails em interessantes de ler - como os oriundos de listas de discuss√£o - e os que poderiam ser apagados sem ler.&lt;/p&gt;
&lt;p&gt;Nesse √∫ltimo grupo, a maioria dos e-mails era de empresas/servi√ßos que me mandavam publicidade ou &lt;em&gt;newsletters&lt;/em&gt; porque sou ou j√° fui cliente em algum momento. N√£o queria que minha caixa de entrada voltasse ao estado em que estava, ent√£o n√£o bastava apagar os e-mails. Eu tinha que escolher se classificava como &lt;em&gt;spam&lt;/em&gt; ou se confiava no link de &lt;em&gt;unsubscribe&lt;/em&gt;/desinscrever do remetente.&lt;/p&gt;
&lt;p&gt;Meu palpite era de que a maioria das empresas/servi√ßos simplesmente ignora esses pedidos de desinscri√ß√£o - ou pior, os usam para confirmar que o endere√ßo de e-mail segue v√°lido - ent√£o o caminho √≥bvio era simplesmente classificar tudo como &lt;em&gt;spam&lt;/em&gt; e seguir com a vida.&lt;/p&gt;
&lt;p&gt;S√≥ que a√≠ meu palpite seguiria sendo s√≥ um palpite e eu estava com uma oportunidade √∫nica&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; de testar em m√£os. Resolvi confiar nos remetentes e usei o link para n√£o receber mais mensagens. Tomei nota de quem enviava mais e-mails depois disso. Relato os resultados abaixo.&lt;/p&gt;
&lt;h2 id=&#34;quem-respeita-a-desinscri√ß√£o&#34;&gt;Quem respeita a desinscri√ß√£o&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Kabum&lt;/li&gt;
&lt;li&gt;Turing&lt;/li&gt;
&lt;li&gt;Brain.fm&lt;/li&gt;
&lt;li&gt;√ìrama&lt;/li&gt;
&lt;li&gt;Evernote&lt;/li&gt;
&lt;li&gt;Mostra Tiradentes&lt;/li&gt;
&lt;li&gt;Uber&lt;/li&gt;
&lt;li&gt;Infopedia.pt&lt;/li&gt;
&lt;li&gt;Globoplay&lt;/li&gt;
&lt;li&gt;99&lt;/li&gt;
&lt;li&gt;Prime Video&lt;/li&gt;
&lt;li&gt;Oracle&lt;/li&gt;
&lt;li&gt;Netlify&lt;/li&gt;
&lt;li&gt;Amazon&lt;/li&gt;
&lt;li&gt;NuInvest&lt;/li&gt;
&lt;li&gt;iFood&lt;/li&gt;
&lt;li&gt;MongoDB Brazil&lt;/li&gt;
&lt;li&gt;Qipu&lt;/li&gt;
&lt;li&gt;Pipedream&lt;/li&gt;
&lt;li&gt;Dropbox&lt;/li&gt;
&lt;li&gt;Ozan Varol&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;N√£o existe uma ordem espec√≠fica na lista acima. Foram simplesmente os e-mails que ia encontrando na caixa de entrada.&lt;/p&gt;
&lt;h2 id=&#34;quem-n√£o-respeita&#34;&gt;Quem n√£o respeita&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;LinkedIn&lt;/li&gt;
&lt;li&gt;Banco Inter&lt;/li&gt;
&lt;li&gt;Oi&lt;/li&gt;
&lt;li&gt;Curriculum&lt;/li&gt;
&lt;li&gt;PicPay&lt;/li&gt;
&lt;li&gt;G1&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;O crit√©rio de ordena√ß√£o aqui √© quanto tempo demoraram para me enviar mais e-mails ap√≥s eu solicitar a desinscri√ß√£o.&lt;/p&gt;
&lt;p&gt;O LinkedIn, al√©m de antro de ideologia liberal e defensores de patr√£o, √© &lt;em&gt;worst offender&lt;/em&gt; tamb√©m no crit√©rio &lt;em&gt;spam&lt;/em&gt;. Eles me mandaram um e-mail no &lt;strong&gt;mesmo dia&lt;/strong&gt; em que solicitei para n√£o receber mais mensagens. O Banco Inter demorou 4 dias. A Oi demorou 8 dias. Os demais demoraram mais de um m√™s para enviar novas mensagens.&lt;/p&gt;
&lt;p&gt;Resultado: &lt;strong&gt;a maioria n√£o enviou mais mensagens depois que solicitei que parassem&lt;/strong&gt;. Fiquei positivamente surpreso.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Minha experi√™ncia pode ser diferente da sua. Eu posso ter acessado alguns dos links &lt;em&gt;unsubscribe&lt;/em&gt; acima em dias em que eles estavam em manuten√ß√£o. Ou num dia em que eu estava distra√≠do e acabei clicando no bot√£o errado. Tomem meu relato com um gr√£o de sal. (Isso basta, Jur√≠dico? Chamar empresa de &lt;em&gt;spammer&lt;/em&gt; d√° processo?)&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;N√£o, n√£o tem um zero sobrando ali. Eram mais de 20 mil e-mails n√£o lidos.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;N√£o pretendo me descuidar &lt;strong&gt;tanto&lt;/strong&gt; dos meus e-mails novamente no futuro.üòÖ&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>input_filename das ferramentas jq e yq n√£o funcionam como esperado</title>
      <link>https://gmgall.net/blog/input_filename-em-jq-e-yq/</link>
      <pubDate>Fri, 05 May 2023 13:17:37 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/input_filename-em-jq-e-yq/</guid>
      <description>&lt;h2 id=&#34;tldr&#34;&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;As ferramentas de linha de comando &lt;a href=&#34;https://stedolan.github.io/jq/&#34;&gt;&lt;code&gt;jq&lt;/code&gt;&lt;/a&gt; e &lt;a href=&#34;https://kislyuk.github.io/yq/&#34;&gt;&lt;code&gt;yq&lt;/code&gt;&lt;/a&gt; possuem uma fun√ß√£o &lt;em&gt;builtin&lt;/em&gt; chamada &lt;a href=&#34;https://stedolan.github.io/jq/manual/#input_filename&#34;&gt;&lt;code&gt;input_filename&lt;/code&gt;&lt;/a&gt; que deveria retornar o nome do arquivo sendo filtrado. Ela n√£o funciona como esperado.&lt;/p&gt;
&lt;p&gt;No caso espec√≠fico da &lt;code&gt;yq&lt;/code&gt; √© &lt;a href=&#34;https://github.com/kislyuk/yq/issues/84&#34;&gt;sempre retornado &lt;code&gt;&amp;lt;stdin&amp;gt;&lt;/code&gt;&lt;/a&gt;.  Exemplo&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ xq &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;input_filename&amp;#39;&lt;/span&gt; feeds/*xml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O comportamento em &lt;code&gt;jq&lt;/code&gt; tamb√©m me parece inesperado:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat a.json 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Roberpierre&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;equipment&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;guillotine&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat b.json 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yurovsky&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;equipment&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gun&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ jq -s &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;map({name, &amp;#34;file&amp;#34;: input_filename})&amp;#39;&lt;/span&gt; *.json &lt;span style=&#34;color:#75715e&#34;&gt;# input_filename retorna s√≥ o nome do √∫ltimo arquivo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Roberpierre&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;b.json&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yurovsky&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;b.json&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;como-esse-comportamento-me-pegou&#34;&gt;Como esse comportamento &amp;ldquo;me pegou&amp;rdquo;&lt;/h2&gt;
&lt;p&gt;J√° expliquei &lt;a href=&#34;https://gmgall.net/blog/gerando-feeds-com-github-actions-e-os-servindo-com-github-pages/&#34;&gt;aqui&lt;/a&gt; que possuo &lt;a href=&#34;https://github.com/gmgall/feeds&#34;&gt;um reposit√≥rio com &lt;em&gt;feeds&lt;/em&gt; RSS&lt;/a&gt; para sites que n√£o fornecem os seus pr√≥prios. Hoje n√£o est√° listado em lugar nenhum para que sites gero &lt;em&gt;feeds&lt;/em&gt;. A √∫nica forma de ver isso, √© listar o &lt;a href=&#34;https://github.com/gmgall/feeds/tree/gh-pages&#34;&gt;&lt;em&gt;branch&lt;/em&gt; &lt;code&gt;gh-pages&lt;/code&gt; desse reposit√≥rio&lt;/a&gt;. Sabendo o nome do arquivo, voc√™ sabe que a URL para o &lt;em&gt;feed&lt;/em&gt; √© &lt;code&gt;https://gmgall.github.io/feeds/NOME_DO_ARQUIVO.xml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pensei em gerar um arquivo JSON com algumas metainforma√ß√µes de cada &lt;em&gt;feed&lt;/em&gt;. Pretendo us√°-lo mais tarde para listar os &lt;em&gt;feeds&lt;/em&gt; dispon√≠veis tanto &lt;a href=&#34;https://gmgall.net/feeds&#34;&gt;aqui&lt;/a&gt; quanto em outros lugares.&lt;/p&gt;
&lt;p&gt;Queria um arquivo no formato seguinte&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-JSON&#34; data-lang=&#34;JSON&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Di√°rio de Petr√≥polis&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.diariodepetropolis.com.br/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(Edi√ß√£o online) √öltimas not√≠cias, artigos e classificados da cidade.&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;feed&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://gmgall.github.io/feeds/diario_de_petropolis.xml&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NFL na ESPN - Resultados, v√≠deos e estat√≠sticas&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.espn.com.br/nfl&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Acesse ESPN para placares ao vivo da NFL, melhores momentos e not√≠cias. Assista √† NFL pela ESPN no Star+&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;feed&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://gmgall.github.io/feeds/espn_nfl.xml&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;title&lt;/code&gt;, &lt;code&gt;link&lt;/code&gt; e &lt;code&gt;description&lt;/code&gt; s√£o informa√ß√µes &lt;a href=&#34;https://validator.w3.org/feed/docs/rss2.html#requiredChannelElements&#34;&gt;requeridas nos &lt;em&gt;feeds&lt;/em&gt; RSS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Minha linha de racioc√≠nio ent√£o foi a seguinte:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Conhe√ßo um pouco dos filtros do &lt;code&gt;jq&lt;/code&gt;. Sei que existe &lt;a href=&#34;https://stedolan.github.io/jq/manual/#map(x),map_values(x)&#34;&gt;&lt;code&gt;map(x)&lt;/code&gt;&lt;/a&gt;, que aplica o filtro a cada elemento do &lt;em&gt;array&lt;/em&gt; de entrada.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sei que posso processar mais de um arquivo com a op√ß√£o &lt;code&gt;-s&lt;/code&gt;, que coloca o conte√∫do dos arquivos num &lt;em&gt;array&lt;/em&gt; √∫nico, cada elemento com o conte√∫do de um arquivo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;xq&lt;/code&gt; √© s√≥ um &lt;em&gt;wrapper&lt;/em&gt; para o &lt;code&gt;jq&lt;/code&gt;. Ent√£o bastaria processar meus &lt;em&gt;feeds&lt;/em&gt; (XML) com &lt;code&gt;xq&lt;/code&gt; da mesma forma que faria se fossem arquivos JSON. A sa√≠da vai ser em JSON, o que vai facilitar bastante.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Como citei acima, 3 das 4 propriedades que quero no meu JSON s√£o requeridas pelo padr√£o RSS. Seria quest√£o de gerar um objeto s√≥ com elas para cada elemento do &lt;em&gt;array&lt;/em&gt; que estar√° dispon√≠vel por conta da op√ß√£o de linha de comando &lt;code&gt;-s&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ xq -s &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;map({&amp;#34;title&amp;#34;: .rss.channel.title, &amp;#34;link&amp;#34;: .rss.channel.link, &amp;#34;description&amp;#34;: .rss.channel.description })&amp;#39;&lt;/span&gt; feeds/*xml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Di√°rio de Petr√≥polis&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.diariodepetropolis.com.br/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(Edi√ß√£o online) √öltimas not√≠cias, artigos e classificados da cidade.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NFL na ESPN - Resultados, v√≠deos e estat√≠sticas&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.espn.com.br/nfl&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Acesse ESPN para placares ao vivo da NFL, melhores momentos e not√≠cias. Assista √† NFL pela ESPN no Star+&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Perfeito! A propriedade que falta, &lt;code&gt;feed&lt;/code&gt;, deve ser bem f√°cil de adicionar, certo? Eu gero os &lt;em&gt;feeds&lt;/em&gt; num diret√≥rio de nome &lt;code&gt;feeds&lt;/code&gt;. Basta cada objeto ter uma propriedade cujo valor ser√° a &lt;em&gt;string&lt;/em&gt; &lt;code&gt;https://gmgall.github.io/&lt;/code&gt; + uma &lt;em&gt;string&lt;/em&gt; com &lt;em&gt;path&lt;/em&gt; do arquivo. Ainda bem que existe &lt;code&gt;input_filename&lt;/code&gt;, vai ser um &lt;em&gt;one-liner&lt;/em&gt;. üòé&lt;/p&gt;
&lt;p&gt;Vamos testar antes s√≥ com o nome do arquivo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ xq -s &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;map({&amp;#34;title&amp;#34;: .rss.channel.title, &amp;#34;link&amp;#34;: .rss.channel.link, &amp;#34;description&amp;#34;: .rss.channel.description, &amp;#34;feed&amp;#34;: input_filename})&amp;#39;&lt;/span&gt; feeds/*xml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Di√°rio de Petr√≥polis&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.diariodepetropolis.com.br/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(Edi√ß√£o online) √öltimas not√≠cias, artigos e classificados da cidade.&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;feed&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NFL na ESPN - Resultados, v√≠deos e estat√≠sticas&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;link&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://www.espn.com.br/nfl&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Acesse ESPN para placares ao vivo da NFL, melhores momentos e not√≠cias. Assista √† NFL pela ESPN no Star+&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;feed&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Fu√©n. ü§°&lt;/p&gt;
&lt;p&gt;Como resolvi no fim das contas?&lt;/p&gt;
&lt;p&gt;Para evitar instalar mais coisas no &lt;em&gt;runner&lt;/em&gt; que gera os &lt;em&gt;feeds&lt;/em&gt; e para evitar ler os XMLs e &amp;ldquo;montar&amp;rdquo; o JSON &amp;ldquo;na m√£o&amp;rdquo;, quis continuar com a su√≠te &lt;code&gt;yq&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O sonho do &lt;em&gt;one-liner&lt;/em&gt; morreu:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; feed in feeds/*; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  xq --arg feed_url &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://gmgall.github.io/&lt;/span&gt;$feed&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{&amp;#34;title&amp;#34;: .rss.channel.title, &amp;#34;link&amp;#34;: .rss.channel.link, &amp;#34;description&amp;#34;: .rss.channel.description, &amp;#34;feed&amp;#34;: $feed_url}&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$feed&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt; | jq -s &amp;gt; ./feeds/feeds.json
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O que acabei fazendo foi chamar o &lt;code&gt;xq&lt;/code&gt; para cada arquivo XML para gerar cada objeto dentro de um la√ßo &lt;strong&gt;do shell&lt;/strong&gt; e s√≥ no fim junto tudo com &lt;code&gt;jq -s&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--arg&lt;/code&gt; permitiu injetar uma propriedade com o valor &lt;code&gt;https://gmgall.github.io/&lt;/code&gt; + &lt;em&gt;path&lt;/em&gt; do arquivo.&lt;/p&gt;
&lt;p&gt;Funciona. Estou orgulhoso?&lt;/p&gt;
&lt;p&gt;
&lt;figure&gt;
  &lt;img src=&#34;https://i.makeagif.com/media/9-25-2017/XOax9n.gif&#34; alt=&#34;Mais ou menos&amp;amp;hellip;&#34; /&gt;
&lt;/figure&gt;


&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Uso o comando &lt;code&gt;xq&lt;/code&gt; que faz parte da su√≠te &lt;code&gt;yq&lt;/code&gt;, que s√£o ambos &lt;em&gt;wrappers&lt;/em&gt; para o &lt;code&gt;jq&lt;/code&gt;.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Gero mais que 2 &lt;em&gt;feeds&lt;/em&gt; no momento em que escrevo esse texto. Estou listando apenas 2 por brevidade.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Adicionando Coment√°rios via Mastodon em Sites Est√°ticos</title>
      <link>https://gmgall.net/blog/comentarios-via-mastodon/</link>
      <pubDate>Wed, 03 May 2023 11:43:58 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/comentarios-via-mastodon/</guid>
      <description>&lt;p&gt;Esse site agora possui um bot√£o &lt;code&gt;Carregar coment√°rios&lt;/code&gt; abaixo das postagens cujos &lt;em&gt;links&lt;/em&gt; anunciei no Mastodon. Ao clicar nele, as respostas ao &lt;em&gt;toot&lt;/em&gt; s√£o exibidas. Foi poss√≠vel fazer isso apenas no lado do cliente com JavaScript acessando a API do Mastodon, ent√£o √© uma solu√ß√£o para ter coment√°rios em sites est√°ticos.&lt;/p&gt;
&lt;p&gt;Essa ideia n√£o √© minha, me baseei fortemente &lt;a href=&#34;https://joelchrono12.xyz/blog/how-to-add-mastodon-comments-to-jekyll-blog/&#34;&gt;numa postagem de Joel Garcia&lt;/a&gt;. Ele n√£o √©, por√©m, o &lt;a href=&#34;https://carlschwan.eu/2020/12/29/adding-comments-to-your-static-blog-with-mastodon/&#34;&gt;√∫nico que fez isso&lt;/a&gt;. Existe tamb√©m &lt;a href=&#34;https://dusanmitrovic.xyz/blog/post/2022-05-18/Adding-support-for-comments-through-integration-with-Mastodon&#34;&gt;quem fa√ßa uso de c√≥digo no lado do servidor&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O cerne da solu√ß√£o √© o &lt;a href=&#34;https://docs.joinmastodon.org/methods/statuses/#context&#34;&gt;seguinte m√©todo&lt;/a&gt; na API do Mastodon:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /api/v1/statuses/:id/context
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A resposta ser√° um JSON com 2 &lt;em&gt;arrays&lt;/em&gt;, um chamado &lt;code&gt;ancestors&lt;/code&gt; e outro chamado &lt;code&gt;descendants&lt;/code&gt;. As respostas ao &lt;em&gt;toot&lt;/em&gt; estar√£o em &lt;code&gt;descendants&lt;/code&gt;. Para &lt;em&gt;toots&lt;/em&gt; p√∫blicos, n√£o √© necess√°rio autentica√ß√£o. A ideia, portanto, √© ter um bot√£o&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; que chama uma fun√ß√£o em JavaScript que acessa esse m√©todo e cria &lt;code&gt;div&lt;/code&gt;s com os coment√°rios abaixo de cada postagem.&lt;/p&gt;
&lt;h2 id=&#34;o-c√≥digo&#34;&gt;O c√≥digo&lt;/h2&gt;
&lt;p&gt;Criei um &lt;a href=&#34;https://gohugo.io/templates/partials/&#34;&gt;partial&lt;/a&gt; chamado &lt;code&gt;comments.html&lt;/code&gt; que trata dos coment√°rios. Listo o c√≥digo abaixo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ with .Params.comments }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h3&lt;/span&gt;&amp;gt;Coment√°rios&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h3&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;details&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;summary&lt;/span&gt;&amp;gt;Responda pelo fediverso&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;summary&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;Responda pelo fediverso colando a URL abaixo no seu cliente: &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;pre&lt;/span&gt;&amp;gt;{{ . }}&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;pre&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;button&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;onclick&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;navigator.clipboard.writeText(&amp;#39;{{ . }}&amp;#39;)&amp;#34;&lt;/span&gt;&amp;gt;COPIAR URL&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;button&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;details&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;load-comments&amp;#34;&lt;/span&gt;&amp;gt;Carregar coment√°rios&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;comments-list&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ $server := replaceRE `(https://.*?)/.*` &amp;#34;$1&amp;#34; . }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ $toot_id := replaceRE `https://.+?/([0-9]*)$` &amp;#34;$1&amp;#34; . }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;js&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;purify&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;js&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;relURL&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}}&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  document.&lt;span style=&#34;color:#a6e22e&#34;&gt;getElementById&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;load-comments&amp;#39;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;addEventListener&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;click&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; () =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    document.&lt;span style=&#34;color:#a6e22e&#34;&gt;getElementById&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;load-comments&amp;#39;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;remove&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;response&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fetch&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{{ $server }}/api/v1/statuses/{{ $toot_id }}/context&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;response&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;json&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;descendants&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;descendants&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;length&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;descendants&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;descendants&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;descendant&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;of&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;descendants&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        document.&lt;span style=&#34;color:#a6e22e&#34;&gt;getElementById&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;comments-list&amp;#39;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;DOMPurify&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;sanitize&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;createCommentEl&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;descendant&lt;/span&gt;), { &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;RETURN_DOM_FRAGMENT&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; }))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      document.&lt;span style=&#34;color:#a6e22e&#34;&gt;getElementById&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;comments-list&amp;#39;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;innerHTML&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;p&amp;gt;‚ö†Ô∏è Sem coment√°rios no fediverso. ‚ö†Ô∏è&amp;lt;/p&amp;gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;createCommentEl&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;div&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;classList&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;comment&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;div&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;classList&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;comment-header&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;img&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;classList&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;avatar&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAttribute&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;height&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;60&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAttribute&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;width&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;60&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAttribute&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;src&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;avatar_static&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;userLink&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userLink&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;classList&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user-link&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userLink&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAttribute&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;href&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;emoji&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;of&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;emojis&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;display_name&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;display_name&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;replace&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;`:&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;emoji&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;shortcode&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;:`&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;`&amp;lt;img src=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;emoji&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;static_url&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; alt=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;emoji&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;shortcode&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; height=&amp;#34;14px&amp;#34; width=&amp;#34;14px&amp;#34; /&amp;gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;serverName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;replace&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;/https?:\/\/(.+)\/@.+/&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;$1&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;userLink&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;innerHTML&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;display_name&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; (@&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;account&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;username&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;@&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;serverName&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;commentDateTime&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentDateTime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;classList&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;comment-date&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentDateTime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;setAttribute&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;href&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentDateTime&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;innerHTML&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;created_at&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;substr&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;replace&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;/([0-9]{4})-([0-9]{2})-([0-9]{2})/&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;$3/$2/$1&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;userAvatar&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;userLink&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;commentDateTime&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;commentContent&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;p&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;commentContent&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;innerHTML&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;content&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;commentHeader&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;appendChild&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;commentContent&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;comment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ end }}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;√â bastante parecido com o &lt;a href=&#34;https://joelchrono12.xyz/blog/how-to-add-mastodon-comments-to-jekyll-blog/#main-function&#34;&gt;c√≥digo do Joel&lt;/a&gt;, as diferen√ßas s√£o as seguinte:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Na &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L1&#34;&gt;linha 1&lt;/a&gt; garanto que vai ser inclu√≠do o c√≥digo do &lt;em&gt;partial&lt;/em&gt; &lt;strong&gt;apenas&lt;/strong&gt; nas p√°ginas que fornecerem um contexto com um &lt;em&gt;link&lt;/em&gt; para um &lt;em&gt;toot&lt;/em&gt; numa vari√°vel &lt;code&gt;comments&lt;/code&gt;. Isso √© feito gra√ßas √† &lt;a href=&#34;https://gohugo.io/functions/with/&#34;&gt;fun√ß√£o &lt;code&gt;with&lt;/code&gt; do Hugo&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Na &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L6&#34;&gt;linha 6&lt;/a&gt; incluo um bot√£o para copiar o &lt;em&gt;link&lt;/em&gt; para o &lt;em&gt;toot&lt;/em&gt; para a √°rea de transfer√™ncia. Isso facilita para quem deseja comentar. N√£o √© necess√°rio selecionar e copiar o &lt;em&gt;link&lt;/em&gt; manualmente. Como a &lt;a href=&#34;https://gohugo.io/functions/with/&#34;&gt;fun√ß√£o &lt;code&gt;with&lt;/code&gt;&lt;/a&gt; faz um &lt;em&gt;rebinding&lt;/em&gt; do contexto, o &lt;em&gt;link&lt;/em&gt; estar√° em &lt;code&gt;{{ . }}&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nas &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L11&#34;&gt;linhas 11&lt;/a&gt; e &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L12&#34;&gt;12&lt;/a&gt; extraio o servidor e o &lt;code&gt;id&lt;/code&gt; do &lt;em&gt;toot&lt;/em&gt; do &lt;em&gt;link&lt;/em&gt; para o &lt;em&gt;toot&lt;/em&gt; com &lt;a href=&#34;https://gohugo.io/functions/replacere/&#34;&gt;&lt;em&gt;regex&lt;/em&gt;&lt;/a&gt;. Isso me permite construir a URL para o m√©todo &lt;code&gt;GET /api/v1/statuses/:id/context&lt;/code&gt; da API do Mastodon na &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L17&#34;&gt;linha 17&lt;/a&gt;. &lt;strong&gt;Acho que essa √© uma diferen√ßa interessante entre a minha solu√ß√£o e a do Joel.&lt;/strong&gt; A minha s√≥ precisa que cada p√°gina tenha adicionado ao seu &lt;a href=&#34;https://gohugo.io/content-management/front-matter/&#34;&gt;&lt;em&gt;front matter&lt;/em&gt;&lt;/a&gt; uma vari√°vel &lt;code&gt;comments&lt;/code&gt; com um &lt;em&gt;link&lt;/em&gt; para um &lt;em&gt;toot&lt;/em&gt;. A dele precisa de &lt;a href=&#34;https://joelchrono12.xyz/blog/how-to-add-mastodon-comments-to-jekyll-blog/#jekyll-set-up&#34;&gt;3 vari√°veis diferentes&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Na &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L52&#34;&gt;linha 52&lt;/a&gt; eu extraio o nome do servidor. O Joel n√£o faz quest√£o de mostrar o nome do servidor nos coment√°rios do site dele.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Na &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L58&#34;&gt;linha 58&lt;/a&gt; eu troco o formato da data para DD/MM/AAAA.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O resto √© praticamente igual:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Da &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L15&#34;&gt;linha 15 √† linha 28&lt;/a&gt; defino uma fun√ß√£o que falar√° com a API do Mastodon se o bot√£o &lt;code&gt;Carregar coment√°rios&lt;/code&gt; for clicado.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Da &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/layouts/partials/comments.html#L30&#34;&gt;linha 30 √† linha 71&lt;/a&gt; defino uma fun√ß√£o que retorna uma &lt;code&gt;div&lt;/code&gt; para cada item no &lt;a href=&#34;https://docs.joinmastodon.org/entities/Context/#descendants&#34;&gt;&lt;em&gt;array&lt;/em&gt; &lt;code&gt;descendants&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Com o &lt;em&gt;partial&lt;/em&gt; definido, bastou cham√°-lo nos &lt;em&gt;layouts&lt;/em&gt; das p√°ginas em que eu desejo ativar coment√°rios. Eu quero nos &lt;a href=&#34;https://github.com/gmgall/gmgall.net/commit/2c0b89bd238e1c136b4086cb1bc5c88d482d161b#diff-5942e866d871d1df37aadd5f735f37d2708ea0c3ebc753ccd1cc38a71a68e19bR19&#34;&gt;&lt;em&gt;posts&lt;/em&gt; do blog&lt;/a&gt; e em cada &lt;a href=&#34;https://github.com/gmgall/gmgall.net/commit/2c0b89bd238e1c136b4086cb1bc5c88d482d161b#diff-48079b3f67152acaf42b23c1205c876a542c5a83e2be44e4548d4a847ab54cb5R34&#34;&gt;livro que eu postar impress√µes de leitura&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;vantagens&#34;&gt;Vantagens&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Simples de implementar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nada √© executado no servidor, funciona para sites est√°ticos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Basta a adi√ß√£o de &lt;a href=&#34;https://github.com/gmgall/gmgall.net/commit/996e3941cd666ece381daba209d41780a088c24d&#34;&gt;uma vari√°vel&lt;/a&gt; no &lt;em&gt;front matter&lt;/em&gt; para ativar os coment√°rios.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;desvantagens&#34;&gt;Desvantagens&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Se esse site se tornar acessado demais, ele pode come√ßar a fazer mais requisi√ß√µes ao servidor da inst√¢ncia que uso do que ele suporta.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S√≥ tenho o &lt;em&gt;link&lt;/em&gt; para &lt;em&gt;toot&lt;/em&gt; que anuncia o &lt;em&gt;post&lt;/em&gt; &lt;strong&gt;depois&lt;/strong&gt; de fazer o &lt;em&gt;toot&lt;/em&gt; e preciso fornec√™-lo &lt;strong&gt;antes&lt;/strong&gt; do &lt;em&gt;build&lt;/em&gt; da p√°gina. Isso quer dizer ter um &lt;em&gt;toot&lt;/em&gt; p√∫blico com um &lt;em&gt;link&lt;/em&gt; para um &lt;em&gt;post&lt;/em&gt; que s√≥ estar√° dispon√≠vel depois de uns 3 minutos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Migra√ß√µes entre inst√¢ncias do Mastodon carregam os perfis seguidos e os seguidores, mas ainda n√£o os &lt;em&gt;toots&lt;/em&gt;. Se eu migrar de inst√¢ncia, os coment√°rios ficam &amp;ldquo;presos&amp;rdquo; na inst√¢ncia anterior.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;possibilidades-futuras&#34;&gt;Possibilidades futuras&lt;/h2&gt;
&lt;p&gt;Posso ter um &lt;em&gt;workflow&lt;/em&gt; do GitHub Actions que faz o &lt;em&gt;toot&lt;/em&gt; anunciando os &lt;em&gt;posts&lt;/em&gt; novos e insere os &lt;em&gt;links&lt;/em&gt; para os &lt;em&gt;toots&lt;/em&gt; no &lt;em&gt;front matter&lt;/em&gt; para mim. Isso me pouparia o trabalho de fazer o &lt;em&gt;toot&lt;/em&gt; manualmente e eliminaria o problema de ter um &lt;em&gt;toot&lt;/em&gt; indicando um &lt;em&gt;post&lt;/em&gt; novo enquanto o &lt;em&gt;build&lt;/em&gt; do site ainda est√° terminando.&lt;/p&gt;
&lt;p&gt;N√£o sei se vou nesse caminho. Deixaria de ser uma solu√ß√£o simples. O &lt;em&gt;workflow&lt;/em&gt; precisaria se autenticar para fazer o &lt;em&gt;toot&lt;/em&gt; por mim e seria aumentada a depend√™ncia do GitHub Actions.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Seria poss√≠vel chamar a fun√ß√£o a cada carregamento de p√°gina, mas quero reduzir a quantidade de requisi√ß√µes √† API da inst√¢ncia em que tenho conta.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>squash&#43;merge no Git</title>
      <link>https://gmgall.net/blog/squash&#43;merge-no-git/</link>
      <pubDate>Mon, 01 May 2023 23:22:39 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/squash&#43;merge-no-git/</guid>
      <description>&lt;p&gt;√Äs vezes, depois de terminar o trabalho num &lt;em&gt;feature branch&lt;/em&gt; qualquer, voc√™ n√£o deseja simplesmente fazer um &lt;code&gt;merge&lt;/code&gt;. Voc√™ quer dar uma &amp;ldquo;limpada&amp;rdquo; no hist√≥rico primeiro antes de fazer &lt;code&gt;merge&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Frequentemente essa &amp;ldquo;limpeza&amp;rdquo; se d√° na forma de um &lt;code&gt;squash&lt;/code&gt;, uma jun√ß√£o das altera√ß√µes inseridas por mais de um &lt;em&gt;commit&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Por exemplo: o &lt;a href=&#34;https://github.com/gmgall/gmgall.net&#34;&gt;reposit√≥rio desse site&lt;/a&gt; tem um &lt;em&gt;branch&lt;/em&gt; &lt;code&gt;main&lt;/code&gt; com hist√≥rico relativamente &amp;ldquo;limpo&amp;rdquo;. Cada &lt;em&gt;commit&lt;/em&gt; representa um novo conte√∫do no site ou uma nova funcionalidade. O &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/.github/workflows/gh-pages-deployment.yml&#34;&gt;workflow que faz deploy&lt;/a&gt; do site √© disparado cada vez que eu fa√ßo um &lt;code&gt;push&lt;/code&gt; em &lt;code&gt;main&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Eu criei um &lt;em&gt;branch&lt;/em&gt; local chamado &lt;code&gt;fediverse_comments&lt;/code&gt; para trabalhar na funcionalidade de coment√°rios. Era uma funcionalidade nova, eu n√£o sabia exatamente quantos &lt;em&gt;commits&lt;/em&gt; eu precisaria fazer. Estava experimentando muita coisa. Ent√£o, mesmo sendo local, n√£o quis fazer bagun√ßa em &lt;code&gt;main&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;branches_antes.png&#34;
         alt=&#34;Screenshot do gitk mostrando um branch main e um branch fediverse_comments com v√°rios commits desorganizados.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Branch main &amp;#34;limpo&amp;#34; e feature branch fediverse_comments &amp;#34;sujo&amp;#34; antes do merge.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Depois de 5 &lt;em&gt;commits&lt;/em&gt; em &lt;code&gt;fediverse_comments&lt;/code&gt; (na imagem acima s√≥ aparecem 4, mas fiz mais um depois de tirar o &lt;em&gt;screenshot&lt;/em&gt;) me dei por satisfeito. Era hora do &lt;code&gt;merge&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Eu normalmente faria:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;git rebase -i&lt;/code&gt; para transformar os &lt;em&gt;commits&lt;/em&gt; em &lt;code&gt;fediverse_comments&lt;/code&gt; em um ou mais &lt;em&gt;commits&lt;/em&gt; &amp;ldquo;limpos&amp;rdquo;, ou seja, &lt;em&gt;commits&lt;/em&gt; que eu estaria OK em trazer via &lt;code&gt;merge&lt;/code&gt; para &lt;code&gt;main&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;trocaria para o &lt;em&gt;branch&lt;/em&gt; &lt;code&gt;main&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;faria o &lt;code&gt;merge&lt;/code&gt; com o &lt;code&gt;fediverse_comments&lt;/code&gt; (agora j√° &amp;ldquo;limpo&amp;rdquo;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Eu achava um pouco &amp;ldquo;indireto&amp;rdquo; demais &amp;ldquo;limpar&amp;rdquo; um &lt;em&gt;branch&lt;/em&gt; que em breve estaria em desuso para s√≥ depois fazer &lt;code&gt;merge&lt;/code&gt;, mas era como eu sabia fazer e nunca me questionei muito.&lt;/p&gt;
&lt;p&gt;Pois bem, descobri uma forma que me pareceu mais intuitiva semana passada. O comando &lt;code&gt;merge&lt;/code&gt; j√° possui uma &lt;em&gt;flag&lt;/em&gt; &lt;code&gt;--squash&lt;/code&gt; que faz o que eu precisava.&lt;/p&gt;
&lt;p&gt;Ent√£o, depois de terminar os trabalhos em &lt;code&gt;fediverse_comments&lt;/code&gt;, foi s√≥ trocar para &lt;code&gt;main&lt;/code&gt; e dar o seguinte comando:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git merge --squash fediverse_comments
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O que esse comando faz √© colocar no &lt;strong&gt;working directory&lt;/strong&gt; e na &lt;strong&gt;staging area&lt;/strong&gt; todas as altera√ß√µes em &lt;code&gt;fediverse_comments&lt;/code&gt;. Por√©m, &lt;strong&gt;n√£o faz &lt;code&gt;commit&lt;/code&gt;&lt;/strong&gt;. Acho isso positivo porque me d√° a oportunidade de dar uma √∫ltima revisada ou de fazer mais alguma altera√ß√£o no &lt;em&gt;commit&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;N√£o precisei nessa situa√ß√£o, ent√£o fiz um &lt;em&gt;commit&lt;/em&gt; de mensagem &lt;code&gt;Adiciona coment√°rios pelo fediverso&lt;/code&gt; em &lt;code&gt;main&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;branches_depois.png&#34;
         alt=&#34;Screenshot do gitk mostrando um branch main com um √∫nico commit limpo que traz as altera√ß√µes de todos os commits sujos de fediverse_comments.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Branch main &amp;#34;limpo&amp;#34; com um √∫nico commit com todas alterna√ß√µes feitas em fediverse_comments.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Dessa forma, meu &lt;code&gt;main&lt;/code&gt; ficou apenas com &lt;em&gt;commits&lt;/em&gt; &amp;ldquo;limpos&amp;rdquo; e poupei a etapa de fazer &lt;code&gt;squash&lt;/code&gt; no &lt;em&gt;feature branch&lt;/em&gt;. Devo fazer mais dessa forma no futuro.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sobre o App do Mastodon e Discuss√µes no Mastodon em Geral</title>
      <link>https://gmgall.net/blog/sobre-o-app-do-mastodon-e-discussoes-no-mastodon-em-geral/</link>
      <pubDate>Fri, 21 Apr 2023 20:01:12 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/sobre-o-app-do-mastodon-e-discussoes-no-mastodon-em-geral/</guid>
      <description>&lt;p&gt;Uma mudan√ßa recente no &lt;em&gt;app&lt;/em&gt; oficial do Mastodon suscitou uma discuss√£o interessante por l√°.&lt;/p&gt;
&lt;p&gt;Agora &lt;a href=&#34;https://github.com/mastodon/mastodon-ios/issues/1023&#34;&gt;o &lt;em&gt;app&lt;/em&gt; direciona os novos usu√°rios a criar uma conta na maior inst√¢ncia&lt;/a&gt; daquela rede em n√∫mero de usu√°rios. O comportamento anterior era pedir para o usu√°rio escolher uma inst√¢ncia. Ainda existe um bot√£o &lt;em&gt;pick my own server&lt;/em&gt;, mas ele √© dif√≠cil de perceber. Definitivamente o &amp;ldquo;caminho natural&amp;rdquo; nessa nova interface leva um novo usu√°rio a criar uma conta em &lt;a href=&#34;https://mastodon.social/&#34;&gt;mastodon.social&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Quem √© contra a mudan√ßa, v√™ riscos na centraliza√ß√£o que &amp;ldquo;empurrar&amp;rdquo; novos usu√°rios para a maior inst√¢ncia causaria. Se a mastodon.social se tornar lar da esmagadora maioria das contas, um potencial comprador &lt;em&gt;√† la&lt;/em&gt; &lt;a href=&#34;https://knowyourmeme.com/memes/space-karen&#34;&gt;Space Karen&lt;/a&gt; teria a capacidade de fazer um &lt;em&gt;takeover&lt;/em&gt;: desfederar as demais inst√¢ncias (para n√£o ceder tr√°fego para &amp;ldquo;concorrentes&amp;rdquo;) e aplicar as regras que quiser, inclusive impossibilitando a migra√ß√£o para outras inst√¢ncias.&lt;/p&gt;
&lt;p&gt;Um bom fio sobre isso √© o da conta &lt;a href=&#34;https://mstdn.social/@feditips&#34;&gt;@feditips@mstdn.social&lt;/a&gt;, que pode ser lido &lt;a href=&#34;https://mstdn.social/@feditips/110233282251253677&#34;&gt;aqui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Quem √© a favor da mudan√ßa, lembra que a principal dificuldade de usu√°rios rec√©m chegados ao Mastodon e ao fediverso √© a escolha de uma inst√¢ncia. Reduzir esse atrito ajudaria a aumentar o n√∫mero de usu√°rios. O risco maior, seria o de perder a oportunidade de crescer o fediverso &lt;strong&gt;agora&lt;/strong&gt;. Se isso n√£o for feito, competidores centralizados v√£o se estabelecer e nada mudar√° substancialmente no mundo das redes sociais. Com o Twitter nas cordas, estar√≠amos numa janela temporal ideal para crescer o fediverso. O atrito para recebermos novos usu√°rios precisaria ser m√≠nimo para n√£o perdermos essa oportunidade.&lt;/p&gt;
&lt;p&gt;Dois bons &lt;em&gt;toots&lt;/em&gt; sobre isso s√£o os do &lt;a href=&#34;https://mastodon.social/@davidslifka&#34;&gt;@davidslifka@mastodon.social&lt;/a&gt;, que podem ser lidos &lt;a href=&#34;https://mastodon.social/@davidslifka/110233470281108114&#34;&gt;aqui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Minha posi√ß√£o? Realmente n√£o tenho uma opini√£o estabelecida ainda. Pelo que li at√© o momento, achei que ambos os lados possuem bons pontos.&lt;/p&gt;
&lt;p&gt;Mais do que resumir a discuss√£o, queria expressar como √© bom ler uma discuss√£o nuan√ßada e feita com cortesia numa rede social novamente. Li e me senti &lt;strong&gt;bem&lt;/strong&gt; lendo a conversa. N√£o recordo da √∫ltima vez em que isso aconteceu. Certamente n√£o foi no Twitter dos √∫ltimos anos, muito menos no Facebook e Instagram. Acho que me senti assim nos primeiros anos do Twitter, nos f√≥runs e nas listas de discuss√£o. Ou seja: fazia tempo.&lt;/p&gt;
&lt;p&gt;A torcida √© para que o melhor lado para o fediverso &amp;ldquo;ganhe&amp;rdquo; porque realmente √© um espa√ßo diferenciado e necess√°rio. Precisa ser bem sucedido.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Palpitando do alto da minha experi√™ncia de 72 dias no fediverso e tentando lembrar dos dias em que eu n√£o entendia exatamente o conceito de federa√ß√£o, parece-me que o problema √© que as pessoas n√£o entendem de cara que a mudan√ßa de uma inst√¢ncia para outra √© poss√≠vel. Se entendem que √© poss√≠vel, acham que ser√° um procedimento dif√≠cil. A√≠ vira um degrau alto demais e elas desistem. Bate uma &lt;a href=&#34;https://en.wikipedia.org/wiki/Analysis_paralysis&#34;&gt;paralisia por an√°lise&lt;/a&gt;. Na busca pela inst√¢ncia perfeita, escolhe-se inst√¢ncia nenhuma.&lt;/p&gt;
&lt;p&gt;Curioso como escolhemos uma dentre v√°rias operadoras para usar celular, um dentre v√°rios servi√ßos de email para usar email e entendemos que essa escolha n√£o significa n√£o poder trocar de &amp;ldquo;inst√¢ncia&amp;rdquo; ou n√£o poder falar com pessoas em &amp;ldquo;outras inst√¢ncias&amp;rdquo;, mas internalizamos tanto o modelo de redes sociais centralizadas que a escolha de inst√¢ncia se torna uma quest√£o.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;many_buttons_meme.jpg&#34;
         alt=&#34;Meme tradicional de um homem transpirando com express√£o ansiosa diante da escolha dentre 2 bot√µes. S√≥ que nessa vers√£o do meme s√£o bem mais que 2 bot√µes no painel.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Usu√°rio tentando escolher uma inst√¢ncia numa rede social federada.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Talvez uma solu√ß√£o seja focar em divulgar que a escolha de uma inst√¢ncia n√£o √© t√£o definitiva quanto parece. Que uma mudan√ßa √© poss√≠vel e &lt;strong&gt;n√£o √© dif√≠cil&lt;/strong&gt;. Reconhe√ßo, por√©m, que o caminho mais f√°cil na interface do &lt;em&gt;app&lt;/em&gt; oficial realmente vai acabar sendo o mais trilhado, ent√£o a discuss√£o √© bastante relevante, sim.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;J√° est√° no fediverso? Quais foram suas dificuldades no in√≠cio? Tem um lado nessa discuss√£o sobre o &lt;em&gt;app&lt;/em&gt;? Seria √≥timo ler o que voc√™ tem a dizer. Entre em &lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;contato&lt;/a&gt; e vamos conversar sobre isso. :-)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Gerando Feeds Com GitHub Actions e os Servindo Com GitHub Pages</title>
      <link>https://gmgall.net/blog/gerando-feeds-com-github-actions-e-os-servindo-com-github-pages/</link>
      <pubDate>Sun, 16 Apr 2023 14:01:34 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/gerando-feeds-com-github-actions-e-os-servindo-com-github-pages/</guid>
      <description>&lt;p&gt;Terminei o &lt;a href=&#34;https://gmgall.net/blog/criando-feeds-rss-com-newslinkrss/&#34;&gt;post anterior&lt;/a&gt; sobre o &lt;a href=&#34;https://github.com/ittner/newslinkrss&#34;&gt;newslinkrss&lt;/a&gt; falando o seguinte:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Com o comando que gera o &lt;em&gt;feed&lt;/em&gt; pronto, podemos remover a op√ß√£o &lt;code&gt;--log&lt;/code&gt;. Para assinarmos o &lt;em&gt;feed&lt;/em&gt; criado podemos agendar a execu√ß√£o peri√≥dica do &lt;code&gt;newslinkrss&lt;/code&gt; via &lt;code&gt;cron&lt;/code&gt; e assinarmos o &lt;em&gt;feed&lt;/em&gt; resultante ou ent√£o indicarmos no nosso agregador RSS que a origem √© um comando.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Isso cobre 2 de 3 possibilidades de consumo dos &lt;em&gt;feeds&lt;/em&gt; criados. S√£o elas:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;arquivo local;&lt;/li&gt;
&lt;li&gt;comando e&lt;/li&gt;
&lt;li&gt;URL.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A 1¬™ possibilidade, a de agendar o &lt;code&gt;newslinkrss&lt;/code&gt; para escrever periodicamente um &lt;em&gt;feed&lt;/em&gt; em &lt;code&gt;/path/para/o/feed.xml&lt;/code&gt; e depois informar ao agregador que a origem do &lt;em&gt;feed&lt;/em&gt; √© um arquivo, n√£o √© vi√°vel caso o nosso agregador RSS seja um servi√ßo &lt;em&gt;web&lt;/em&gt; como o &lt;a href=&#34;https://feedly.com/&#34;&gt;Feedly&lt;/a&gt;. Ele naturalmente n√£o tem acesso ao nosso sistema de arquivos local.&lt;/p&gt;
&lt;p&gt;A 2¬™ possibilidade, a de informar que a origem do &lt;em&gt;feed&lt;/em&gt; √© um comando, √© interessante por n√£o nos obrigar a agendar a execu√ß√£o peri√≥dica do &lt;code&gt;newslinkrss&lt;/code&gt;, mas n√£o s√£o todos os agregadores que possuem essa funcionalidade.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;liferea.png&#34;
         alt=&#34;Tela de cadastro do agregador RSS Liferea mostrando 3 fontes poss√≠veis para o feed: URL, comando e arquivo local.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Tela de cadastro de feed no agregador Liferea. N√£o s√£o todos que permitem usar um comando como fonte.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Resta a √∫ltima possibilidade: gerar os &lt;em&gt;feeds&lt;/em&gt;, servi-los na &lt;em&gt;web&lt;/em&gt; e informar no agregador que a origem √© a URL dos &lt;em&gt;feeds&lt;/em&gt; gerados. Isso vai funcionar em agregadores &lt;em&gt;web&lt;/em&gt;, &lt;em&gt;mobile&lt;/em&gt; ou &lt;em&gt;desktop&lt;/em&gt; e vai permitir que outras pessoas tamb√©m cadastrem o &lt;em&gt;feed&lt;/em&gt; que voc√™ criou. √â a possibilidade mais vers√°til porque estaremos fazendo o trabalho que o dono do site &lt;strong&gt;deveria ter feito, mas n√£o fez&lt;/strong&gt;: servir um &lt;em&gt;feed&lt;/em&gt; para o site acess√≠vel a qualquer um na &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;A desvantagem dessa abordagem √© que nem todo mundo vai ter um servidor &lt;em&gt;web&lt;/em&gt; acess√≠vel na internet e configurar um s√≥ para servir &lt;em&gt;feeds&lt;/em&gt; de sites de terceiros pode ser trabalho demais. Seria √≥timo uma alternativa mais simples e sugiro uma que depende apenas de termos uma conta no &lt;a href=&#34;https://github.com&#34;&gt;GitHub&lt;/a&gt;: gerar os &lt;em&gt;feeds&lt;/em&gt; com &lt;a href=&#34;https://docs.github.com/en/actions&#34;&gt;GitHub Actions&lt;/a&gt; e servi-los via &lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub Pages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &amp;ldquo;estalo&amp;rdquo; veio ao pensar no &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/.github/workflows/gh-pages-deployment.yml&#34;&gt;&lt;em&gt;workflow&lt;/em&gt; que uso para publicar meu site&lt;/a&gt;. Se tenho um &lt;em&gt;workflow&lt;/em&gt; que executa o &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; e faz o &lt;em&gt;deploy&lt;/em&gt; dos arquivos HTML/CSS/JS/etc. gerados por ele no GitHub Pages, seria quest√£o de pouca adapta√ß√£o ter um &lt;em&gt;workflow&lt;/em&gt; que executa o &lt;code&gt;newslinkrss&lt;/code&gt; e faz o &lt;em&gt;deploy&lt;/em&gt; dos arquivos XML gerados.&lt;/p&gt;
&lt;p&gt;Funcionou praticamente na 1¬™ tentativa. O &lt;a href=&#34;https://github.com/gmgall/feeds&#34;&gt;reposit√≥rio&lt;/a&gt; com o &lt;a href=&#34;https://github.com/gmgall/feeds/blob/main/generate_feeds.sh&#34;&gt;script que gera os &lt;em&gt;feeds&lt;/em&gt;&lt;/a&gt; e o &lt;a href=&#34;https://github.com/gmgall/feeds/blob/main/.github/workflows/feeds.yml&#34;&gt;&lt;em&gt;workflow&lt;/em&gt; que executa o script e faz o &lt;em&gt;deploy&lt;/em&gt;&lt;/a&gt; dos arquivos √© p√∫blico. O script &lt;code&gt;generate_feeds.sh&lt;/code&gt; √© s√≥ um script Bash com uma sucess√£o de chamadas ao &lt;code&gt;newslinkrss&lt;/code&gt;. Os arquivos gerados em s√£o escritos em &lt;code&gt;./feeds&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O arquivo &lt;code&gt;.github/workflows/feeds.yml&lt;/code&gt; descreve um &lt;em&gt;workflow&lt;/em&gt; do GitHub Actions que prepara o ambiente, executa o script &lt;code&gt;generate_feeds.sh&lt;/code&gt; e faz o &lt;em&gt;deploy&lt;/em&gt; dos arquivos em &lt;code&gt;./feeds&lt;/code&gt; no GitHub Pages. Vou descrever o que cada trecho do arquivo faz sem muito detalhamento porque acho que √© praticamente autoexplicativo. Vou me deter no processo de configura√ß√£o do Pages e das chaves no final, por ser as maiores &amp;ldquo;pegadinhas&amp;rdquo; do processo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Generate and deploy feeds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;on&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;schedule&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;# Run workflow automatically&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;cron&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0 * * * *&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# Runs every hour, on the hour&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;workflow_dispatch&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O trecho acima nomeia o &lt;em&gt;workflow&lt;/em&gt; e define que ele ser√° executado em 2 situa√ß√µes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Periodicamente, a cada 1h. A sintaxe usada √© a do &lt;code&gt;cron&lt;/code&gt;. Se precisar de ajuda com ela, veja o assistente &lt;a href=&#34;https://crontab.guru/&#34;&gt;crontab guru&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Ao se clicar no bot√£o &lt;strong&gt;Run workflow&lt;/strong&gt; na p√°gina das &lt;em&gt;Actions&lt;/em&gt; do reposit√≥rio no GitHub. N√£o √© estritamente necess√°rio, mas √© interessante enquanto voc√™ estiver testando. Imagine precisar esperar uma hora pela pr√≥xima execu√ß√£o do &lt;em&gt;workflow&lt;/em&gt; s√≥ para descobrir se alguma altera√ß√£o funcionou como previsto?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;jobs&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;build-deploy&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;runs-on&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;ubuntu-latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;steps&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;uses&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;actions/checkout@v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Aqui √© definido que a m√°quina virtual (o &lt;em&gt;runner&lt;/em&gt;) em que os passos seguintes ser√£o executados usar√° a √∫ltima vers√£o dispon√≠vel do Ubuntu Linux.&lt;/p&gt;
&lt;p&gt;Tamb√©m executa o primeiro passo: fazer &lt;em&gt;checkout&lt;/em&gt; do reposit√≥rio. O &lt;em&gt;runner&lt;/em&gt; vai precisar usar o script &lt;code&gt;generate_feeds.sh&lt;/code&gt;. Essa &lt;em&gt;action&lt;/em&gt; torna o script dispon√≠vel no &lt;em&gt;runner&lt;/em&gt;. √â como se estiv√©ssemos fazendo &lt;code&gt;git clone&lt;/code&gt; no &lt;em&gt;runner&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Instala Python 3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;uses&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;actions/setup-python@v2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;with&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;python-version&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;3.9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Instala newslinkrss&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;run&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;pip3 install newslinkrss&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Acima instalamos o Python e o &lt;code&gt;newslinkrss&lt;/code&gt; via &lt;code&gt;pip&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Cria diret√≥rio que receber√° os feeds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;run&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mkdir feeds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Acima criamos o diret√≥rio &lt;code&gt;feeds&lt;/code&gt;. Lembram que &lt;code&gt;generate_feeds.sh&lt;/code&gt; escreve sempre no diret√≥rio &lt;code&gt;feeds&lt;/code&gt;? Com esse passo, criamos esse diret√≥rio no &lt;em&gt;runner&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Executa newslinkrss&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;run&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bash generate_feeds.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Acima executamos o script &lt;code&gt;generate_feeds.sh&lt;/code&gt;. O script est√° dispon√≠vel no &lt;em&gt;runner&lt;/em&gt; porque o 1¬∫ passo que fizemos foi um &lt;em&gt;checkout&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Deploy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;uses&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;peaceiris/actions-gh-pages@v2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;env&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;ACTIONS_DEPLOY_KEY&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${{ secrets.ACTIONS_DEPLOY_KEY }}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;PUBLISH_BRANCH&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gh-pages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;PUBLISH_DIR&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;./feeds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Acima √© feito o &lt;em&gt;deploy&lt;/em&gt; com a &lt;em&gt;action&lt;/em&gt; &lt;a href=&#34;https://github.com/peaceiris/actions-gh-pages&#34;&gt;&lt;code&gt;peaceiris/actions-gh-pages&lt;/code&gt;&lt;/a&gt;. Essa √© a parte final do &lt;em&gt;workflow&lt;/em&gt; e a que eu acho que merece um pouco mais de aten√ß√£o &lt;strong&gt;porque demanda configura√ß√µes em outros locais&lt;/strong&gt;. Vou falar de cada vari√°vel abaixo de &lt;code&gt;env:&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PUBLISH_DIR&lt;/code&gt; define o diret√≥rio cujo conte√∫do ser√° servido via GitHub Pages. Os &lt;em&gt;feeds&lt;/em&gt; s√£o escritos em &lt;code&gt;./feeds&lt;/code&gt; no &lt;em&gt;runner&lt;/em&gt; pelo script &lt;code&gt;generate_feeds.sh&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PUBLISH_BRANCH&lt;/code&gt; define o nome do &lt;em&gt;branch&lt;/em&gt; no nosso reposit√≥rio que ter√° os arquivos servidos via GitHub Pages. Ele ser√° um branch √≥rf√£o do reposit√≥rio. N√£o ter√° o script &lt;code&gt;generate_feeds.sh&lt;/code&gt;, o &lt;code&gt;README.md&lt;/code&gt;, o arquivo YAML que descreve o &lt;em&gt;workflow&lt;/em&gt; ou qualquer outra coisa que n√£o sejam os arquivos servidos via GitHub Pages. Aqui estamos definindo o &lt;em&gt;branch&lt;/em&gt; &lt;code&gt;gh-pages&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Certifique-se de que as configura√ß√µes do seu reposit√≥rio em &lt;em&gt;Settings&lt;/em&gt; &amp;gt; &lt;em&gt;Pages&lt;/em&gt; estejam como na imagem abaixo: definindo que a origem √© um &lt;em&gt;branch&lt;/em&gt; de nome &lt;code&gt;gh-pages&lt;/code&gt;. No momento em que escrevo esse post, a URL para acessar essa configura√ß√£o √© &lt;a href=&#34;https://github.com/USER/REPO/settings/pages&#34;&gt;https://github.com/USER/REPO/settings/pages&lt;/a&gt;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;pages_config.png&#34;
         alt=&#34;Configura√ß√µes do GitHub Pages para um reposit√≥rio no GitHub. As configura√ß√µes mostram que o branch de origem √© gh-pages.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Configura√ß√µes do GitHub Pages.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;ACTIONS_DEPLOY_KEY&lt;/code&gt; define um &lt;a href=&#34;https://docs.github.com/en/actions/security-guides/encrypted-secrets&#34;&gt;&lt;em&gt;segredo criptografado&lt;/em&gt;&lt;/a&gt; de mesmo nome com a &lt;strong&gt;parte privada&lt;/strong&gt; de um par de chaves que ser√° usada para o &lt;a href=&#34;https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys&#34;&gt;&lt;em&gt;deploy&lt;/em&gt;&lt;/a&gt;. Os segredos s√£o configurados em &lt;em&gt;Settings&lt;/em&gt; &amp;gt; &lt;em&gt;Secrets and variables&lt;/em&gt;. No momento em que escrevo esse post, a URL √© &lt;a href=&#34;https://github.com/USER/REPO/settings/secrets/actions&#34;&gt;https://github.com/USER/REPO/settings/secrets/actions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;parte p√∫blica&lt;/strong&gt; deve ser configurada em &lt;em&gt;Settings&lt;/em&gt; &amp;gt; &lt;em&gt;Deploy keys&lt;/em&gt;. No momento em que escrevo esse post, a URL para essa configura√ß√£o √© &lt;a href=&#34;https://github.com/USER/REPO/settings/keys&#34;&gt;https://github.com/USER/REPO/settings/keys&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A l√≥gica √© an√°loga a configurar login numa m√°quina remota via SSH com um par de chaves. A sua m√°quina local fica com a parte privada. A m√°quina remota fica com a parte p√∫blica.&lt;/p&gt;
&lt;p&gt;O reposit√≥rio tem uma chave p√∫blica configurada para que apenas &lt;strong&gt;as m√°quinas com a parte privada correspondente&lt;/strong&gt; possam fazer &lt;em&gt;deploy&lt;/em&gt; nele. Essa parte privada √© usada pelos &lt;em&gt;runners&lt;/em&gt; do GitHub Actions. Eles nada mais s√£o que m√°quinas virtuais ef√™meras, ent√£o n√£o podemos logar nelas uma √∫nica vez e configurar a chave privada como far√≠amos em uma m√°quina qualquer que controlamos. A parte privada fica acess√≠vel aos &lt;em&gt;runners&lt;/em&gt; por meio dos &lt;a href=&#34;https://docs.github.com/en/actions/security-guides/encrypted-secrets&#34;&gt;segredos&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Como configuramos ambas as partes nas configura√ß√µes de um mesmo reposit√≥rio, pode ficar confuso o papel de cada parte. Espero as linhas acima tenham ajudado a elucidar o papel de cada uma. Mostro como fazer na pr√°tica abaixo.&lt;/p&gt;
&lt;h2 id=&#34;configurando-as-chaves&#34;&gt;Configurando as chaves&lt;/h2&gt;
&lt;h3 id=&#34;criando-as-chaves&#34;&gt;Criando as chaves&lt;/h3&gt;
&lt;p&gt;A cria√ß√£o do par de chaves pode ser feita com um comando como o seguinte:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ssh-keygen -t rsa -b &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; -C &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;git config user.email&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; -f gh-pages -N &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2 arquivos ser√£o criados por esse comando: &lt;code&gt;gh-pages&lt;/code&gt; e &lt;code&gt;gh-pages.pub&lt;/code&gt;, as chaves privada e p√∫blica, respectivamente.&lt;/p&gt;
&lt;h3 id=&#34;adicionando-a-chave-p√∫blica-como-deploy-key&#34;&gt;Adicionando a chave p√∫blica como &lt;em&gt;deploy key&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Acesse &lt;a href=&#34;https://github.com/USER/REPO/settings/keys&#34;&gt;https://github.com/USER/REPO/settings/keys&lt;/a&gt;, clique em &lt;em&gt;Add deploy key&lt;/em&gt; e cole a &lt;strong&gt;parte p√∫blica&lt;/strong&gt;. Lembre-se de marcar a caixa &lt;em&gt;Allow write access&lt;/em&gt; e clique em &lt;em&gt;Add key&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As configura√ß√µes em &lt;em&gt;Settings&lt;/em&gt; &amp;gt; &lt;em&gt;Deploy keys&lt;/em&gt; devem ficar parecidas √†s da figura abaixo.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;deploy_keys.png&#34;
         alt=&#34;Configura√ß√µes das deploy keys num reposit√≥rio do GitHub ap√≥s a configura√ß√£o de uma chave.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Configura√ß√µes das deploy keys.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;adicionando-a-chave-privada-como-segredo&#34;&gt;Adicionando a chave privada como segredo&lt;/h3&gt;
&lt;p&gt;Acesse &lt;a href=&#34;https://github.com/USER/REPO/settings/secrets/actions&#34;&gt;https://github.com/USER/REPO/settings/secrets/actions&lt;/a&gt;, clique no bot√£o verde &lt;em&gt;New repository secret&lt;/em&gt;, use &lt;code&gt;ACTIONS_DEPLOY_KEY&lt;/code&gt; como nome, cole a &lt;strong&gt;parte privada&lt;/strong&gt; no campo &lt;em&gt;Secret&lt;/em&gt; e clique em &lt;em&gt;Add secret&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As configura√ß√µes em &lt;em&gt;Settings&lt;/em&gt; &amp;gt; &lt;em&gt;Secrets and variables&lt;/em&gt; &amp;gt; &lt;em&gt;Actions&lt;/em&gt; devem ficar parecidas √†s da figura abaixo.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;secrets.png&#34;
         alt=&#34;Configura√ß√µes dos segredos criptografados num reposit√≥rio do GitHub ap√≥s a inser√ß√£o de um segredo chamado &amp;#34;ACTIONS_DEPLOY_KEY&amp;#34;.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Configura√ß√µes dos segredos num reposit√≥rio ap√≥s a inser√ß√£o de um segredo chamado ACTIONS_DEPLOY_KEY.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Com o &lt;em&gt;workflow&lt;/em&gt; funcionando, os &lt;em&gt;feeds&lt;/em&gt; estar√£o dispon√≠veis numa URL como &lt;a href=&#34;https://USER.github.io/REPO/FILE.xml&#34;&gt;https://USER.github.io/REPO/FILE.xml&lt;/a&gt;. No caso do &lt;em&gt;feed&lt;/em&gt; de exemplo que fiz para o &lt;a href=&#34;https://gmgall.net/blog/criando-feeds-rss-com-newslinkrss/&#34;&gt;post anterior&lt;/a&gt;, a URL √© &lt;a href=&#34;https://gmgall.github.io/feeds/gmgall_untappd.xml&#34;&gt;https://gmgall.github.io/feeds/gmgall_untappd.xml&lt;/a&gt; (&lt;code&gt;feeds&lt;/code&gt; √© o &lt;a href=&#34;https://github.com/gmgall/feeds&#34;&gt;nome do reposit√≥rio&lt;/a&gt; e &lt;code&gt;gmgall_untappd.xml&lt;/code&gt; √© o &lt;a href=&#34;https://github.com/gmgall/feeds/blob/464ddf704a3ee2d46bbc40220331b0bb27d4e767/generate_feeds.sh#L20&#34;&gt;nome do arquivo gerado pelo script&lt;/a&gt; &lt;code&gt;generate_feeds.sh&lt;/code&gt;).&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Usa o GitHub Actions para algo parecido? Pensou em outra forma de servir os &lt;em&gt;feeds&lt;/em&gt;? Seria √≥timo conversar sobre isso. Entre com &lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;contato&lt;/a&gt; se quiser trocar ideia.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Criando Feeds RSS Para Sites Que N√£o os Fornecem</title>
      <link>https://gmgall.net/blog/criando-feeds-rss-com-newslinkrss/</link>
      <pubDate>Wed, 12 Apr 2023 22:00:07 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/criando-feeds-rss-com-newslinkrss/</guid>
      <description>&lt;p&gt;Quem usa um agregador RSS como &amp;ldquo;porta de entrada&amp;rdquo; para a &lt;em&gt;web&lt;/em&gt; hoje em dia sofre com v√°rios sites que deveriam publicar um &lt;em&gt;feed&lt;/em&gt;, mas n√£o o fazem.&lt;/p&gt;
&lt;p&gt;Resta buscar/escrever ferramentas que usem APIs ou fazer &lt;em&gt;scraping&lt;/em&gt; para gerar os &lt;em&gt;feeds&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Muitas dessas ferramentas, como a &lt;a href=&#34;https://github.com/RSS-Bridge/rss-bridge&#34;&gt;RSS-Bridge&lt;/a&gt;, parecem interessantes, mas nunca parei para test√°-las porque elas sempre me pareceram &lt;em&gt;complicadas demais&lt;/em&gt;. A RSS-Bridge, por exemplo, precisa de um servidor com PHP.&lt;/p&gt;
&lt;p&gt;Uma ferramenta de linha de comando, f√°cil de instalar, que eu pudesse agendar a execu√ß√£o via &lt;code&gt;cron&lt;/code&gt;, que recebesse as op√ß√µes em texto e &amp;ldquo;jogasse&amp;rdquo; o resultado como texto na sa√≠da padr√£o, seria minha ferramenta ideal.&lt;/p&gt;
&lt;p&gt;Nunca tinha encontrado uma ferramenta assim, at√© recentemente. Ela chama-se &lt;a href=&#34;https://github.com/ittner/newslinkrss&#34;&gt;newslinkrss&lt;/a&gt;. Citando o README, &amp;ldquo;ele funciona como um &lt;em&gt;crawler&lt;/em&gt; ou &lt;em&gt;scraper&lt;/em&gt; de prop√≥sito espec√≠fico&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Acho que o grande &amp;ldquo;pulo do gato&amp;rdquo; dessa ferramenta √© servir como uma esp√©cie de &lt;em&gt;framework&lt;/em&gt; para cria√ß√£o de &lt;em&gt;feeds&lt;/em&gt; RSS. Voc√™ s√≥ precisa entrar com o conhecimento espec√≠fico sobre a p√°gina para a qual voc√™ est√° tentando criar um &lt;em&gt;feed&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Op√ß√µes para capturar/filtrar a URL de cada item do &lt;em&gt;feed&lt;/em&gt; (o conte√∫do de &lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt;), o corpo de cada item (o conte√∫do de &lt;code&gt;&amp;lt;description&amp;gt;&lt;/code&gt;), a data de cada item (o conte√∫do de &lt;code&gt;&amp;lt;pubDate&amp;gt;&lt;/code&gt;), o t√≠tulo do &lt;em&gt;feed&lt;/em&gt;&amp;hellip; Est√£o todas presentes.&lt;/p&gt;
&lt;p&gt;Fica mais simples de entender com um exemplo: criarei um &lt;em&gt;feed&lt;/em&gt; RSS para as cervejas em que dei &lt;em&gt;check-in&lt;/em&gt; no &lt;a href=&#34;https://untappd.com/&#34;&gt;Untappd&lt;/a&gt;. O ponto de partida √© sempre a URL da p√°gina que lista os links para o que ser√£o os &lt;code&gt;&amp;lt;item&amp;gt;&lt;/code&gt;s individuais do &lt;em&gt;feed&lt;/em&gt;. Essa URL √© o √∫nico par√¢metro posicional que o comando recebe.&lt;/p&gt;
&lt;p&gt;Num blog, seria a URL da p√°gina com a lista dos posts. Num site de not√≠cias, seria a URL da p√°gina principal de uma editoria qualquer. Nesse exemplo, √© a URL da p√°gina do &lt;a href=&#34;https://untappd.com/user/gmgall&#34;&gt;meu perfil no Untappd&lt;/a&gt;. Ela cont√©m uma &lt;em&gt;timeline&lt;/em&gt; com as cervejas abaixo de &lt;em&gt;Guilherme&amp;rsquo;s Recent Activity&lt;/em&gt;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;untappd.png&#34;
         alt=&#34;Um perfil do Untappd visualizado visto pela interface web.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Meu perfil no Untappd.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; -o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Estou usando a op√ß√£o &lt;code&gt;-o&lt;/code&gt; para gravar o &lt;em&gt;feed&lt;/em&gt; resultante num arquivo em &lt;code&gt;/tmp/feed.xml&lt;/code&gt;. O comportamento &lt;em&gt;default&lt;/em&gt; √© imprimir na sa√≠da padr√£o. Enquanto estou criando o &lt;em&gt;feed&lt;/em&gt;, gosto de abri-lo com o Firefox para ter uma visualiza√ß√£o melhor da estrutura.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;firefox_rss.png&#34;
         alt=&#34;Um arquivo XML sendo visualizado pelo Firefox.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;A estrutura do feed sendo mostrada pelo Firefox.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Analisando o que temos at√© aqui, percebemos que o comando est√° generalista demais. Todo link virou um item no &lt;em&gt;feed&lt;/em&gt;, at√© aqueles do topo da p√°gina (&amp;ldquo;Blog&amp;rdquo;, &amp;ldquo;Top Rated&amp;rdquo;, &amp;ldquo;Help&amp;rdquo;). Precisamos pegar s√≥ os links para os &lt;em&gt;check-ins&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Vamos inspecionar a p√°gina do perfil para descobrirmos que padr√£o seguem os links para os &lt;em&gt;check-ins&lt;/em&gt;. Usando a op√ß√£o &lt;em&gt;Selecionar um elemento da p√°gina (Ctrl+Shift+C)&lt;/em&gt; e colocando o cursor do mouse sobre os links de texto &amp;ldquo;View Detailed Check-in&amp;rdquo;, percebemos que o padr√£o √© &lt;code&gt;/user/gmgall/checkin/&lt;/code&gt; seguido por um n√∫mero.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;inspetor.png&#34;
         alt=&#34;Firefox Developer Tools sendo usada para inspecionar a p√°gina de um perfil no Untappd&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Usando DevTools para descobrir o padr√£o dos links que apontam para a p√°gina individual de cada check-in.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;A op√ß√£o que usamos para capturarmos apenas os links que casam com determinada regex √© &lt;code&gt;-p&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-p &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.+/user/gmgall/checkin/[0-9]+&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Se abrirmos o &lt;em&gt;feed&lt;/em&gt; que temos nesse ponto, veremos que cada item √© um &lt;em&gt;check-in&lt;/em&gt;. Outros links no perfil n√£o viraram &lt;code&gt;&amp;lt;item&amp;gt;&lt;/code&gt;s no &lt;em&gt;feed&lt;/em&gt;. Exemplo de um dos itens:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Sat, 01 Apr 2023 04:26:44 +0000&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Sat, 01 Apr 2023 04:26:44 +0000&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;guid&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isPermaLink=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/guid&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Os links est√£o corretos, mas o t√≠tulo poderia ser melhor. O conte√∫do de &lt;code&gt;&amp;lt;description&amp;gt;&lt;/code&gt; tamb√©m. Vamos usar a op√ß√£o &lt;code&gt;--follow&lt;/code&gt; para tentarmos capturar mais informa√ß√µes por item.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-p &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.+/user/gmgall/checkin/[0-9]+&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--follow &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Agora cada item est√° como o abaixo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Guilherme is drinking a Torobayo by Compa√±ia Cervecera Kunstmann on Untappd&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Guilherme is drinking a Torobayo by Compa√±ia Cervecera Kunstmann on Untappd | UntappdLink text: Sat, 01 Apr 2023 04:26:44 +0000&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;author&amp;gt;&lt;/span&gt;The Untappd Team&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/author&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;guid&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isPermaLink=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/guid&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Melhorou bastante, mas tem uma melhora √≥bvia: capturar a data. A op√ß√£o &lt;code&gt;--follow&lt;/code&gt; nos d√° a capacidade de capturar a data a partir da p√°gina de cada item individual com op√ß√µes espec√≠ficas para isso.&lt;/p&gt;
&lt;p&gt;Vamos usar o inspetor na p√°gina de um &lt;em&gt;check-in&lt;/em&gt; individual para vermos onde podemos pegar a data.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;inspetor2.png&#34;
         alt=&#34;Firefox Developer Tools sendo usado para inspecionar a p√°gina de um check-in no Untappd.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Inspecionando a p√°gina de um check-in no Untappd.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;A data/hora do &lt;em&gt;check-in&lt;/em&gt; aparece num par√°grafo (elemento &lt;code&gt;p&lt;/code&gt;) com a classe &lt;code&gt;time&lt;/code&gt;. Podemos captur√°-la via um &lt;a href=&#34;https://developer.mozilla.org/pt-BR/docs/Web/CSS/CSS_Selectors&#34;&gt;seletor CSS&lt;/a&gt; com a op√ß√£o &lt;code&gt;--date-from-csss&lt;/code&gt; (&lt;em&gt;date from CSS selector&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Vamos tamb√©m usar a op√ß√£o &lt;code&gt;--log DEBUG&lt;/code&gt; para vermos exatamente o que est√° sendo capturado como data.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-p &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.+/user/gmgall/checkin/[0-9]+&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--follow &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--date-from-csss &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.time&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--log DEBUG &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A op√ß√£o &lt;code&gt;--log DEBUG&lt;/code&gt; vai imprimir linhas como a abaixo para cada item:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;INFO:__main__:Following URL https://untappd.com/user/gmgall/checkin/1260790060
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DEBUG:__main__:date-from-csss found candidate text: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Sat, 01 Apr 2023 04:26:44 +0000&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DEBUG:__main__:date regex matched: src&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Sat, &lt;span style=&#34;color:#ae81ff&#34;&gt;01&lt;/span&gt; Apr &lt;span style=&#34;color:#ae81ff&#34;&gt;2023&lt;/span&gt; 04:26:44 +0000, rx&lt;span style=&#34;color:#f92672&#34;&gt;=(&lt;/span&gt;.+&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, result&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Sat, &lt;span style=&#34;color:#ae81ff&#34;&gt;01&lt;/span&gt; Apr &lt;span style=&#34;color:#ae81ff&#34;&gt;2023&lt;/span&gt; 04:26:44 +0000
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DEBUG:__main__:Found date from CSS Selector 2023-04-01 04:26:44+00:00
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nesse caso espec√≠fico, j√° temos uma data em formato utiliz√°vel, mas raramente esse √© o caso. Use &lt;code&gt;--log&lt;/code&gt; quando for criar &lt;em&gt;feeds&lt;/em&gt; para p√°ginas com formatos mais complicados.&lt;/p&gt;
&lt;p&gt;Vamos ver como est√° cada item no &lt;em&gt;feed&lt;/em&gt; agora:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Guilherme is drinking a Torobayo by Compa√±ia Cervecera Kunstmann on Untappd&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Guilherme is drinking a Torobayo by Compa√±ia Cervecera Kunstmann on Untappd | UntappdLink text: Sat, 01 Apr 2023 04:26:44 +0000&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;author&amp;gt;&lt;/span&gt;The Untappd Team&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/author&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;guid&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isPermaLink=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/guid&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;pubDate&amp;gt;&lt;/span&gt;Sat, 01 Apr 2023 04:26:44 GMT&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/pubDate&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nesse ponto, temos as datas de cada item (&lt;code&gt;&amp;lt;pubDate&amp;gt;&lt;/code&gt; agora est√° presente).&lt;/p&gt;
&lt;p&gt;Vamos melhorar o t√≠tulo de cada item. A parte inicial (&lt;code&gt;Guilherme is drinking a&lt;/code&gt;) e a final (&lt;code&gt;on Untappd&lt;/code&gt;) s√£o redundantes. A op√ß√£o &lt;code&gt;--title-regex&lt;/code&gt; nos permite filtrar os t√≠tulos dos itens. Ela recebe uma regex com um grupo e o que casar dentro desse grupo se torna o novo t√≠tulo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-p &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.+/user/gmgall/checkin/[0-9]+&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--follow &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--date-from-csss &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.time&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--log DEBUG &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--title-regex &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Guilherme is drinking a (.+) on Untappd&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Cada item agora tem um t√≠tulo melhor:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Torobayo by Compa√±ia Cervecera Kunstmann&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Guilherme is drinking a Torobayo by Compa√±ia Cervecera Kunstmann on Untappd | UntappdLink text: Sat, 01 Apr 2023 04:26:44 +0000&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;author&amp;gt;&lt;/span&gt;The Untappd Team&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/author&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;guid&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;isPermaLink=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;https://untappd.com/user/gmgall/checkin/1260790060&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/guid&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;pubDate&amp;gt;&lt;/span&gt;Sat, 01 Apr 2023 04:26:44 GMT&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/pubDate&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Precisamos agora de um corpo melhor em cada item. Atualmente em &lt;code&gt;&amp;lt;description&amp;gt;&lt;/code&gt; temos apenas um texto com nome da cerveja e data/hora do &lt;em&gt;check-in&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Vamos usar &lt;code&gt;--with-body&lt;/code&gt; para incluirmos um corpo e &lt;code&gt;--body-csss&lt;/code&gt; para filtrarmos o que far√° parte do corpo por meio de um seletor CSS. Usando apenas &lt;code&gt;--with-body&lt;/code&gt;, tudo entre &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; e &lt;code&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; ser√° inclu√≠do no corpo de cada item do &lt;em&gt;feed&lt;/em&gt;. Pode ser esse o comportamento desejado para p√°ginas mais simples, mas n√£o √© o caso do Untappd.&lt;/p&gt;
&lt;p&gt;Inspecionando a p√°gina de cada &lt;em&gt;check-in&lt;/em&gt;, descobrimos que o &lt;em&gt;card&lt;/em&gt; com as informa√ß√µes do check-in √© uma &lt;code&gt;div&lt;/code&gt; com as classes &lt;code&gt;checkin-info&lt;/code&gt; e &lt;code&gt;pad-it&lt;/code&gt;. Podemos selecion√°-la com o seletor &lt;code&gt;.checkin-info.pad-it&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newslinkrss &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-p &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.+/user/gmgall/checkin/[0-9]+&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--follow &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--date-from-csss &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.time&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--log DEBUG &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--title-regex &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Guilherme is drinking a (.+) on Untappd&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--with-body &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	--body-csss &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.checkin-info.pad-it&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://untappd.com/user/gmgall&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;	-o /tmp/feed.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Se visualizarmos esse &lt;em&gt;feed&lt;/em&gt; num agregador, temos um resultado bem satisfat√≥rio:&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;quite_rss.png&#34;
         alt=&#34;Agregador RSS exibindo o feed que acabamos de criar.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Agregador QuiteRSS mostrando o feed que acabamos de criar nesse post.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Com o comando que gera o &lt;em&gt;feed&lt;/em&gt; pronto, podemos remover a op√ß√£o &lt;code&gt;--log&lt;/code&gt;. Para assinarmos o &lt;em&gt;feed&lt;/em&gt; criado podemos agendar a execu√ß√£o peri√≥dica do &lt;code&gt;newslinkrss&lt;/code&gt; via &lt;code&gt;cron&lt;/code&gt; e assinarmos o &lt;em&gt;feed&lt;/em&gt; resultante ou ent√£o indicarmos no nosso agregador RSS que a origem √© um comando.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Como voc√™ tem lidado com sites que n√£o oferecem &lt;em&gt;feeds&lt;/em&gt;? Conhece alguma ferramenta parecida com o &lt;code&gt;newslinkrss&lt;/code&gt;? Adoraria ouvir sobre. Fa√ßa &lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;contato&lt;/a&gt; se quiser conversar sobre isso.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Perguntas &#34;idiotas&#34; podem ser tentativas de ter controle sobre um mundo ca√≥tico</title>
      <link>https://gmgall.net/blog/perguntas-idiotas/</link>
      <pubDate>Sat, 08 Apr 2023 15:50:19 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/perguntas-idiotas/</guid>
      <description>&lt;p&gt;Um fio l√° no Twitter - que se perdeu porque apaguei todos os meus tweets - come√ßava com esses 2 tweets de uma mesma pessoa:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&amp;ldquo;Se eu estudar x horas por dia durante x meses eu arranjo o emprego tal?&amp;rdquo;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Sei l√° mano, se vc n√£o for um personagem de videogame que aumenta de n√≠vel a cada tanto de xp certinho, acho que ningu√©m vai saber te responder isso&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Eu fico de cara quando vejo essa pergunta vindo de gente com idade pra ser adulta tlgd? J√° deu tempo pra vida ter dado oportunidades de vc aprender que n√£o √© assim que ela funciona carai&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Eu concordo com a pessoa, mas nas &lt;em&gt;replies&lt;/em&gt; fui no caminho de tentar entender o lado de quem faz a pergunta criticada.&lt;/p&gt;
&lt;p&gt;Acho que esse tipo de pergunta aparece de uma necessidade de acreditar que exista um m√©todo num processo bastante ca√≥tico, em que n√£o temos controle quase nenhum. No caso espec√≠fico da pergunta, √© o processo de arranjar um emprego, mas acho que fazemos isso com v√°rios outros problemas.&lt;/p&gt;
&lt;p&gt;Saber que os resultados s√£o muito vari√°veis, que se depende muito de &amp;ldquo;QI&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&amp;rdquo; e que raramente √© &amp;ldquo;justo&amp;rdquo; s√£o pensamentos muito desconfort√°veis para se manter na cabe√ßa quando se est√° trocando de carreira/emprego, ent√£o se busca uma refer√™ncia&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; que diga o contr√°rio.&lt;/p&gt;
&lt;p&gt;Vendo por outra perspectiva: a ideologia dominante cospe meritocracia na nossa cara desde cedo. Basta &amp;ldquo;ter m√©rito&amp;rdquo; o suficiente para conseguir qualquer coisa. Quem faz uma pergunta dessas est√° s√≥ tentando obter uma m√©trica objetiva de quanto &amp;ldquo;m√©rito&amp;rdquo; vai precisar aplicar para resolver o problema &amp;ldquo;arranjar o emprego x&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Uma pessoa honesta vai te responder que n√£o h√° como saber&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Uma desonesta talvez tente te vender um curso ou livro te ensinando como obter conhecimento W em X dias e arranjar o emprego Y em at√© Z meses, sem jamais citar que √© imposs√≠vel garantir essas coisas.&lt;/p&gt;
&lt;p&gt;O que escrevi acima n√£o √© uma constata√ß√£o genial e acho que quem faz a pergunta tamb√©m sabe dessas coisas no √¢mago. Meu palpite √© que a pessoa at√© tem um certo senso de que &amp;ldquo;a banda n√£o toca&amp;rdquo; desse jeito, mas faz a pergunta pela disson√¢ncia que existe entre o que ela v√™ no mundo (processos aleat√≥rios com um monte de vari√°veis que ela n√£o controla) e o que dizem para ela sobre o mundo (existe meritocracia, existe um m√©todo que te faz trocar de emprego/carreira estudando X horas/dia etc).&lt;/p&gt;
&lt;p&gt;Acho que muitas das perguntas &amp;ldquo;idiotas&amp;rdquo; que deixam a gente pensando &amp;ldquo;o mundo n√£o funciona assim, cara, como voc√™ ainda n√£o entendeu isso?&amp;rdquo; s√£o as pessoas tentando lidar com essa disson√¢ncia. E isso n√£o acontece s√≥ com processos seletivos para empregos, acontece com v√°rios outras quest√µes da vida.&lt;/p&gt;
&lt;p&gt;Eu sei que j√° fiz v√°rias dessas perguntas &amp;ldquo;idiotas&amp;rdquo; e provavelmente seguirei fazendo algumas. √â bem mais confort√°vel dar o bra√ßo para algu√©m se voc√™ est√° atravessando uma avenida vendado. O problema √© que em v√°rias situa√ß√µes est√° &lt;strong&gt;todo mundo vendado&lt;/strong&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Que tipo de pergunta &amp;ldquo;idiota&amp;rdquo; dessas voc√™ j√° fez? Quais segue fazendo? Se idenfificou com alguma coisa que escrevi?&lt;/p&gt;
&lt;p&gt;Discorda? Nunca teve esse tipo de pensamento?&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;Entre em contato&lt;/a&gt; se quiser dialogar sobre, vai ser interessante ver outras  perspectivas.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Quem Indica&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;O perfil que comentava a pergunta √© &amp;ldquo;grande&amp;rdquo;, com mais de 10000 seguidores.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;Uma frustra√ß√£o que a pessoa que iniciou o fio manifesta √© que nessas situa√ß√µes sempre tem quem responda com muita certeza e precis√£o.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>O Skoob Parece Abandonado</title>
      <link>https://gmgall.net/blog/skoob/</link>
      <pubDate>Tue, 28 Mar 2023 13:48:26 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/skoob/</guid>
      <description>&lt;p&gt;&lt;strong&gt;UPDATE 28/03/2023 20:50&lt;/strong&gt;: Fui informado via Mastodon que o Skoob n√£o permite cadastro de livros sem ISBN pelo menos desde 2015.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Se voc√™ se importa com os dados que entra no &lt;a href=&#34;https://www.skoob.com.br/&#34;&gt;Skoob&lt;/a&gt;, mantenha &lt;em&gt;backup&lt;/em&gt; deles em algum outro lugar.&lt;/p&gt;
&lt;p&gt;Se num di√°rio de leituras f√≠sico, perfil em outra rede social com foco em leitura ou no seu site pessoal, n√£o importa. S√≥ n√£o confie cegamente no Skoob.&lt;/p&gt;
&lt;p&gt;A atividade deles no Twitter e no Instagram parece indicar que ainda pretendem explor√°-lo como neg√≥cio, mas o site em si parece abandonado em alguns aspectos.&lt;/p&gt;
&lt;p&gt;N√£o acho que estejam trabalhando em novas funcionalidades. &lt;strong&gt;Talvez&lt;/strong&gt; estejam dando manuten√ß√£o.&lt;/p&gt;
&lt;p&gt;Digo isso pelo seguinte:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A API est√° &amp;ldquo;para sair&amp;rdquo; ao menos &lt;a href=&#34;https://web.archive.org/web/20160120004953/https://www.skoob.com.br/ajuda/faq/15#13&#34;&gt;desde 2016&lt;/a&gt; (tem um texto nas FAQ que diz &amp;ldquo;&lt;strong&gt;ainda&lt;/strong&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; n√£o divulgamos o API&amp;rdquo;).&lt;/li&gt;
&lt;li&gt;O cadastro de livros sem ISBN est√° &amp;ldquo;temporariamente desativado&amp;rdquo;. N√£o consegui descobrir na &lt;a href=&#34;https://web.archive.org/&#34;&gt;Wayback Machine&lt;/a&gt; h√° quanto tempo est√° assim, mas posso atestar que √© desde antes de fevereiro de 2023, √©poca em que tentei cadastrar um livro antigo sem ISBN pela 1¬™ vez e n√£o consegui. &lt;strong&gt;UPDATE&lt;/strong&gt;: o &lt;a href=&#34;https://mastodon.gal/@darksideofaquarius/&#34;&gt;@darksideofaquarius@mastodon.gal&lt;/a&gt; me informou via Mastodon que n√£o consegue cadastrar livros sem ISBN &lt;a href=&#34;https://mastodon.gal/@darksideofaquarius/110102803829455089&#34;&gt;pelo menos desde 2015&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;toot.png&#34;
         alt=&#34;Toot de @darksideofaquarius@mastodon.gal informando que n√£o consegue cadastrar livros sem ISBN pelo menos desde 2015. A data √© 28/03/2023.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Toot de @darksideofaquarius@mastodon.gal informando que n√£o consegue cadastrar livros sem ISBN pelo menos desde 2015.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;A integra√ß√£o com o Twitter ainda usa o migre.me, encurtador de URLs que n√£o funciona mais.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;tweet.png&#34;
         alt=&#34;Tweet de @jonnyken anunciando a morte do servi√ßo migre.me. A data √© 20/11/2022.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Tweet de @jonnyken anunciando a morte do servi√ßo migre.me.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Ali√°s, nem sei se tem equipe - ou vontade - suficiente para explorar a plataforma como neg√≥cio.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A √∫ltima postagem no &lt;a href=&#34;https://blog.skoob.com.br/&#34;&gt;blog&lt;/a&gt; √© de &lt;a href=&#34;https://blog.skoob.com.br/plus-trocas-funcionamento-do-sistema-de-trocas/&#34;&gt;2020&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;O √∫ltimo v√≠deo no &lt;a href=&#34;https://www.youtube.com/@skoob/videos&#34;&gt;canal do YouTube&lt;/a&gt; √© de &lt;a href=&#34;https://youtu.be/lv3YCVKiQC8&#34;&gt;2020&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Contatos pelo Twitter para tirar d√∫vidas n√£o s√£o respondidos&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;. S√≥ interagem com quem responde nos &lt;em&gt;tweets&lt;/em&gt; promocionais.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Como os livros lidos, as notas, as resenhas e o progresso de leitura costumam ser informa√ß√µes cultivadas pelas pessoas durante muito tempo, resolvi fazer esse &lt;em&gt;post&lt;/em&gt; para chamar a aten√ß√£o para o fato de que o Skoob parece &amp;ldquo;largado&amp;rdquo;. (Mantenha um &lt;em&gt;backup&lt;/em&gt; dessas informa√ß√µes em outro lugar)¬≤.&lt;/p&gt;
&lt;p&gt;Eu decidi manter as minhas aqui mesmo &lt;a href=&#34;https://gmgall.net/books/&#34;&gt;numa se√ß√£o desse site&lt;/a&gt;, mas existem servi√ßos alternativos parecidos com o Skoob tamb√©m. Os 2 que eu conhe√ßo s√£o:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://joinbookwyrm.com/pt-br/&#34;&gt;BookWyrm&lt;/a&gt;: federada, baseada em ActivityPub e com c√≥digo sob &lt;a href=&#34;https://github.com/bookwyrm-social/bookwyrm/blob/main/LICENSE.md&#34;&gt;licen√ßa anticapitalista&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.goodreads.com/&#34;&gt;Goodreads&lt;/a&gt;: acho que √© o maior site do g√™nero, &lt;a href=&#34;https://www.npr.org/sections/thetwo-way/2013/03/28/175631962/amazon-buys-book-recommendation-site-goodreads&#34;&gt;mas √© da Amazon&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Grifo meu.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Considerando o momento do Twitter, pode ser muito bem que n√£o tenham me respondido porque n√£o viram a notifica√ß√£o com minha pergunta. Por√©m, se voc√™ visitar o perfil deles no Twitter e olhar os &lt;a href=&#34;https://twitter.com/skoobnews/with_replies&#34;&gt;tweets + respostas&lt;/a&gt; vai ver que n√£o h√° intera√ß√µes respondendo d√∫vidas ou reclama√ß√µes. A presen√ßa deles no Twitter s√≥ existe para fins promocionais.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Informa√ß√µes S√£o Ef√™meras</title>
      <link>https://gmgall.net/blog/informacoes-sao-efemeras/</link>
      <pubDate>Thu, 09 Mar 2023 13:08:05 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/informacoes-sao-efemeras/</guid>
      <description>&lt;p&gt;Tive uma realiza√ß√£o recentemente. Descobri algo important√≠ssimo nesse ano de 2023. Foi o seguinte:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Informa√ß√µes s√£o ef√™meras e a Internet n√£o muda isso.&lt;/strong&gt;&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;john-cleese.gif&#34;
         alt=&#34;GIF de John Cleese olhando de forma n√£o surpresa&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Voc√™ me olhando ap√≥s eu fazer a constata√ß√£o mais √≥bvia do universo.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Eu sei, eu sei. Descobri a p√≥lvora, n√©?&lt;/p&gt;
&lt;p&gt;N√£o √© como se eu n√£o &lt;strong&gt;soubesse&lt;/strong&gt;, mas eu n√£o &lt;strong&gt;sentia&lt;/strong&gt; o problema. Era algo que estava num n√≠vel objetivo na minha cabe√ßa, n√£o no subjetivo. N√£o estava internalizado.&lt;/p&gt;
&lt;p&gt;Se voc√™ me perguntasse da import√¢ncia de backups, de arquivar o que voc√™ acha importante, de manter bem cuidado o acervo de bibliotecas etc. eu responderia de bate-pronto que √© super importante. Por√©m, isso n√£o se refletia nas minhas atitudes.&lt;/p&gt;
&lt;p&gt;Eu, at√© bem recentemente, agia como se desse para encontrar tudo na web porque eu efetivamente encontrava.&lt;/p&gt;
&lt;p&gt;Mas esse ano &lt;a href=&#34;https://idioms.thefreedictionary.com/run+into+a+brick+wall&#34;&gt;corri contra umas paredes de tijolos&lt;/a&gt; ao botar esse site no ar e ao tentar ler alguns livros que me deixaram esperto.&lt;/p&gt;
&lt;h2 id=&#34;livros&#34;&gt;Livros&lt;/h2&gt;
&lt;p&gt;Minha intui√ß√£o era de que com Kindle + Internet, eu nunca mais teria problemas para ler o que eu desejasse ler.&lt;/p&gt;
&lt;p&gt;O que j√° estivesse em dom√≠nio p√∫blico seria transformado num epub da vida por algu√©m; o que n√£o estivesse e eu pudesse pagar, estaria √† venda na Amazon; o que n√£o estivesse em dom√≠nio p√∫blico e eu n√£o pudesse pagar, cairia de um &lt;a href=&#34;https://libgen.rs&#34;&gt;caminh√£o&lt;/a&gt; &lt;a href=&#34;https://sci-hub.ru&#34;&gt;aqui&lt;/a&gt; na &lt;a href=&#34;https://t.me/Literary2019&#34;&gt;rua&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Eu estava &lt;em&gt;bastante&lt;/em&gt; errado. Descobri isso indo atr√°s dos livros da cole√ß√£o &amp;ldquo;Romances do Povo&amp;rdquo;, publicado pela Editorial Vit√≥ria. Demorei para conseguir ler o sovi√©tico &amp;ldquo;&lt;a href=&#34;https://gmgall.net/books/a-colheita&#34;&gt;A Colheita&lt;/a&gt;&amp;rdquo;. N√£o achei e-books em lugar nenhum. Li numa edi√ß√£o f√≠sica bastante envelhecida da biblioteca municipal de Petr√≥polis. Outros livros da cole√ß√£o ainda n√£o encontrei.&lt;/p&gt;
&lt;p&gt;Os livros de um autor russo de uma √©poca um pouco anterior, &lt;a href=&#34;https://pt.wikipedia.org/wiki/Alexandre_Ivanovich_Kuprin&#34;&gt;Alexandre I. Kuprine&lt;/a&gt; tamb√©m n√£o est√£o t√£o f√°ceis de encontrar quanto eu esperava. Tem e-books de uns 2 livros mais conhecidos dele. Boa sorte com os outros. Li a novela &amp;ldquo;&lt;a href=&#34;https://gmgall.net/books/o-caminho-da-gloria/&#34;&gt;O Caminho da Gl√≥ria&lt;/a&gt;&amp;rdquo; numa edi√ß√£o portuguesa de 1942 que claramente n√£o durar√° por muito mais tempo.&lt;/p&gt;
&lt;p&gt;N√£o s√£o livros t√£o antigos assim, n√£o t√™m nem 100 anos. A perspectiva de em breve eles n√£o estarem dispon√≠veis me causou mal estar. Num mundo ideal, acho que n√£o era para livros ficarem indispon√≠veis considerando que existe uma &lt;strong&gt;rede mundial de computadores&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&#34;web&#34;&gt;Web&lt;/h2&gt;
&lt;p&gt;Ao &lt;a href=&#34;https://gmgall.net/blog/hello-world&#34;&gt;colocar esse site no ar em janeiro&lt;/a&gt;, migrei 7 posts de um blog antigo para c√°. V√°rios links estavam quebrados e eu os substitu√≠ por links para uma captura na &lt;a href=&#34;https://web.archive.org/&#34;&gt;Wayback Machine&lt;/a&gt; do &lt;a href=&#34;https://archive.org/&#34;&gt;Internet Archive&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Os 7 posts possuem no total 48 links. 12 tiveram que ser substitu√≠dos por capturas porque n√£o estavam mais dispon√≠veis na URL original. Uns 2 foram perdidos para sempre (infelizmente n√£o contei os perdidos certinho).&lt;/p&gt;
&lt;p&gt;O post migrado mais antigo n√£o tem nem 15 anos de idade. &lt;strong&gt;Isso significa que ~25% dos links quebraram em pouco mais de 10 anos.&lt;/strong&gt; √â uma quantidade gigante de informa√ß√£o que s√≥ n√£o foi totalmente perdida porque existe o &lt;a href=&#34;https://archive.org&#34;&gt;Internet Archive&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mas links quebrados est√£o longe de serem a √∫nica forma de perdermos acesso √† informa√ß√µes na web.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Quem armazena os arquivos pode simplesmente tirar o servidor da tomada para sempre (al√¥ GeoCities, al√¥ Orkut).&lt;/li&gt;
&lt;li&gt;Informa√ß√µes podem migrar para plataformas privadas, pouco ou nada alcan√ß√°veis por buscadores.
&lt;ul&gt;
&lt;li&gt;Exemplo de 2023: um vereador aqui da cidade foi empossado na ALERJ. Uma candidatura coletiva vai ficar com a vaga que era dele na C√¢mara de Vereadores. Algumas pessoas estavam saindo do coletivo ou ele estava se desfazendo, n√£o sei exatamente o que aconteceu. E n√£o sei porque o an√∫ncio foi feito no Instagram. N√£o era para informa√ß√µes desse tipo estarem escondidas atr√°s de uma tela de login de uma empresa privada.&lt;/li&gt;
&lt;li&gt;H√° quem esteja querendo &lt;a href=&#34;http://ascii.textfiles.com/archives/5509&#34;&gt;tirar documenta√ß√£o de websites para manter apenas um canal no Discord&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;discord-is-NOT-an-archive.png&#34;
         alt=&#34;Print de tuite de Jason Scott explicando que o Discord n√£o √© um arquivo.&#34; width=&#34;70%&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Discord sendo usado no lugar de websites. O que poderia dar errado?&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;N√£o ajuda que o Google esteja ficando pior para encontrar algumas coisas.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;google-results.webp&#34;
         alt=&#34;Print de tuite de @spakhm mostrando que para algumas buscas, toda a 1¬™ p√°gina de resultados √© de an√∫ncios.&#34; width=&#34;70%&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Algumas buscas no Google s√≥ retornam an√∫ncios. Fonte: https://dkb.blog/p/google-search-is-dying.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;A moral da hist√≥ria? &lt;a href=&#34;https://rubenerd.com/archive-it-if-you-care-about-it/&#34;&gt;Se √© importante para voc√™, arquive&lt;/a&gt;. Ajude o &lt;a href=&#34;https://archive.org/&#34;&gt;Internet Archive&lt;/a&gt;. Defenda as bibliotecas p√∫blicas. &lt;strong&gt;N√£o conte com a Internet como &amp;ldquo;reposit√≥rio de tudo&amp;rdquo;&lt;/strong&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Qual a sua experi√™ncia com o que eu relatei acima? O que voc√™ n√£o encontrou na web, mas achou que seria f√°cil de achar? Tem o h√°bito de salvar uma c√≥pia do que acha que pode precisar no futuro? Entre em &lt;a href=&#34;https://gmgall.net/contact/&#34;&gt;contato&lt;/a&gt; se quiser trocar ideia sobre isso. :-)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Acompanhando Suas Inscri√ß√µes no YouTube por RSS</title>
      <link>https://gmgall.net/blog/acompanhando-suas-inscricoes-no-youtube-por-rss/</link>
      <pubDate>Thu, 23 Feb 2023 15:01:04 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/acompanhando-suas-inscricoes-no-youtube-por-rss/</guid>
      <description>&lt;p&gt;TL;DR. Escrevi uma ferramenta que converte um CSV com suas inscri√ß√µes no YouTube em um arquivo &lt;a href=&#34;http://opml.org/&#34;&gt;OPML&lt;/a&gt; com os &lt;em&gt;feeds&lt;/em&gt; RSS dos canais. Esse arquivo OPML √© import√°vel em quase todos os agregadores RSS. Use o conversor em &lt;a href=&#34;https://yt2opml.gmgall.net/&#34;&gt;https://yt2opml.gmgall.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Com FreshRSS + extens√µes, n√£o √© necess√°rio nem sair do agregador para assistir aos v√≠deos.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Procurei colocar RSS de volta na minha vida desde a &lt;a href=&#34;https://gmgall.net/blog/tchau-twitter&#34;&gt;debacle do Twitter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sempre fui f√£ do padr√£o RSS. Acho que √© a melhor forma de consumo de conte√∫do na &lt;em&gt;web&lt;/em&gt;. Hoje, √© mais importante do que nunca, j√° que d√° liberdade ao usu√°rio de desviar das diversas formas pelas quais &lt;a href=&#34;https://thewebisfucked.com/&#34;&gt;a &lt;em&gt;web&lt;/em&gt; se tornou uma merda&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;S√≥ que eu era uma das folcl√≥ricas vi√∫vas do &lt;a href=&#34;https://pt.wikipedia.org/wiki/Google_Reader&#34;&gt;Google Reader&lt;/a&gt;. N√£o tinha me adaptado bem a nenhum outro agregador depois dele. Tentei usar v√°rios, mas nunca parava com nenhum. O que usei por mais tempo depois do Reader foi o &lt;a href=&#34;https://feedly.com/&#34;&gt;Feedly&lt;/a&gt;, mas ele nunca virou meu &amp;ldquo;ponto central&amp;rdquo; de consumo da &lt;em&gt;web&lt;/em&gt; como o Reader foi.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;viuva_google_reader_23-02-2023.png&#34;
         alt=&#34;Print de tweet com texto &amp;#34;Eu trocaria f√°cil todas as minhas redes sociais pelo Google Reader&amp;#34;.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Toda vi√∫va do Google Reader desde 2013.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Ent√£o fui mantendo o Twitter como &amp;ldquo;agregador&amp;rdquo;. Junta isso com o fato de estarem l√° v√°rias pessoas que eu gosto e a comodidade falou mais alto. Meu &amp;ldquo;ponto central&amp;rdquo; virou o Twitter.&lt;/p&gt;
&lt;p&gt;O novo senhor feudal do Twitter ser um &lt;a href=&#34;https://www.platformer.news/p/yes-elon-musk-created-a-special-system&#34;&gt;d√©spota&lt;/a&gt; &lt;a href=&#34;https://arstechnica.com/tech-policy/2023/02/musk-fired-top-engineer-for-explaining-why-his-tweets-views-are-down/&#34;&gt;mimado&lt;/a&gt; me colocou para procurar, mais uma vez, um agregador que pudesse usar rotineiramente.&lt;/p&gt;
&lt;p&gt;Estou feliz em dizer que parece que a busca terminou. Estou usando o &lt;a href=&#34;https://freshrss.org/&#34;&gt;FreshRSS&lt;/a&gt; h√° uns 15 dias e estou bem satisfeito.&lt;/p&gt;
&lt;p&gt;Minha &amp;ldquo;dieta de informa√ß√µes&amp;rdquo; melhorou demais. J√° n√£o fico t√£o ansioso com o &lt;em&gt;doomscrolling&lt;/em&gt; na &lt;em&gt;timeline&lt;/em&gt; do Twitter ou lendo a √∫ltima pol√™mica de pol√≠tica que chegou aos &lt;em&gt;trending topics&lt;/em&gt;. Estou lendo textos mais longos, sem um algoritmo no caminho.&lt;/p&gt;
&lt;p&gt;Foi apenas natural que eu quisesse consumir &lt;strong&gt;tudo&lt;/strong&gt; via RSS, n√£o apenas texto. O pr√≥ximo candidato √≥bvio era o YouTube. Com frequ√™ncia eu abro o &lt;em&gt;app&lt;/em&gt; e vejo alguma coisa indicada na &lt;em&gt;home&lt;/em&gt; ou ent√£o entro numa sequ√™ncia de &lt;em&gt;Shorts&lt;/em&gt; que me fazem gastar um temp√£o neles enquanto os v√≠deos dos canais em que sou inscrito mesmo v√£o ficando para depois.&lt;/p&gt;
&lt;p&gt;Minha intui√ß√£o √© que a Google n√£o ia deixar os canais com &lt;em&gt;feeds&lt;/em&gt; RSS, justamente para for√ßar a visita ao site. Fico feliz de estar errado. Todo canal tem um &lt;em&gt;feed&lt;/em&gt; (por enquanto?), s√≥ √© uma funcionalidade um pouco &amp;ldquo;escondida&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Os canais no YouTube t√™m um &lt;em&gt;Channel ID&lt;/em&gt; √∫nico e a URL dos canais seguem o formato &lt;code&gt;https://www.youtube.com/channel/ID&lt;/code&gt;.  O feed fica em &lt;code&gt;https://www.youtube.com/feeds/videos.xml?channel_id=ID&lt;/code&gt;. Usando como exemplo o canal &lt;a href=&#34;https://www.youtube.com/@TeseOnze&#34;&gt;Tese Onze&lt;/a&gt;, temos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;URL do canal: &lt;a href=&#34;http://www.youtube.com/channel/UC0fGGprihDIlQ3ykWvcb9hg&#34;&gt;http://www.youtube.com/channel/UC0fGGprihDIlQ3ykWvcb9hg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;URL do &lt;em&gt;feed&lt;/em&gt; RSS: &lt;a href=&#34;https://www.youtube.com/feeds/videos.xml?channel_id=UC0fGGprihDIlQ3ykWvcb9hg&#34;&gt;https://www.youtube.com/feeds/videos.xml?channel_id=UC0fGGprihDIlQ3ykWvcb9hg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O problema √© que ningu√©m divulga a URL do seu canal nesse formato. Em geral se usa o formato mais amig√°vel &lt;a href=&#34;https://www.youtube.com/@TeseOnze&#34;&gt;https://www.youtube.com/@TeseOnze&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ent√£o, quem quer acompanhar via RSS os v√≠deos de suas inscri√ß√µes no YouTube precisa:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;obter uma lista dos IDs de todos os canais em que √© inscrito;&lt;/li&gt;
&lt;li&gt;gerar uma lista das URLs dos &lt;em&gt;feeds&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;importar todos os &lt;em&gt;feeds&lt;/em&gt; da lista no agregador.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O formato usado no mundo RSS para importar/exportar listas de &lt;em&gt;feeds&lt;/em&gt; √© o &lt;a href=&#34;http://opml.org/&#34;&gt;OPML&lt;/a&gt;, baseado em XML.&lt;/p&gt;
&lt;p&gt;Segue um exemplo de OPML:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-XML&#34; data-lang=&#34;XML&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;ISO-8859-1&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;opml&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;version=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;mySubscriptions.opml&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;dateCreated&amp;gt;&lt;/span&gt;Sat, 18 Jun 2005 12:11:52 GMT&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/dateCreated&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;outline&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;text=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yahoo! News: Technology&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;description=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Technology&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;htmlUrl=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://news.yahoo.com/news?tmpl=index&amp;amp;amp;cid=738&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;language=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;unknown&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;title=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yahoo! News: Technology&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;type=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rss&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;version=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RSS2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xmlUrl=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://rss.news.yahoo.com/rss/tech&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/opml&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O padr√£o OPML √© quase autoexplicativo: √© simplesmente um elemento &lt;code&gt;&amp;lt;opml&amp;gt;&lt;/code&gt; com 2 elementos obrigat√≥rios: &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; e &lt;code&gt;&amp;lt;outline&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Dentro do 1¬∫ v√£o metainforma√ß√µes do arquivo.&lt;/p&gt;
&lt;p&gt;Dentro do 2¬∫ vai a lista dos &lt;em&gt;feeds&lt;/em&gt; em si, cada um dentro de um &lt;code&gt;&amp;lt;outline&amp;gt;&lt;/code&gt;. Os &lt;code&gt;&amp;lt;outlines&amp;gt;&lt;/code&gt;s podem ser aninhados (caso se deseje colocar &lt;em&gt;feeds&lt;/em&gt; dentro de uma categoria, por exemplo) e claro que uma lista t√≠pica vai trazer mais de um &lt;em&gt;feed&lt;/em&gt;, mas a inten√ß√£o aqui √© s√≥ mostrar o formato. O atributo chave para a gente aqui √© o &lt;code&gt;xmlUrl&lt;/code&gt;, que √© o endere√ßo do &lt;em&gt;feed&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;N√≥s j√° sabemos o formato usado para importa√ß√£o de &lt;em&gt;feeds&lt;/em&gt; e como formar a URL de um &lt;em&gt;feed&lt;/em&gt; de um canal no YouTube a partir do seu ID.&lt;/p&gt;
&lt;p&gt;S√≥ precisamos obter a lista dos IDs dos canais agora.&lt;/p&gt;
&lt;p&gt;O &lt;a href=&#34;https://takeout.google.com/&#34;&gt;Google Takeout&lt;/a&gt; √© uma forma de fazer download de todos os registros que a Google possui de um usu√°rio. Basta n√£o esquecer de marcar o YouTube que o arquivo resultante vai conter uma lista de inscri√ß√µes em &lt;code&gt;Takeout/YouTube and YouTube Music/subscriptions/subscriptions.csv&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O formato √© bem simples, √© um CSV de 3 colunas:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Channel ID,Channel URL,Channel title
UC0fGGprihDIlQ3ykWvcb9hg,http://www.youtube.com/channel/UC0fGGprihDIlQ3ykWvcb9hg,Tese Onze
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Se voc√™ √© como eu, pensou logo em fazer um &lt;em&gt;shell script&lt;/em&gt; que para cada linha do CSV:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;concatena &lt;code&gt;https://www.youtube.com/feeds/videos.xml?channel_id=&lt;/code&gt; com os valores da 1¬™ coluna;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;joga o valor resultante dentro de um &lt;code&gt;&amp;lt;outline&amp;gt;&lt;/code&gt;, numa propriedade &lt;code&gt;xmlURL&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Provavelmente funcionaria, mas decidi n√£o &lt;a href=&#34;https://stackoverflow.com/questions/3034611/whats-so-bad-about-building-xml-with-string-concatenation&#34;&gt;correr&lt;/a&gt; com &lt;a href=&#34;https://news.ycombinator.com/item?id=16915823&#34;&gt;tesouras&lt;/a&gt; dessa vez e usei pacotes JavaScript pr√≥prios para processar &lt;a href=&#34;https://d3js.org/&#34;&gt;CSV&lt;/a&gt; e &lt;a href=&#34;https://github.com/scripting/opmlPackage&#34;&gt;OPML&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Se quiser usar no seu navegador, acesse: &lt;a href=&#34;https://yt2opml.gmgall.net/&#34;&gt;https://yt2opml.gmgall.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tudo √© 100% feito no lado do cliente. O &lt;a href=&#34;https://github.com/gmgall/YTtoOPML&#34;&gt;c√≥digo&lt;/a&gt; √© de um &lt;em&gt;backender&lt;/em&gt;, ent√£o as manipula√ß√µes do DOM provavelmente poderiam ser mais elegantes, mas funciona.&lt;/p&gt;
&lt;p&gt;Com o arquivo OPML gerado, foi s√≥ import√°-lo no FreshRSS. Uma possibilidade &lt;strong&gt;muito interessante&lt;/strong&gt; nele √© a instala√ß√£o de uma &lt;a href=&#34;https://github.com/kevinpapst/freshrss-youtube&#34;&gt;extens√£o&lt;/a&gt; que incorpora os v√≠deos dentro. Assim, n√£o √© necess√°rio sair do agregador para assistir aos v√≠deos. Mostrei como fica no v√≠deo abaixo.&lt;/p&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/FwTSpqo4Ucw&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;FreshRSS com extens√£o pra embutir v√≠deos do YouTube ativada.&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;p&gt;Bem pr√°tico, n√£o?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tchau, Twitter</title>
      <link>https://gmgall.net/blog/tchau-twitter/</link>
      <pubDate>Wed, 08 Feb 2023 21:46:17 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/tchau-twitter/</guid>
      <description>&lt;p&gt;Ok, talvez esse t√≠tulo seja um pouco &lt;em&gt;clickbait&lt;/em&gt;. Eu sou &lt;em&gt;junkie&lt;/em&gt; demais daquele site para abandon√°-lo de uma hora para outra, mas acredito que seja uma boa para todo mundo deix√°-lo para tr√°s. Meu uso j√° diminuiu muito nos √∫ltimos tempos.&lt;/p&gt;
&lt;p&gt;TL;DR. Tenho usado pouco o Twitter. O uso est√° diminuindo a cada dia. Ficarei feliz em manter contato por &lt;a href=&#34;https://gmgall.net/contact&#34;&gt;outros meios&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Come√ßo a escrever esse texto no momento em que um &lt;em&gt;script&lt;/em&gt; em Python que eu estava executando h√° algumas horas me devolveu o terminal. Era um apagador de tuites em massa que escrevi. Eu fazia uma limpa na minha conta de tempos em tempos.&lt;/p&gt;
&lt;p&gt;Uso o passado acima porque &lt;a href=&#34;https://twitter.com/TwitterDev/status/1621026986784337922&#34;&gt;em poucas horas ser√° interrompido o acesso gratuito √† API do Twitter&lt;/a&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;. Meu script usava a API. Eu provavelmente n√£o conseguirei mais us√°-lo. O an√∫ncio da interrup√ß√£o foi feito super em cima da hora. Muitos &lt;em&gt;bots&lt;/em&gt; e contas interessantes morrer√£o com essa medida. Pesquisadores que trabalhavam com tuites n√£o conseguir√£o mais fazer sua pesquisa.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;screenshot_twitter_baixa_essa_porra.png&#34;
         alt=&#34;Print do tuite da conta @BaixaEssaPorra, anunciando que o bot ser√° desativado com o fim da API gratuita.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;O bot de download de v√≠deos &amp;#34;Baixa Essa Porra&amp;#34; foi um dos afetados pelo fim do acesso gratuito √† API.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;A forma repentina com que a empresa cortou acesso √† API foi para mim a gota d&amp;rsquo;√°gua. A nova ger√™ncia realmente tem me deixado bastante desgostoso com aquela bodega. Tem muita coisa rolando que me incomoda. O dono est√° estragando seu novo brinquedo bem r√°pido.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.deadder.net/&#34;&gt;&lt;figure&gt;&lt;img src=&#34;de_addler_comic.webp&#34;
         alt=&#34;Cartum de Michael de Adder que mostra o comboio de Immortan Joe, do filme &amp;#34;Mad Max: Fury Road&amp;#34;, com o logo do Twitter na frente. O caminh√£o traz uma placa escrito &amp;#34;Under new management&amp;#34;.&#34; width=&#34;75%&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Tira de Michael de Adder. Logo se v√™ que ele √© um cartunista gente boa. Melhor ver o comboio do Immortan Joe do que Musk e seus f√£s chegando.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;4 grandes motivos me fazem querer deixar o Twitter para tr√°s:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;o site anda bem &amp;ldquo;bugado&amp;rdquo;;&lt;/li&gt;
&lt;li&gt;anistia a umas figuras que n√£o s√£o flor que se cheire;&lt;/li&gt;
&lt;li&gt;uma &lt;em&gt;web&lt;/em&gt; centralizada n√£o √© minha vis√£o de &lt;em&gt;web&lt;/em&gt; ideal;&lt;/li&gt;
&lt;li&gt;j√° n√£o consigo usar o Twitter para manter contato com as pessoas.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Abaixo falo um pouco mais de cada um.&lt;/p&gt;
&lt;h2 id=&#34;bugs-muitos-bugs&#34;&gt;Bugs, muitos bugs&lt;/h2&gt;
&lt;p&gt;S√≥ nos √∫ltimos meses experimentei o seguinte:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;o encurtador de URLs do Twitter deixou de funcionar (as URLs &lt;a href=&#34;https://t.co&#34;&gt;https://t.co&lt;/a&gt; davam s√≥ 404);&lt;/li&gt;
&lt;li&gt;alguns tuites apareciam s√≥ na &lt;em&gt;timeline&lt;/em&gt; &amp;ldquo;para voc√™&amp;rdquo; e outros s√≥ na &amp;ldquo;seguindo&amp;rdquo;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;, o que me fazia frequentemente n√£o ver tuites;&lt;/li&gt;
&lt;li&gt;tuites apareciam duplicados;&lt;/li&gt;
&lt;li&gt;tuites n√£o eram feitos, iam direto para os rascunhos;&lt;/li&gt;
&lt;li&gt;notifica√ß√µes n√£o chegavam ou chegavam com muito atraso.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;festa-estranha-com-gente-esquisita&#34;&gt;Festa estranha, com gente esquisita&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://knowyourmeme.com/memes/space-karen&#34;&gt;Space Karen&lt;/a&gt; √© daqueles absolutistas da liberdade de express√£o. Sabe aqueles? Que n√£o se importam de estarem na &lt;a href=&#34;https://twitter.com/search?q=mesa%2010%20pessoas%20nazistas&amp;amp;src=typed_query&#34;&gt;proverbial mesa&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;Desde que assumiu o comando, Elon deixou voltar para o Twitter:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trump (n√£o preciso detalhar, preciso?);&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://youtu.be/4LqZdkkBDas&#34;&gt;Jordan Peterson&lt;/a&gt; (uma esp√©cie de Olavo de Carvalho gringo, s√≥ que melhor vestido e infelizmente ainda vivo);&lt;/li&gt;
&lt;li&gt;Kanye West (entrou numas piras antissemitas);&lt;/li&gt;
&lt;li&gt;Andrew Tate (&lt;a href=&#34;https://escrevalolaescreva.blogspot.com/2012/05/o-masculinismo-como-ele-e.html&#34;&gt;masculinista&lt;/a&gt; famoso recentemente &lt;a href=&#34;https://www.bbc.com/news/world-europe-64122628&#34;&gt;detido na Rom√™nia&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Marjorie Taylor Greene (deputada estadunidense de extrema direita que teve a conta limitada por falar &lt;a href=&#34;https://edition.cnn.com/2021/08/10/tech/twitter-marjorie-taylor-greene/index.html&#34;&gt;besteira sobre a pandemia&lt;/a&gt; e tinha &lt;a href=&#34;https://youtu.be/b2RdZRORfyY&#34;&gt;comerciais&lt;/a&gt; &lt;a href=&#34;https://youtu.be/y5f_sHriEto&#34;&gt;sensacionais&lt;/a&gt; na √©poca da campanha).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tem mais gente nessa lista, mas j√° deu para entender o tipo de gente que recebeu anistia, n√©?&lt;/p&gt;
&lt;p&gt;Quais as probabilidades de den√∫ncias por ass√©dio, por exemplo, serem levadas a s√©rio se esse √© o tipo de pessoa que est√° sendo convidada a voltar? A modera√ß√£o n√£o era uma maravilha antes, fica claro que deve piorar bastante.&lt;/p&gt;
&lt;h2 id=&#34;n√£o-quero-uma-web-centralizada&#34;&gt;N√£o quero uma &lt;em&gt;web&lt;/em&gt; centralizada&lt;/h2&gt;
&lt;p&gt;Se voc√™ j√° conversou comigo 5 minutos que seja sobre o assunto, j√° me ouviu dizer que a &lt;a href=&#34;https://thewebisfucked.com/&#34;&gt;&lt;em&gt;web&lt;/em&gt; moderna est√° fodida&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Na √©poca dos sites pessoais no vener√°vel &lt;a href=&#34;https://en.wikipedia.org/wiki/Yahoo!_GeoCities&#34;&gt;GeoCities&lt;/a&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt; e &lt;a href=&#34;https://web.archive.org/web/20000407212320/http://www.hpg.com.br/&#34;&gt;outros servi√ßos parecidos&lt;/a&gt;, cada um mantinha seu &amp;ldquo;canto na &lt;em&gt;web&lt;/em&gt;&amp;rdquo; e trafegava entre eles livremente. Era costume o dono de uma p√°gina &lt;em&gt;linkar&lt;/em&gt; outras que achasse interessante, existiam os &lt;a href=&#34;https://en.wikipedia.org/wiki/Webring&#34;&gt;webrings&lt;/a&gt; e os &lt;a href=&#34;https://en.wikipedia.org/wiki/Web_directory&#34;&gt;diret√≥rios&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ningu√©m era desencorajado a &lt;em&gt;linkar&lt;/em&gt; para outros sites, muito pelo contr√°rio. Fazia parte da cultura intern√©tica. A &lt;em&gt;web&lt;/em&gt; se parecia com uma cole√ß√£o de pra√ßas p√∫blicas com tr√¢nsito livre entre elas.&lt;/p&gt;
&lt;p&gt;Corta para 2022 e tivemos &lt;a href=&#34;https://fortune.com/2022/12/18/twitter-suspends-paul-graham-venture-capitalist-supportive-of-elon-musk-after-he-tweets-about-mastodon-link/&#34;&gt;usu√°rios do Twitter sendo punidos por &lt;em&gt;linkarem&lt;/em&gt; para outra rede social&lt;/a&gt;. Hoje centraliza√ß√£o e reten√ß√£o de tr√°fego s√£o os nomes do jogo. Se uma empresa deixa voc√™ sair dos limites do seu feudo intern√©tico, perde oportunidades de te mostrar an√∫ncios ou de coletar dados sobre voc√™ (para que outras empresas possam te mostrar an√∫ncios). A &lt;em&gt;web&lt;/em&gt; das pra√ßas p√∫blicas morreu, agora temos uma &lt;em&gt;web&lt;/em&gt; de condom√≠nios fechados.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;twitter_policy.png&#34;
         alt=&#34;Print de um trecho da p√°gina de pol√≠ticas de uso do Twitter. Ela diz que qualquer promo√ß√£o de redes de terceiros est√° proibida.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;No feudo Twitter, nada de falar de outros feudos, hein?&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Essas quest√µes s√£o importantes para mim h√° muito tempo, mas estavam mais ou menos dormentes. A comodidade me fez coloc√°-las em segundo plano. O Twitter me dava a sensa√ß√£o de ser dos feudos menos piores para se estar preso, ent√£o fui ficando.&lt;/p&gt;
&lt;p&gt;S√≥ que agora o senhor feudal √© maluco. Relembrei da pior forma dos motivos pelos quais me importava com liberdade na &lt;em&gt;web&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Tomei algumas atitudes para voltar a ser um &lt;a href=&#34;https://www.merriam-webster.com/dictionary/netizen&#34;&gt;&lt;em&gt;netizen&lt;/em&gt;&lt;/a&gt; mais livre: voltei a usar RSS&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;, a manter um site meu&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt; e, no mundo das redes sociais, criei perfil numa rede social &lt;a href=&#34;https://fedi.tips/who-owns-the-fediverse-is-the-fediverse-owned-by-a-corporation-or-venture-capital-firm-can-it-be-bought-out-by-google-facebook-elon-musk/&#34;&gt;sem dono&lt;/a&gt;, &lt;a href=&#34;https://fedi.video/w/9dRFC6Ya11NCVeYKn8ZhiD&#34;&gt;federada&lt;/a&gt;. Sim, essa √© a hora em que eu te convido a me seguir no Mastodon. N√£o seria um texto de &amp;ldquo;despedida&amp;rdquo; do Twitter sem isso. Estou em &lt;a href=&#34;https://bolha.us/@gmgall&#34;&gt;@gmgall@bolha.us&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;s√£o-as-pessoas-que-importam&#34;&gt;S√£o as pessoas que importam&amp;hellip;&lt;/h2&gt;
&lt;p&gt;&amp;hellip;e infelizmente o Twitter n√£o presta mais para manter contato com elas. Nos √∫ltimos tempos, notifica√ß√µes n√£o chegam ou chegam com atraso; se leio &lt;strong&gt;uma&lt;/strong&gt; DM, &lt;strong&gt;todas&lt;/strong&gt; as notifica√ß√µes somem e n√£o vejo todo mundo que interagiu comigo.&lt;/p&gt;
&lt;p&gt;Apesar de todas as considera√ß√µes dos itens anteriores, mantive minha conta porque s√≥ no Twitter arrumei &amp;ldquo;a minha galera&amp;rdquo;. Gente importante para mim, com quem me diverti e aprendi muito.&lt;/p&gt;
&lt;p&gt;Isso nunca aconteceu no Facebook e no Instagram. Foi bem f√°cil me livrar da minha conta nessas redes. J√° deixei de us√°-las h√° v√°rios anos. Nem no Orkut, que tanta gente lembra com nostalgia, tive intera√ß√µes t√£o legais quanto no Twitter. &lt;strike&gt;Na real, cago pro Orkut. Vai ver √© recalque pela escassez de cora√ß√µes e cubos de gelo.&lt;/strike&gt;
&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;orkut.jpeg&#34;
         alt=&#34;Print da legenda do Orkut. Cada perfil podia ser avaliado pelos outros em uma escala que variava de 1 a 3 cora√ß√µes, 1 a 3 cubos de gelo e 1 a 3 carinhas sorridentes.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;O in√≠cio do fim da sa√∫de mental de muitos adolescentes brasileiros da minha gera√ß√£o.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Se voc√™ est√° lendo esse texto, grandes s√£o as probabilidades de me acompanhar l√° no Twitter, ent√£o te encorajo a manter contato por um dos meios que listo aqui: &lt;a href=&#34;https://gmgall.net/contact&#34;&gt;https://gmgall.net/contact&lt;/a&gt;. &lt;strong&gt;Eu ficarei feliz com um contato, n√£o hesite em faz√™-lo&lt;/strong&gt;. üòä&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Ali√°s, acho que essa foi a menor pol√™mica do dia. Muita gente estava reclamando sobre limites de postagens e de &lt;em&gt;follows&lt;/em&gt; que passaram a ser aplicados sem aviso pr√©vio. J√° n√£o estou acompanhando tanto para ter certeza do que foi, mas era algo nesse sentido.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Qual a dificuldade de ter uma &lt;em&gt;timeline&lt;/em&gt; √∫nica com postagens em ordem cronol√≥gica das contas que eu sigo?&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;O &lt;a href=&#34;https://archive.org&#34;&gt;Internet Archive&lt;/a&gt; fez um trabalho muito importante de arquivamento de parte dos sites hospedados l√°.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34;&gt;
&lt;p&gt;O &lt;a href=&#34;https://neocities.org/&#34;&gt;Neocities&lt;/a&gt; √© como um sucessor espiritual do GeoCities. √â um servi√ßo bem bacana, d√™ uma olhada nele.&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34;&gt;
&lt;p&gt;Fiquei muito tempo √≥rf√£o do Google Reader. Usei o Feedly por um tempo, mas n√£o me adaptei bem. Hoje estou muito satisfeito com o &lt;a href=&#34;https://freshrss.org&#34;&gt;FreshRSS&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34;&gt;
&lt;p&gt;Todo mundo na &lt;em&gt;web&lt;/em&gt; deveria ter o &amp;ldquo;seu canto&amp;rdquo;. Um bom come√ßo √© um &lt;em&gt;blog&lt;/em&gt;. Fa√ßa a porra de um &lt;em&gt;blog&lt;/em&gt;: &lt;a href=&#34;https://startafuckingblog.com/&#34;&gt;https://startafuckingblog.com/&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Shortcodes no Hugo Inserem Quebras de Linha Indesejadas</title>
      <link>https://gmgall.net/blog/shortcodes-no-hugo-inserem-quebras-de-linha-indesejadas/</link>
      <pubDate>Wed, 08 Feb 2023 11:57:12 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/shortcodes-no-hugo-inserem-quebras-de-linha-indesejadas/</guid>
      <description>&lt;p&gt;Essa j√° &amp;ldquo;me pegou&amp;rdquo; algumas vezes e demorei um pouco para encontrar solu√ß√£o, ent√£o documento aqui.&lt;/p&gt;
&lt;p&gt;O &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; insere quebras de linha ap√≥s o conte√∫do gerado pelos &lt;a href=&#34;https://gohugo.io/content-management/shortcodes/&#34;&gt;shortcodes&lt;/a&gt; que podem causar a renderiza√ß√£o do HTML de forma indesejada.&lt;/p&gt;
&lt;p&gt;Exemplo: suponha que no seu site voc√™ queira tratar das palavras sagradas protegidas pelos &lt;a href=&#34;https://youtu.be/0e2kaQqxmQ0&#34;&gt;Cavaleiros que Dizem Ni&lt;/a&gt;. Voc√™ quer usar um &lt;em&gt;snippet&lt;/em&gt; de c√≥digo para inseri-las, afinal s√£o sagradas e voc√™ n√£o quer correr o risco de digit√°-las errado.&lt;/p&gt;
&lt;p&gt;Ent√£o cria o seguinte &lt;em&gt;shortcode&lt;/em&gt; em &lt;code&gt;layouts/shortcodes/sacred_words.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;slice&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ni&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;peng&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;neee-won&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#a6e22e&#34;&gt;upper&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;delimit&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;, &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; e &amp;#34;&lt;/span&gt; ) }}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;E usa o &lt;em&gt;shortcode&lt;/em&gt; no meio do markdown em alguma p√°gina de conte√∫do. Exemplo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Os Cavaleiros que Dizem &amp;#34;Ni&amp;#34; s√£o os quardi√µes das palavras sagradas {{&amp;lt; &lt;span style=&#34;color:#f92672&#34;&gt;sacred_words&lt;/span&gt; &amp;gt;}}.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ao visualizar o HTML gerado para esse trecho, v√™ algo como:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;Os Cavaleiros que Dizem &amp;amp;ldquo;Ni&amp;amp;rdquo; s√£o os quardi√µes das palavras sagradas 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NI, PENG E NEEE-WON
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Tem uma quebra de linha indesejada no final do conte√∫do gerado pelo &lt;em&gt;shortcode&lt;/em&gt;.&lt;/strong&gt; O c√≥digo do &lt;em&gt;shortcode&lt;/em&gt; n√£o insere essa quebra, mas ela est√° l√°. Isso faz esse trecho ser renderizado da seguinte forma pelos navegadores:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Os Cavaleiros que Dizem ‚ÄúNi‚Äù s√£o os quardi√µes das palavras sagradas NI, PENG E NEEE-WON .
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Tem um espa√ßo entre a √∫ltima palavra e o ponto final da frase&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Encontrei &lt;strike&gt;as gambiarras&lt;/strike&gt;
 os &lt;em&gt;workarounds&lt;/em&gt; para resolver esse problema numa &lt;a href=&#34;https://github.com/gohugoio/hugo/issues/1753&#34;&gt;issue do pr√≥prio projeto Hugo&lt;/a&gt;, mas parece que a discuss√£o sobre mudar esse comportamento dos &lt;em&gt;shortcodes&lt;/em&gt; n√£o andou muito. Resta-nos nos adaptar.&lt;/p&gt;
&lt;p&gt;&lt;strike&gt;Uma das gambiarras&lt;/strike&gt;
Um dos recursos t√©cnicos √© truncar o arquivo do &lt;em&gt;shortcode&lt;/em&gt; com o comando &lt;code&gt;truncate -s -1 layouts/shortcodes/sacred_words.html&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Depois disso, o HTML gerado para o trecho que usa o &lt;em&gt;shortcode&lt;/em&gt; fica assim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;Os Cavaleiros que Dizem &amp;amp;ldquo;Ni&amp;amp;rdquo; s√£o os quardi√µes das palavras sagradas 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NI, PENG E NEEE-WON.&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;E √© renderizado da seguinte forma:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Os Cavaleiros que Dizem ‚ÄúNi‚Äù s√£o os quardi√µes das palavras sagradas NI, PENG E NEEE-WON.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Vit√≥ria!&lt;/p&gt;
&lt;p&gt;Satisfeito, voc√™ decide que s√≥ falta uma coisa para o seu &lt;em&gt;shortcode&lt;/em&gt; ficar perfeito: ele precisa inserir c√≥digo para gerar um alerta gritando &amp;ldquo;ni&amp;rdquo; a cada vez que a p√°gina √© (re)carregada. Por sorte, pouco c√≥digo precisa ser adicionado para isso. O &lt;em&gt;shortcode&lt;/em&gt; agora tem a seguinte implementa√ß√£o:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;slice&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ni&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;peng&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;neee-won&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#a6e22e&#34;&gt;upper&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;delimit&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;, &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; e &amp;#34;&lt;/span&gt; ) }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;alert&lt;/span&gt;(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;NI&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;)&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dessa vez voc√™ est√° esperto e &lt;strong&gt;lembra de truncar o arquivo&lt;/strong&gt;. Quando vai ver a p√°gina gerada num navegador, o alerta aparece, mas&amp;hellip;&lt;/p&gt;
&lt;p&gt;O espa√ßo entre a √∫ltima palavra sagrada e o ponto final est√° l√° de novo! Mesmo ap√≥s usar o &lt;code&gt;truncate&lt;/code&gt;! O HTML foi gerado com uma quebra de linha indesejada novamente:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;Os Cavaleiros que Dizem &amp;amp;ldquo;Ni&amp;amp;rdquo; s√£o os quardi√µes das palavras sagradas 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NI, PENG E NEEE-WON
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;alert&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;NI&amp;#39;&lt;/span&gt;)&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;.&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;p&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Se o seu &lt;em&gt;shortcode&lt;/em&gt; vai inserir mais coisa do que a sa√≠da gerada pelos comandos da linguagem de &lt;em&gt;template&lt;/em&gt; do Go, como √© o trecho &lt;code&gt;&amp;lt;script&amp;gt;alert(&#39;NI&#39;)&amp;lt;/script&amp;gt;.&amp;lt;/p&amp;gt;&lt;/code&gt; no exemplo acima, voc√™ precisa retirar aquela quebra antes do trecho tamb√©m.&lt;/p&gt;
&lt;p&gt;Isso pode ser feito deixando o &lt;em&gt;shortcode&lt;/em&gt; assim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;slice&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ni&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;peng&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;neee-won&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{{ &lt;span style=&#34;color:#a6e22e&#34;&gt;upper&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;delimit&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;words&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;, &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; e &amp;#34;&lt;/span&gt; ) }}{{&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;alert&lt;/span&gt;(&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;NI&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;)&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Agora sim, as quebras de linha que fazem a p√°gina ser renderizada erradamente est√£o fora. O espa√ßo antes do ponto final n√£o aparece mais e o alerta ocorre.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;A vers√£o dos softwares envolvidos no momento em que escrevo esse texto s√£o as seguintes:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ go version
go version go1.19.4 linux/amd64
$ hugo version
hugo v0.109.0+extended linux/amd64 BuildDate=unknown
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Hello World</title>
      <link>https://gmgall.net/blog/hello-world/</link>
      <pubDate>Thu, 12 Jan 2023 13:45:38 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/hello-world/</guid>
      <description>&lt;p&gt;Eu j√° tentei manter um site pessoal na internet N vezes. Nunca foi &amp;ldquo;pra frente&amp;rdquo;. Essa √© a tentativa N + 1.&lt;/p&gt;
&lt;p&gt;N√£o preciso ser convencido da import√¢ncia da escrita, sei dos benef√≠cios que posso tirar dela. Escrever nos ajuda a entender as coisas, robustece nosso pensamento. Existem coisas que parecem bem estruturadas na nossa cabe√ßa at√© que tentemos escrever ou conversar com algu√©m sobre. Escrever √© &lt;a href=&#34;https://en.wikipedia.org/wiki/Debugging&#34;&gt;&lt;em&gt;debugar&lt;/em&gt;&lt;/a&gt; a si mesmo.&lt;/p&gt;
&lt;p&gt;Depois que entendi isso, abandonei qualquer pretens√£o de originalidade, que, ali√°s, √© &lt;a href=&#34;https://guzey.com/personal/why-have-a-blog/#but-i-dont-have-anything-original-to-say-and-i-would-be-just-repeating-things-said-elsewhere-on-the-internet&#34;&gt;superestimada&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ainda assim, a procrastina√ß√£o seguia. Eu implicava com 2 coisas principalmente: a organiza√ß√£o do conte√∫do e a &lt;em&gt;stack&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id=&#34;organiza√ß√£o-do-conte√∫do&#34;&gt;Organiza√ß√£o do conte√∫do&lt;/h2&gt;
&lt;p&gt;Ter um blog em que escrevesse tudo que eu quisesse, usando apenas tags para organizar o conte√∫do, n√£o me parecia ideal. E se algu√©m de TI entrasse no site buscando conte√∫do t√©cnico e tivesse que navegar por um monte de textos opinativos? E se alguma amiga de fora da √°rea de tecnologia entrasse no site e visse um monte de textos sobre desenvolvimento de software?&lt;/p&gt;
&lt;p&gt;Quero poder escrever sobre tudo que me interessa, mas tamb√©m n√£o quero alienar uma potencial audi√™ncia apresentando tudo &amp;ldquo;junto e misturado&amp;rdquo;, numa forma dif√≠cil de navegar.&lt;/p&gt;
&lt;p&gt;Considerei sites separados para cada tipo de conte√∫do, mas o trabalho extra necess√°rio para manter mais de um site me demoveu dessa ideia. Fora que suscita a pergunta: qual crit√©rio eu deveria usar para colocar determinado conte√∫do num site e n√£o no outro? Os sites pessoais mais &lt;a href=&#34;https://aurelio.net/&#34;&gt;interessantes&lt;/a&gt; &lt;a href=&#34;https://epxx.co/&#34;&gt;que&lt;/a&gt; &lt;a href=&#34;https://thobias.org/&#34;&gt;conhe√ßo&lt;/a&gt; tratam de &lt;a href=&#34;https://epxx.co/artigos/index_pens.html&#34;&gt;tudo&lt;/a&gt; &lt;a href=&#34;https://aurelio.net/fvm/&#34;&gt;que &amp;ldquo;d√° na telha&amp;rdquo;&lt;/a&gt; dos donos. O meu seria assim tamb√©m.&lt;/p&gt;
&lt;p&gt;Foi remoendo as quest√µes acima que decidi usar a organiza√ß√£o com 2 &lt;a href=&#34;https://gohugo.io/content-management/taxonomies/&#34;&gt;taxonomias&lt;/a&gt; (&lt;strong&gt;categorias e tags&lt;/strong&gt;), que j√° √© usada em muitos blogs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Uma &lt;a href=&#34;https://gmgall.net/categories&#34;&gt;categoria&lt;/a&gt; √© uma classifica√ß√£o mais ampla e dificilmente um post vai estar em mais de uma categoria. Para come√ßar, terei 2 categorias: uma para posts &lt;a href=&#34;https://gmgall.net/categories/tech&#34;&gt;t√©cnicos&lt;/a&gt; e outra para posts &lt;a href=&#34;https://gmgall.net/categories/non-tech&#34;&gt;n√£o t√©cnicos&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Uma &lt;a href=&#34;https://gmgall.net/tags&#34;&gt;tag&lt;/a&gt; √© uma classifica√ß√£o mais estrita e frequentemente um post ter√° mais de uma tag.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Al√©m disso, existem as se√ß√µes de conte√∫do separadas. Nelas cada p√°gina pode receber categorias e tags tamb√©m, mas elas s√£o apresentadas de forma diferente dos textos. A √∫nica se√ß√£o separada hoje √© a de &lt;a href=&#34;https://gmgall.net/books&#34;&gt;leituras&lt;/a&gt;. Pretendo que cada p√°gina sobre um livro mostre ao menos uma imagem da capa e informa√ß√µes do livro em destaque.&lt;/p&gt;
&lt;p&gt;Cada categoria, tag e se√ß√£o separada ter√° seu pr√≥prio &lt;em&gt;feed&lt;/em&gt; RSS. Um potencial leitor pode assinar o &lt;em&gt;feed&lt;/em&gt; espec√≠fico e acompanhar apenas o conte√∫do de seu interesse.&lt;/p&gt;
&lt;h2 id=&#34;stack&#34;&gt;Stack&lt;/h2&gt;
&lt;p&gt;Depois de algumas tentativas de usar &lt;a href=&#34;https://en.wikipedia.org/wiki/Content_management_system&#34;&gt;CMS&lt;/a&gt;s, ficou claro que eu n√£o queria ter o trabalho de instalar e manter atualizados os softwares de uma pilha &lt;a href=&#34;https://en.wikipedia.org/wiki/LAMP_(software_bundle)&#34;&gt;LAMP&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Static_site_generator&#34;&gt;Geradores de sites est√°ticos&lt;/a&gt; seriam meu caminho. Li sobre as op√ß√µes dispon√≠veis e fiquei convencido de que o melhor &amp;ldquo;no mercado&amp;rdquo; √© o &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;. Decidi us√°-lo. Gostei do que vi nos primeiros usos, mas demorei um pouco at√© encontrar um &lt;a href=&#34;https://www.pragprog.com/titles/bhhugo/build-websites-with-hugo/&#34;&gt;livro que me ensinou decentemente&lt;/a&gt; sobre ele.&lt;/p&gt;
&lt;p&gt;Para hospedagem, estou usando &lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub Pages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para fazer o &lt;em&gt;build&lt;/em&gt; e o &lt;em&gt;deploy&lt;/em&gt;, estou usando &lt;a href=&#34;https://github.com/features/actions&#34;&gt;GitHub Actions&lt;/a&gt;. Existem &lt;em&gt;actions&lt;/em&gt; prontas para &lt;a href=&#34;https://github.com/marketplace/actions/hugo-setup&#34;&gt;instalar o Hugo&lt;/a&gt; e &lt;a href=&#34;https://github.com/marketplace/actions/github-pages-action&#34;&gt;fazer o &lt;em&gt;deploy&lt;/em&gt; no GitHub Actions&lt;/a&gt;, ent√£o o &lt;a href=&#34;https://github.com/gmgall/gmgall.net/blob/main/.github/workflows/gh-pages-deployment.yml&#34;&gt;&lt;em&gt;workflow&lt;/em&gt;&lt;/a&gt; fica relativamente simples.&lt;/p&gt;
&lt;p&gt;O primeiro lugar em que li sobre esse tipo de &lt;em&gt;workflow&lt;/em&gt; foi em &lt;a href=&#34;https://www.morling.dev&#34;&gt;morling.dev&lt;/a&gt;, no post &lt;a href=&#34;https://www.morling.dev/blog/automatically-deploying-hugo-website-via-github-actions/&#34;&gt;&lt;em&gt;Automatically Deploying a Hugo Website via GitHub Actions&lt;/em&gt;&lt;/a&gt;. Seguindo esse caminho, voc√™ fica com um reposit√≥rio √∫nico que cont√©m o c√≥digo fonte do site (em um &lt;em&gt;branch&lt;/em&gt; principal) e os arquivos que efetivamente s√£o servidos (em um &lt;em&gt;branch&lt;/em&gt; &lt;a href=&#34;https://dev.to/mcaci/how-to-create-an-orphan-branch-in-git-35ac&#34;&gt;√≥rf√£o&lt;/a&gt; &lt;code&gt;gp-pages&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Outro padr√£o que vi sendo bastante usado √© ter 2 reposit√≥rios: um s√≥ para o c√≥digo fonte e outro s√≥ para os arquivos que ser√£o servidos pelo GitHub Pages. Veja um exemplo em &lt;a href=&#34;https://ruddra.com/hugo-deploy-static-page-using-github-actions/&#34;&gt;&lt;em&gt;Hugo: Deploy Static Site using GitHub Actions&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Pensar nisso tudo acima antes mesmo de ter o que postar √© complicar demais o que √© simples, voc√™ deve estar pensando. O ideal seria simplesmente come√ßar e ir ajustando o que fosse necess√°rio pelo caminho.&lt;/p&gt;
&lt;p&gt;E voc√™ estaria certa. Procrastinei manter um site na web por muito mais tempo do que me orgulho. Estou com o dom√≠nio gmgall.net &amp;ldquo;parado&amp;rdquo; h√° v√°rios anos.&lt;/p&gt;
&lt;p&gt;Protelei tanto por uma ansiedade de me expor que s√≥ consegui lidar melhor com &lt;a href=&#34;https://pt.wikipedia.org/wiki/Psicoterapia&#34;&gt;ajuda&lt;/a&gt;. Ent√£o deseje-me sorte e seja bem vinda, pessoa leitora! üòÅ&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Criando Suas Pr√≥prias A√ß√µes no fail2ban - Parte 3</title>
      <link>https://gmgall.net/blog/criando-suas-proprias-acoes-no-fail2ban-parte-3/</link>
      <pubDate>Thu, 04 Aug 2011 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/criando-suas-proprias-acoes-no-fail2ban-parte-3/</guid>
      <description>&lt;h2 id=&#34;estrutura-de-uma-a√ß√£o&#34;&gt;Estrutura de uma a√ß√£o&lt;/h2&gt;
&lt;p&gt;Cada a√ß√£o √© um arquivo no diret√≥rio &lt;code&gt;action.d&lt;/code&gt;. Esses arquivos seguem a seguinte estrutura:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Definition]

# Option:  actionstart
# Notes.:  comando executado ao iniciar o Fail2Ban.
# Values:  CMD
#
actionstart =


# Option:  actionstop
# Notes.:  comando executado ao encerrar o Fail2Ban
# Values:  CMD
#
actionstop =


# Option:  actioncheck
# Notes.:  comando executado antes de cada comando actionban
# Values:  CMD
#
actioncheck =


# Option:  actionban
# Notes.:  comando executado ao banir um IP. Observe que o comando
#          √© executado com as permiss√µes do usu√°rio executando o Fail2Ban.
# Tags:    &amp;lt;ip&amp;gt;  IP address
#          &amp;lt;failures&amp;gt;  number of failures
#          &amp;lt;time&amp;gt;  unix timestamp of the ban time
# Values:  CMD
#
actionban = ipfw add deny tcp from &amp;lt;ip&amp;gt; to &amp;lt;localhost&amp;gt; &amp;lt;port&amp;gt;


# Option:  actionunban
# Notes.:  comando executado ao &amp;#34;desbanir&amp;#34; um IP. Observe que o comando
#          √© executado com as permiss√µes do usu√°rio executando o Fail2Ban.
# Tags:    &amp;lt;ip&amp;gt;  IP address
#          &amp;lt;failures&amp;gt;  number of failures
#          &amp;lt;time&amp;gt;  unix timestamp of the ban time
# Values:  CMD
#
actionunban = ipfw delete `ipfw list | grep -i &amp;lt;ip&amp;gt; | awk &amp;#39;{print $1;}&amp;#39;`

[Init]

# Option:  port
# Notes.:  specifies port to monitor
# Values:  [ NUM | STRING ]
#
port = ssh

# Option:  localhost
# Notes.:  the local IP address of the network interface
# Values:  IP
#
localhost = 127.0.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;O arquivo que usei de exemplo acima j√° vem com o pacote e configura uma a√ß√£o que usa o ipfw para bloquear os IPs. Traduzi os coment√°rios da se√ß√£o &lt;code&gt;[Definition]&lt;/code&gt; para explicar o que cada entrada define.&lt;/p&gt;
&lt;p&gt;A se√ß√£o &lt;code&gt;[Init]&lt;/code&gt; define &amp;ldquo;vari√°veis&amp;rdquo; que podem ser usadas ao longo do arquivo. Nesse exemplo, &lt;code&gt;port&lt;/code&gt; e &lt;code&gt;localhost&lt;/code&gt;, mas que vari√°veis definir √© por conta do usu√°rio. &lt;strong&gt;Lembrando que&lt;/strong&gt; &lt;code&gt;&amp;lt;ip&amp;gt;&lt;/code&gt; &lt;strong&gt;vira o IP/hostname casado no grupo&lt;/strong&gt; &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt; &lt;strong&gt;dos filtros&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&#34;definindo-uma-a√ß√£o&#34;&gt;Definindo uma a√ß√£o&lt;/h2&gt;
&lt;p&gt;Existem a√ß√µes predefinidas que bloqueiam por &lt;code&gt;iptables&lt;/code&gt;, &lt;code&gt;ipfw&lt;/code&gt;, &lt;code&gt;shorewall&lt;/code&gt;, TCP wrappers, que avisam por e-mail a cada bloqueio&amp;hellip; Mas n√£o existe nenhuma que avise via Gtalk. Vamos criar uma a√ß√£o que faz isso.&lt;/p&gt;
&lt;p&gt;Usarei o programa &lt;a href=&#34;https://web.archive.org/web/20110827104139/http://sendxmpp.platon.sk/&#34;&gt;sendxmpp&lt;/a&gt; para definir uma a√ß√£o que enviar√° uma mensagem para mim no Gtalk a cada evento. Como configurar o sendxmpp para o Gtalk &lt;a href=&#34;http://ubuntuforums.org/showpost.php?s=0ecf5b2a9c9a97fbfa5438c354dcfc2c&amp;amp;p=8876182&amp;amp;postcount=3&#34;&gt;pode ser visto aqui&lt;/a&gt;. Conheci o sendxmpp num &lt;a href=&#34;http://eriberto.pro.br/blog/2011/03/02/mensagens-jabber-via-linha-de-comando-ideal-para-servidores-de-rede/&#34;&gt;post&lt;/a&gt; do &lt;a href=&#34;http://eriberto.pro.br/blog/&#34;&gt;blog&lt;/a&gt; do &lt;a href=&#34;http://eriberto.pro.br/site/&#34;&gt;Jo√£o Eriberto Mota Filho&lt;/a&gt; (&lt;a href=&#34;https://twitter.com/eribertomota&#34;&gt;@eribertomota&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Vamos √† listagem do arquivo &lt;code&gt;action.d/gtalk.local&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Definition]

actionstart = printf %%b &amp;#34;Hi,\n
              The jail &amp;lt;name&amp;gt; has been started successfully.\n
              Regards,\n
              Fail2Ban&amp;#34;|sendxmpp -t -u &amp;lt;from&amp;gt; -o gmail.com 

actionstop = printf %%b &amp;#34;Hi,\n
             The jail &amp;lt;name&amp;gt; has been stopped.\n
             Regards,\n
             Fail2Ban&amp;#34;|sendxmpp -t -u &amp;lt;from&amp;gt; -o gmail.com 

actioncheck =

actionban = printf %%b &amp;#34;Hi,\n
            The IP &amp;lt;ip&amp;gt; has just been banned by Fail2Ban after
            &amp;lt;failures&amp;gt; attempts against &amp;lt;name&amp;gt;.\n
            Regards,\n
            Fail2Ban&amp;#34;|sendxmpp -t -u &amp;lt;from&amp;gt; -o gmail.com &amp;lt;to&amp;gt;

actionunban =

[Init]

name = default

from =

to =
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Essa a√ß√£o enviar√° uma mensagem para o usu√°rio definido em &lt;code&gt;to&lt;/code&gt; tendo como remetente o usu√°rio definido em &lt;code&gt;from&lt;/code&gt; ao iniciar, parar e ao bloquear um IP.&lt;/p&gt;
&lt;h2 id=&#34;ativando-sua-a√ß√£o&#34;&gt;Ativando sua a√ß√£o&lt;/h2&gt;
&lt;p&gt;As a√ß√µes s√£o definidas por &lt;em&gt;jail&lt;/em&gt; ou globalmente na se√ß√£o &lt;code&gt;[DEFAULT]&lt;/code&gt; de &lt;code&gt;jail.local&lt;/code&gt;. A√ß√µes definidas nas &lt;em&gt;jails&lt;/em&gt; tem prioridade sobre as definidas globalmente.&lt;/p&gt;
&lt;p&gt;Observe o seguinte trecho de &lt;code&gt;jail.local&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#
# ACTIONS
#

# Default banning action (e.g. iptables, iptables-new,
# iptables-multiport, shorewall, etc) It is used to define
# action_* variables. Can be overriden globally or per
# section within jail.local file
banaction = iptables-multiport

# email action. Since 0.8.1 upstream fail2ban uses sendmail
# MTA for the mailing. Change mta configuration parameter to mail
# if you want to revert to conventional &amp;#39;mail&amp;#39;.
mta = sendmail

# Default protocol
protocol = tcp

#
# Action shortcuts. To be used to define action parameter

# The simplest action to take: ban only
action_ = %(banaction)s[name=%(__name__)s, port=&amp;#34;%(port)s&amp;#34;, protocol=&amp;#34;%(protocol)s]

# ban &amp;amp; send an e-mail with whois report to the destemail.
action_mw = %(banaction)s[name=%(__name__)s, port=&amp;#34;%(port)s&amp;#34;, protocol=&amp;#34;%(protocol)s]
%(mta)s-whois[name=%(__name__)s, dest=&amp;#34;%(destemail)s&amp;#34;, protocol=&amp;#34;%(protocol)s]

# ban &amp;amp; send an e-mail with whois report and relevant log lines
# to the destemail.
action_mwl = %(banaction)s[name=%(__name__)s, port=&amp;#34;%(port)s&amp;#34;, protocol=&amp;#34;%(protocol)s]
%(mta)s-whois-lines[name=%(__name__)s, dest=&amp;#34;%(destemail)s&amp;#34;, logpath=%(logpath)s]

# Choose default action. To change, just override value of &amp;#39;action&amp;#39; with the
# interpolation to the chosen action shortcut (e.g. action_mw, action_mwl, etc) in jail.local
# globally (section [DEFAULT]) or per specific section
action = %(action_)s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A vari√°vel &lt;code&gt;action&lt;/code&gt; define a a√ß√£o globalmente. As outras vari√°veis definidas antes (&lt;code&gt;action_mvl&lt;/code&gt;, &lt;code&gt;action_mw&lt;/code&gt; e &lt;code&gt;action_&lt;/code&gt;) s√£o atalhos √∫teis. Leia os coment√°rios com aten√ß√£o para entender como essas vari√°veis interagem.&lt;/p&gt;
&lt;p&gt;Repare que mais de uma a√ß√£o pode ser setada por linha e que cada a√ß√£o pode receber par√¢metros entre colchetes. Esses par√¢metros definem os valores das vari√°veis declaradas na se√ß√£o &lt;code&gt;[Init]&lt;/code&gt;. Os atalhos &lt;code&gt;action_mvl&lt;/code&gt;, &lt;code&gt;action_mw&lt;/code&gt; e &lt;code&gt;action_&lt;/code&gt; s√£o √∫teis por j√° ativarem a√ß√µes e passarem par√¢metros funcionais para tarefas rotineiras como banir e enviar um e-mail com informa√ß√µes √∫teis.&lt;/p&gt;
&lt;p&gt;Para definir nossa a√ß√£o gtalk globalmente, basta fazer&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;action = %(action_)s
        gtalk[name=%(__name__)s, from=gmgall, to=gmgall]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;e recarregar as configura√ß√µes do servi√ßo:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# /etc/init.d/fail2ban reload
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Funciona!&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;screenshot.png&#34;
         alt=&#34;Janela de chat do mensageiro instant√¢neo Pidgin, mostrando mensagens enviadas pelo fail2ban.&#34;/&gt;&lt;figcaption&gt;
            &lt;h4&gt;Janela de chat do mensageiro instant√¢neo Pidgin, mostrando mensagens enviadas pelo fail2ban.&lt;/h4&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>Criando Seus Pr√≥prios Filtros no fail2ban - Parte 2</title>
      <link>https://gmgall.net/blog/criando-seus-proprios-filtros-no-fail2ban-parte-2/</link>
      <pubDate>Mon, 01 Aug 2011 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/criando-seus-proprios-filtros-no-fail2ban-parte-2/</guid>
      <description>&lt;p&gt;Se n√£o existe um filtro pronto para o log que voc√™ deseja monitorar em &lt;code&gt;filter.d&lt;/code&gt;, ser√° necess√°rio criar seu pr√≥prio filtro. Mostrarei como fazer isso atrav√©s do exemplo que descrevo abaixo:&lt;/p&gt;
&lt;h2 id=&#34;cen√°rio-do-exemplo&#34;&gt;Cen√°rio do exemplo&lt;/h2&gt;
&lt;p&gt;Mantenho um wiki &lt;a href=&#34;http://moinmo.in/&#34;&gt;moinmoin&lt;/a&gt; e desejo bloquear o acesso √† ele pelos hosts que tentarem login por mais de 3 vezes sem sucesso. Vamos fazer um filtro para fazer esse bloqueio. O log do wiki √© escrito em &lt;code&gt;/var/log/moinmoin.log&lt;/code&gt;. Segue trecho desse log:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2011-07-12 15:45:40,447 MoinMoin.Page WARNING The page &amp;#34;MissingPage&amp;#34; could not be found. Check your underlay directory setting.
2011-07-12 15:45:44,002 MoinMoin.auth WARNING moin: performing login action | request from 192.168.0.10
2011-07-12 15:45:44,003 MoinMoin.auth WARNING moin: could not authenticate user u&amp;#39;GuilhermeGall&amp;#39; (not valid) | request from 192.168.0.10
2011-07-12 15:45:44,030 MoinMoin.Page WARNING The page &amp;#34;MissingPage&amp;#34; could not be found. Check your underlay directory setting.
2011-07-12 15:45:47,705 MoinMoin.auth WARNING moin: performing login action | request from 192.168.0.10
2011-07-12 15:45:47,706 MoinMoin.auth WARNING moin: could not authenticate user u&amp;#39;GuilhermeGall&amp;#39; (not valid) | request from 192.168.0.10
2011-07-12 15:45:47,732 MoinMoin.Page WARNING The page &amp;#34;MissingPage&amp;#34; could not be found. Check your underlay directory setting.
2011-07-12 15:55:59,473 MoinMoin.Page WARNING The page &amp;#34;MissingPage&amp;#34; could not be found. Check your underlay directory setting.
2011-07-12 16:08:51,543 MoinMoin.Page WARNING The page &amp;#34;MissingPage&amp;#34; could not be found. Check your underlay directory setting.
2011-07-13 09:09:01,908 MoinMoin.auth WARNING moin: performing login action | request from 192.168.0.7
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;N√£o √© dif√≠cil perceber que as linhas com &lt;code&gt;could not authenticate user u&#39;GuilhermeGall&#39; (not valid)&lt;/code&gt; representam as tentativas de login malsucedidas. Se desejamos bloquear os hosts de origem dessas tentativas temos que fazer a regex do filtro casar essas linhas e usar o IP que aparece nelas para executar nossa a√ß√£o (por &lt;em&gt;default&lt;/em&gt;, bloquear via &lt;code&gt;iptables&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Antes de criar nosso filtro, vamos entender a estrutura de um filtro e como desenvolver nossas pr√≥prias regexes.&lt;/p&gt;
&lt;h2 id=&#34;estrutura-de-um-filtro&#34;&gt;Estrutura de um filtro&lt;/h2&gt;
&lt;p&gt;Um filtro √© simplesmente um arquivo com uma entrada &lt;code&gt;failregex&lt;/code&gt;, que define as regexes que casam as linhas que representam as tentativas de login malsucedidas, e uma entrada &lt;code&gt;ignoreregex&lt;/code&gt;, que define regexes que casam com linhas que devem ser ignoradas. Outras entradas podem existir, como &lt;code&gt;before&lt;/code&gt; que faz um ‚Äúimport‚Äù de outro arquivo, mas &lt;code&gt;failregex&lt;/code&gt; e &lt;code&gt;ignoreregex&lt;/code&gt; s√£o as essenciais e usadas na maioria dos casos.&lt;/p&gt;
&lt;p&gt;Se for definir mais de uma regex para &lt;code&gt;failregex&lt;/code&gt; ou &lt;code&gt;ignoreregex&lt;/code&gt;, coloque uma por linha. Exemplo do arquivo &lt;code&gt;filter.d/apache-auth.conf&lt;/code&gt; que j√° vem no pacote &lt;code&gt;fail2ban&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Definition]

# Option:  failregex
# Notes.:  regex to match the password failure messages in the logfile. The
#          host must be matched by a group named &amp;#34;host&amp;#34;. The tag &amp;#34;&amp;lt;HOST&amp;gt;&amp;#34; can
#          be used for standard IP/hostname matching and is only an alias for
#          (?:::f{4,6}:)?(?P&amp;lt;host&amp;gt;[\w\-.^_]+)
# Values:  TEXT
#
failregex = [[]client &amp;lt;HOST&amp;gt;[]] user .* authentication failure
            [[]client &amp;lt;HOST&amp;gt;[]] user .* not found
            [[]client &amp;lt;HOST&amp;gt;[]] user .* password mismatch

# Option:  ignoreregex
# Notes.:  regex to ignore. If this regex matches, the line is ignored.
# Values:  TEXT
#
ignoreregex =
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Conforme pode ser lido nos coment√°rios do arquivo acima, a tag &lt;code&gt;&amp;lt;HOST&amp;gt;&lt;/code&gt; deve aparecer dentro da regex na posi√ß√£o onde aparece o IP/hostname do host ofensor. Repare que mais de uma regex foi definida para &lt;code&gt;failregex&lt;/code&gt; ‚Äì uma em cada linha ‚Äì e que &lt;code&gt;ignoreregex&lt;/code&gt; pode ser vazio.&lt;/p&gt;
&lt;h2 id=&#34;desenvolvendo-suas-pr√≥prias-regexes&#34;&gt;Desenvolvendo suas pr√≥prias regexes&lt;/h2&gt;
&lt;p&gt;Para escrever suas pr√≥prias regexes para o &lt;code&gt;fail2ban&lt;/code&gt; √© preciso ter em mente o seguinte:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Em toda linha de uma &lt;code&gt;failregex&lt;/code&gt;, a parte que casa com o IP/hostname deve estar envolta pela estrutura &lt;code&gt;(?P&amp;lt;host&amp;gt; ... )&lt;/code&gt;. Essa estrutura √© uma extens√£o espec√≠fica do Python que atribui o nome &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt; ao que foi casado pelo grupo. A tag &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt; √© como voc√™ informa ao &lt;code&gt;fail2ban&lt;/code&gt; qual host estava tentando logar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Como conveni√™ncia, √© poss√≠vel usar &lt;code&gt;&amp;lt;HOST&amp;gt;&lt;/code&gt; nas suas regexes, conforme citei no t√≥pico anterior. &lt;code&gt;&amp;lt;HOST&amp;gt;&lt;/code&gt; √© um alias para &lt;code&gt;(?:::f{4,6}:)?(?P&amp;lt;host&amp;gt;\S+)&lt;/code&gt; que casa um IP/hostname dentro de um grupo chamado &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt;. Vide item anterior.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nas a√ß√µes, a tag &lt;code&gt;&amp;lt;ip&amp;gt;&lt;/code&gt; ser√° substitu√≠da pelo IP do host casado pela tag &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt;, por isso sempre deve existir um grupo nomeado &lt;code&gt;&amp;lt;host&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Para que uma linha de um log case com sua &lt;code&gt;failregex&lt;/code&gt;, ela deve casar em duas partes: o in√≠cio da linha tem que casar com um padr√£o de &lt;em&gt;timestamp&lt;/em&gt; e o restante da linha deve casar com a regex definida em &lt;code&gt;failregex&lt;/code&gt;. Se sua &lt;code&gt;failregex&lt;/code&gt; possui a √¢ncora &lt;code&gt;^&lt;/code&gt;, ent√£o a √¢ncora refere-se ao in√≠cio do restante da linha, ap√≥s o &lt;em&gt;timestamp&lt;/em&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Por √∫ltimo, mas n√£o menos importante, o comando &lt;code&gt;fail2ban-regex&lt;/code&gt; permite testar suas regexes antes de criar o filtro. Na realidade, como escrever suas pr√≥prias regexes pode envolver alguma ‚Äì muita! ‚Äì tentativa e erro no come√ßo, eu diria que esse √© o item mais importante. üôÇ Ele pode ser usado de duas maneiras:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fail2ban-regex /path/para/arquivo.log &amp;#39;^regex a ser testada$&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ou&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fail2ban-regex &amp;#39;linha exemplo de log&amp;#39; &amp;#39;^regex a ser testada$&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;definindo-o-filtro&#34;&gt;Definindo o filtro&lt;/h2&gt;
&lt;p&gt;A regex que casa com as linhas que representam as tentativas de login malsucedidas √©:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from &amp;lt;HOST&amp;gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;N√£o √© do escopo desse artigo ensinar express√µes regulares. Tem muito &lt;a href=&#34;https://aurelio.net/regex/&#34;&gt;material bom sobre isso&lt;/a&gt; por a√≠, mas resumindo a express√£o acima:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MoinMoin\.auth&lt;/code&gt; casa &lt;code&gt;MoinMoin.auth&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DEBUG|INFO|WARNING|ERROR|CRITICAL)&lt;/code&gt; casa &lt;code&gt;DEBUG&lt;/code&gt;, &lt;code&gt;INFO&lt;/code&gt;, &lt;code&gt;WARNING&lt;/code&gt;, &lt;code&gt;ERROR&lt;/code&gt; ou &lt;code&gt;CRITICAL&lt;/code&gt;. Eu poderia ter casado apenas um dos n√≠veis de severidade, mas ainda estou decidindo em qual n√≠vel reportarei as mensagens referentes √† tentativas de login.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;moin: could not authenticate user&lt;/code&gt; casa &lt;code&gt;moin: could not authenticate user&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.*&lt;/code&gt; casa &lt;em&gt;qualquer caractere em qualquer quantidade&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;not valid\) \| request from&lt;/code&gt; casa &lt;code&gt;(not valid) | request from&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;HOST&amp;gt;&lt;/code&gt; casa o &lt;em&gt;IP/hostname&lt;/em&gt;. √â a tal tag indicativa de onde est√° o IP/hostname que √© substitu√≠da por &lt;code&gt;(?:::f{4,6}:)?(?P&amp;lt;host&amp;gt;\S+)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt; casa o &lt;em&gt;fim da linha&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Testando uma linha de exemplo do log com o &lt;code&gt;fail2ban-regex&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fail2ban-regex &amp;#39;2011-07-18 14:24:42,687 MoinMoin.auth WARNING moin: could not authenticate user u&amp;#39;UserName&amp;#39; (not valid) | request from 192.168.0.27&amp;#39; &amp;#39;MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from &amp;lt;HOST&amp;gt;$&amp;#39;

Running tests
=============

Use regex line : MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL)...
Use single line: 2011-07-18 14:24:42,687 MoinMoin.auth WARNING moin...

Results
=======

Failregex
|- Regular expressions:
|  [1] MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from &amp;lt;HOST&amp;gt;$
|
`- Number of matches:
   [1] 1 match(es)

Ignoreregex
|- Regular expressions:
|
`- Number of matches:

Summary
=======

Addresses found:
[1]
    192.168.0.27 (Mon Jul 18 14:24:42 2011)

Date template hits:
0 hit(s): MONTH Day Hour:Minute:Second
0 hit(s): WEEKDAY MONTH Day Hour:Minute:Second Year
0 hit(s): WEEKDAY MONTH Day Hour:Minute:Second
0 hit(s): Year/Month/Day Hour:Minute:Second
0 hit(s): Day/Month/Year Hour:Minute:Second
0 hit(s): Day/Month/Year Hour:Minute:Second
0 hit(s): Day/MONTH/Year:Hour:Minute:Second
0 hit(s): Month/Day/Year:Hour:Minute:Second
2 hit(s): Year-Month-Day Hour:Minute:Second
0 hit(s): Day-MONTH-Year Hour:Minute:Second[.Millisecond]
0 hit(s): Day-Month-Year Hour:Minute:Second
0 hit(s): TAI64N
0 hit(s): Epoch
0 hit(s): ISO 8601
0 hit(s): Hour:Minute:Second
0 hit(s): 

Success, the total number of match is 1

However, look at the above section &amp;#39;Running tests&amp;#39; which could contain important
information.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Perceba que o comando mostrou a regex e o n√∫mero de casamentos, al√©m do IP encontrado abaixo de &amp;ldquo;Addresses found&amp;rdquo;, indicando que a regex est√° correta. O n√∫mero de casamentos presumivelmente seria maior que 1, se o comando fosse executado contra um arquivo de log ao inv√©s de apenas contra uma linha de exemplo.&lt;/p&gt;
&lt;p&gt;Vamos supor voc√™ tenha cometido um erro, como por exemplo n√£o especificar um grupo chamado &lt;code&gt;host&lt;/code&gt; na sua regex:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ fail2ban-regex &amp;#39;2011-07-18 14:24:42,687 MoinMoin.auth WARNING moin: could not authenticate user u&amp;#39;UserName&amp;#39; (not valid) | request from 192.168.0.27&amp;#39; &amp;#39;MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from$&amp;#39;

Running tests
=============

Use regex line : MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL)...
Use single line: 2011-07-18 14:24:42,687 MoinMoin.auth WARNING moin...

No &amp;#39;host&amp;#39; group in &amp;#39;MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from$&amp;#39;
Cannot remove regular expression. Index 0 is not valid

Results
=======

Failregex
|- Regular expressions:
|  [1] MoinMoin\.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from$
|
`- Number of matches:
   [1] 0 match(es)

Ignoreregex
|- Regular expressions:
|
`- Number of matches:

Summary
=======

Sorry, no match

Look at the above section &amp;#39;Running tests&amp;#39; which could contain important
information.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Perceba que o &lt;code&gt;fail2ban-regex&lt;/code&gt; informa o erro &lt;code&gt;No &#39;host&#39; group in...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Como j√° temos a regex funcional, crie um arquivo com o nome do filtro em &lt;code&gt;filter.d&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cd /etc/fail2ban/
# cat filter.d/moinmoin.conf
[Definition]

# Option:  failregex
# Notes.:  regex to match the password failures messages in the logfile. The
#          host must be matched by a group named &amp;#34;host&amp;#34;. The tag &amp;#34;&amp;lt;HOST&amp;gt;&amp;#34; can
#          be used for standard IP/hostname matching and is only an alias for
#          (?:::f{4,6}:)?(?P&amp;lt;host&amp;gt;[\w\-.^_]+)
# Values:  TEXT
#
failregex = MoinMoin.auth (DEBUG|INFO|WARNING|ERROR|CRITICAL) moin: could not authenticate user .* \(not valid\) \| request from &amp;lt;HOST&amp;gt;$

# Option:  ignoreregex
# Notes.:  regex to ignore. If this regex matches, the line is ignored.
# Values:  TEXT
#
ignoreregex =
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Crie uma &lt;em&gt;jail&lt;/em&gt; que usa o filtro rec√©m-criado em &lt;code&gt;jail.local&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[moinmoin]

enabled = true
port = 80
filter = moinmoin
logpath = /var/log/moinmoin.log
maxretry = 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A vari√°vel &lt;code&gt;filter&lt;/code&gt; define o nome do filtro, que √© o nome do arquivo criado em &lt;code&gt;filter.d&lt;/code&gt; sem a extens√£o &lt;code&gt;.conf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Reinicie o &lt;code&gt;fail2ban&lt;/code&gt; para ativar a nova &lt;em&gt;jail&lt;/em&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# /etc/init.d/fail2ban restart
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;√â interessante monitorar o log do pr√≥prio &lt;code&gt;fail2ban&lt;/code&gt;, que por padr√£o fica em &lt;code&gt;/var/log/fail2ban.log&lt;/code&gt;, para verificar se suas altera√ß√µes foram aplicadas com sucesso:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# tail -f /var/log/fail2ban.log
2011-08-01 09:52:04,994 fail2ban.filter : INFO   Set findtime = 600
2011-08-01 09:52:04,994 fail2ban.actions: INFO   Set banTime = 600
2011-08-01 09:52:04,999 fail2ban.jail   : INFO   Creating new jail &amp;#39;ssh&amp;#39;
2011-08-01 09:52:04,999 fail2ban.jail   : INFO   Jail &amp;#39;ssh&amp;#39; uses poller
2011-08-01 09:52:05,000 fail2ban.filter : INFO   Added logfile = /var/log/auth.log
2011-08-01 09:52:05,001 fail2ban.filter : INFO   Set maxRetry = 3
2011-08-01 09:52:05,002 fail2ban.filter : INFO   Set findtime = 600
2011-08-01 09:52:05,002 fail2ban.actions: INFO   Set banTime = 600
2011-08-01 09:52:05,035 fail2ban.jail   : INFO   Jail &amp;#39;moinmoin&amp;#39; started
2011-08-01 09:52:05,039 fail2ban.jail   : INFO   Jail &amp;#39;ssh&amp;#39; started
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As duas √∫ltimas linhas nos mostra as &lt;em&gt;jails&lt;/em&gt; iniciadas. A &lt;code&gt;ssh&lt;/code&gt;, que j√° vem configurada, e a &lt;code&gt;moinmoin&lt;/code&gt;, que acabamos de configurar.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Introdu√ß√£o ao fail2ban - Parte 1</title>
      <link>https://gmgall.net/blog/introducao-ao-fail2ban-parte-1/</link>
      <pubDate>Fri, 29 Jul 2011 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/introducao-ao-fail2ban-parte-1/</guid>
      <description>&lt;p&gt;O fail2ban √© um software que monitora os logs do sistema e em caso de X (sendo X configur√°vel) tentativas de autentica√ß√£o sem sucesso em diversos servi√ßos toma uma atitude, que pode ser colocar o host ofensor em &lt;code&gt;/etc/hosts.deny&lt;/code&gt;, &amp;ldquo;dropar&amp;rdquo; seus pacotes via &lt;code&gt;iptables&lt;/code&gt; ou qualquer outra a√ß√£o definida pelo usu√°rio.&lt;/p&gt;
&lt;h2 id=&#34;instala√ß√£o-do-fail2ban&#34;&gt;Instala√ß√£o do fail2ban&lt;/h2&gt;
&lt;p&gt;Em m√°quinas Debian, a melhor maneira de instalar o &lt;code&gt;fail2ban&lt;/code&gt; √© via &lt;code&gt;apt-get&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# apt-get update
# apt-get install fail2ban
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As configura√ß√µes &lt;em&gt;default&lt;/em&gt; bloqueiam via &lt;code&gt;iptables&lt;/code&gt; por 10 minutos os hosts que tentarem sem sucesso login via ssh 6 vezes. O &lt;code&gt;fail2ban&lt;/code&gt; cria uma &lt;em&gt;chain&lt;/em&gt; com nome no padr√£o &lt;code&gt;fail2ban-servi√ßo&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# iptables -L
Chain INPUT (policy ACCEPT)
target prot opt source destination
fail2ban-ssh tcp -- anywhere anywhere multiport dports ssh

Chain FORWARD (policy ACCEPT)
target prot opt source destination

Chain OUTPUT (policy ACCEPT)
target prot opt source destination

Chain fail2ban-ssh (1 references)
target prot opt source destination
RETURN all -- anywhere anywhere
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Lembrando que todo esse comportamento √© configur√°vel. O bloqueio pode ser feito via TCP-wrappers (&lt;code&gt;/etc/hosts.{allow,deny}&lt;/code&gt;), e muitos outros servi√ßos s√£o suportados.&lt;/p&gt;
&lt;h2 id=&#34;entendendo-os-arquivos-de-configura√ß√£o&#34;&gt;Entendendo os arquivos de configura√ß√£o&lt;/h2&gt;
&lt;p&gt;Alguns termos usados pelo &lt;code&gt;fail2ban&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;filter&lt;/strong&gt;: um filtro define uma regex que casa um padr√£o correspondente a uma tentativa de login mal sucedido nos arquivos de log;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;action&lt;/strong&gt;: uma a√ß√£o define os comandos que s√£o executados nos mais diversos eventos, como bloquear um host (ex: bloquear via TCP-wrappers ou &lt;code&gt;iptables&lt;/code&gt;), iniciar o &lt;code&gt;fail2ban&lt;/code&gt; (ex: criar as chains no firewall) e parar o &lt;code&gt;fail2ban&lt;/code&gt; (ex: remover as &lt;em&gt;chains&lt;/em&gt; criadas ao iniciar);&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;jail&lt;/strong&gt;: uma &lt;em&gt;jail&lt;/em&gt; √© uma combina√ß√£o de um filtro com uma ou v√°rias &lt;em&gt;actions&lt;/em&gt;. O &lt;code&gt;fail2ban&lt;/code&gt; pode lidar com diversas &lt;em&gt;jails&lt;/em&gt; ao mesmo tempo.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Uma &lt;em&gt;jail&lt;/em&gt; √© como dar a seguinte ordem ao &lt;code&gt;fail2ban&lt;/code&gt;: &amp;ldquo;bloqueie via &lt;code&gt;iptables&lt;/code&gt; por 10 minutos os hosts que aparecerem 3 vezes em &lt;code&gt;/var/log/auth.log&lt;/code&gt; com falha de autentica√ß√£o&amp;rdquo;. Nesse exemplo, bloquear via &lt;code&gt;iptables&lt;/code&gt; √© uma a√ß√£o e a regex que casa a falha de autentica√ß√£o √© o filtro.&lt;/p&gt;
&lt;p&gt;Os arquivos de configura√ß√£o ficam em &lt;code&gt;/etc/fail2ban&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cd /etc/fail2ban
# ls -l
total 17
drwxr-xr-x 2 root root 1024 Jun 28 14:30 action.d
-rw-r--r-- 1 root root 859 Feb 27 2008 fail2ban.conf
drwxr-xr-x 2 root root 1024 Jun 28 14:30 filter.d
-rw-r--r-- 1 root root 6683 Jun 28 2010 jail.conf
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Os diret√≥rios &lt;code&gt;action.d&lt;/code&gt; e &lt;code&gt;filter.d&lt;/code&gt; mant√™m as configura√ß√µes de a√ß√µes e filtros, respectivamente. Os que v√™m com o pacote j√° devem atender √† maior parte das necessidades. O arquivo &lt;code&gt;fail2ban.conf&lt;/code&gt; cont√©m configura√ß√µes gerais do &lt;em&gt;daemon&lt;/em&gt; &lt;code&gt;fail2ban-server&lt;/code&gt;, como &lt;em&gt;path&lt;/em&gt; do arquivo de &lt;em&gt;log&lt;/em&gt; do &lt;code&gt;fail2ban&lt;/code&gt;, &lt;em&gt;path&lt;/em&gt; do arquivo socket usado para o cliente de linha de comando se comunicar com o &lt;em&gt;daemon&lt;/em&gt; etc.&lt;/p&gt;
&lt;p&gt;O arquivo &lt;code&gt;jail.conf&lt;/code&gt; √© o mais importante, j√° que configura as &lt;em&gt;jails&lt;/em&gt;. No t√≥pico abaixo ser√° explicado como modificar uma &lt;em&gt;jail&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id=&#34;mudando-as-configura√ß√µes-default&#34;&gt;Mudando as configura√ß√µes default&lt;/h2&gt;
&lt;p&gt;Na maior parte do tempo, os filtros e a√ß√µes que v√™m com o pacote atendem √†s necessidades, bastando us√°-los nas suas &lt;em&gt;jails&lt;/em&gt;. A √∫nica &lt;em&gt;jail&lt;/em&gt; que vem ativada por padr√£o √© a que bloqueia os hosts que tentarem logar mais de 6 vezes via SSH. Como exemplo, ser√° mostrado como alterar o n√∫mero de tentativas antes do bloqueio de 6 para 3.&lt;/p&gt;
&lt;p&gt;Primeiramente crie uma c√≥pia do arquivo &lt;code&gt;jail.conf&lt;/code&gt; chamada &lt;code&gt;jail.local&lt;/code&gt; e fa√ßa as suas modifica√ß√µes nesse arquivo:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cp jail.conf jail.local
# vim jail.local
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;O trecho abaixo configura uma &lt;em&gt;jail&lt;/em&gt; chamada &lt;code&gt;ssh&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[ssh]

enabled = true
port = ssh
filter = sshd
logpath = /var/log/auth.log
maxretry = 6
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Mude para:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[ssh]

enabled = true
port = ssh
filter = sshd
logpath = /var/log/auth.log
maxretry = 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Fa√ßa o &lt;code&gt;fail2ban&lt;/code&gt; reler os arquivos de configura√ß√£o:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# /etc/init.d/fail2ban reload
Reloading authentication failure monitor: fail2ban.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;N√£o fa√ßa as altera√ß√µes diretamente em &lt;code&gt;jail.conf&lt;/code&gt;. Apesar de funcionar, o arquivo pode ser sobrescrito por atualiza√ß√µes no pacote &lt;code&gt;fail2ban&lt;/code&gt;. O &lt;code&gt;fail2ban&lt;/code&gt; aplica as regras primeiro do &lt;code&gt;jail.conf&lt;/code&gt; depois do &lt;code&gt;jail.local&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Daemon em Python</title>
      <link>https://gmgall.net/blog/daemon-em-python/</link>
      <pubDate>Sun, 24 May 2009 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/daemon-em-python/</guid>
      <description>&lt;p&gt;J√° usei mais de uma vez o c√≥digo abaixo para criar pequenos &lt;a href=&#34;http://en.wikipedia.org/wiki/Daemon_(computer_software)&#34;&gt;daemons&lt;/a&gt; para Linux. Achei &lt;a href=&#34;https://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/&#34;&gt;aqui&lt;/a&gt; e como ele foi &lt;a href=&#34;https://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/#c6&#34;&gt;liberado em dom√≠nio p√∫blico&lt;/a&gt;, use como melhor convir.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; sys&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; time&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; atexit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; signal &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; SIGTERM 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Daemon&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    A generic daemon class.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    Usage: subclass the Daemon class and override the run() method
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; __init__(self, pidfile, stdin&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/null&amp;#39;&lt;/span&gt;, stdout&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/null&amp;#39;&lt;/span&gt;, stderr&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/null&amp;#39;&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdin &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stdin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stdout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stderr
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pidfile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;daemonize&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        do the UNIX double-fork magic, see Stevens&amp;#39; &amp;#34;Advanced
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        Programming in the UNIX Environment&amp;#34; for details (ISBN 0201563177)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        http://www.erlenstar.demon.co.uk/unix/faq_2.html#SEC16
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fork()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; pid &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# exit first parent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OSError&lt;/span&gt;, e:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fork #1 failed: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; (&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;errno, e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strerror))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# decouple from parent environment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;chdir(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;setsid()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;umask(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# do second fork&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fork()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; pid &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#75715e&#34;&gt;# exit from second parent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OSError&lt;/span&gt;, e:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fork #2 failed: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; (&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;errno, e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strerror))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# redirect standard file descriptors&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;flush()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;flush()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        si &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdin, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        so &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a+&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a+&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;dup2(si&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno(), sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdin&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;dup2(so&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno(), sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;dup2(se&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno(), sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fileno())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# write pidfile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        atexit&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;register(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;delpid)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; str(os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;getpid())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;w+&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; pid)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;delpid&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;remove(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;start&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        Start the daemon
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Check for a pidfile to see if the daemon already runs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;read()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strip())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IOError&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; pid:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            message &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pidfile &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; already exist. Daemon already running?&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(message &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Start the daemon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;daemonize()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;run()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stop&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        Stop the daemon
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Get the pid from the pidfile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;read()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strip())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IOError&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; pid:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            message &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pidfile &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; does not exist. Daemon not running?&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stderr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(message &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# not an error in a restart&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Try killing the daemon process&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;kill(pid, SIGTERM)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;sleep(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OSError&lt;/span&gt;, err:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; str(err)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; err&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;No such process&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;path&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exists(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;remove(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                print str(err)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;restart&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        Restart the daemon
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stop()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;start()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        You should override this method when you subclass Daemon. It will be called after the process has been
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        daemonized by start() or restart().
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;        &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Resolvi adicionar a funcionalidade de verificar o status do processo tamb√©m, da√≠ adicionei o seguinte m√©todo √† classe acima:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;status&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;read()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strip())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IOError&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        procfile &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; file(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/proc/&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/status&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; pid, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        procfile&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IOError&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;there is not a process with the PID specified in &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TypeError&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pidfile &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; does not exist&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;pidfile)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;exit(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;stdout&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;the process with the PID &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; is running&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; pid)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;N√£o ficou muito bonito, mas funciona. Lembrando o que j√° est√° comentado no &lt;a href=&#34;http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python&#34;&gt;c√≥digo original&lt;/a&gt;: para usar a classe acima para &amp;ldquo;daemonizar&amp;rdquo; seu programa, crie uma classe filha de &lt;code&gt;Daemon&lt;/code&gt; e sobrescreva o m√©todo &lt;code&gt;run()&lt;/code&gt;. Ele ser√° chamado ap√≥s o processo de &amp;ldquo;daemoniza√ß√£o&amp;rdquo; por &lt;code&gt;start()&lt;/code&gt; e &lt;code&gt;restart()&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sequ√™ncia Look and Say em Python</title>
      <link>https://gmgall.net/blog/sequencia-look-and-say-em-python/</link>
      <pubDate>Wed, 11 Mar 2009 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/sequencia-look-and-say-em-python/</guid>
      <description>&lt;p&gt;Tenho brincado ultimamente com os desafios do &lt;a href=&#34;http://www.pythonchallenge.com/&#34;&gt;Python Challenge&lt;/a&gt;. S√£o bem interessantes para quem quer aprender Python na pr√°tica. Estou resolvendo o n√≠vel 11 e j√° precisei &lt;a href=&#34;https://web.archive.org/web/20090309064253/http://www.pythonware.com/products/pil/&#34;&gt;processar imagens&lt;/a&gt;, descompactar dados comprimidos com &lt;a href=&#34;https://docs.python.org/3/library/zipfile.html&#34;&gt;zip&lt;/a&gt; e &lt;a href=&#34;https://docs.python.org/3/library/bz2.html&#34;&gt;bz2&lt;/a&gt;, &lt;a href=&#34;https://docs.python.org/3/library/pickle.html&#34;&gt;serializar objetos&lt;/a&gt;, &lt;a href=&#34;https://docs.python.org/3/library/urllib.html&#34;&gt;acessar recursos via URL&lt;/a&gt;, &lt;a href=&#34;https://docs.python.org/3/library/re.html&#34;&gt;usar express√µes regulares&lt;/a&gt; e algumas tarefas que n√£o exigiam necessariamente um m√≥dulo.&lt;/p&gt;
&lt;p&gt;O √∫ltimo n√≠vel que resolvi tinha como resposta o &lt;a href=&#34;https://web.archive.org/web/20111111070626/http://oeis.org/A005341&#34;&gt;comprimento de um elemento espec√≠fico&lt;/a&gt; de uma &lt;a href=&#34;https://web.archive.org/web/20090303175131/http://www.research.att.com/~njas/sequences/&#34;&gt;sequ√™ncia de inteiros&lt;/a&gt; conhecida como &lt;a href=&#34;https://web.archive.org/web/20090304154846/http://www.research.att.com/~njas/sequences/A005150&#34;&gt;&lt;em&gt;look and say&lt;/em&gt;&lt;/a&gt; (olhe e descreva). Achei diversas implementa√ß√µes da gera√ß√£o da sequ√™ncia pela web, nenhuma delas me pareceu &lt;em&gt;pythonica&lt;/em&gt; ou leg√≠vel o suficiente. Resolvi juntar algumas das id√©ias que vi nessas implementa√ß√µes com os conhecimentos que obtive recentemente com a leitura de um material sobre &lt;a href=&#34;https://docs.python.org/dev/howto/functional.html&#34;&gt;programa√ß√£o funcional em Python&lt;/a&gt; e criei uma fun√ß√£o que retorna uma lista com os elementos da sequ√™ncia. A minha solu√ß√£o n√£o √© a mais eficiente poss√≠vel (&lt;a href=&#34;http://www.fantascienza.net/leonardo/so/briciole_python1/&#34;&gt;essa p√°gina&lt;/a&gt; cont√©m uma implementa√ß√£o alegadamente otimizada para velocidade), mas acho que √© elegante e mostra alguns aspectos interessantes da linguagem. Segue o c√≥digo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;look_and_say&lt;/span&gt;(first, elements):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; itertools &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; groupby
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    seq &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [str(first)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;say&lt;/span&gt;(number):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ret &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; k,g &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; groupby(number):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ret&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append( str(len(list(g))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; k )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join(ret)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; xrange(elements):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        seq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(say(seq[&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; seq
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;O argumento &lt;code&gt;first&lt;/code&gt; de &lt;code&gt;look_and_say&lt;/code&gt; recebe o primeiro elemento da lista e &lt;code&gt;elements&lt;/code&gt; quantos elementos depois do primeiro devem ser gerados. Exemplo de uso:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; look_and_say(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;11&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;21&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1211&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;111221&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;312211&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;13112221&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1113213211&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;31131211131221&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;13211311123113112211&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;11131221133112132113212221&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; look_and_say(&lt;span style=&#34;color:#ae81ff&#34;&gt;55&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;55&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;25&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1215&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;11121115&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;31123115&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dentre os aspectos que gostaria de destacar est√£o a possibilidade de importar partes de m√≥dulos e definir fun√ß√µes dentro de fun√ß√µes, o uso de listas para &lt;a href=&#34;https://web.archive.org/web/20090324052548/http://codare.net/2006/09/17/python-concatenacao-eficiente-de-strings/&#34;&gt;concatenar strings com efici√™ncia&lt;/a&gt; e o uso de &lt;a href=&#34;https://docs.python.org/dev/howto/functional.html#grouping-elements&#34;&gt;itertools.groupby&lt;/a&gt; que faz um agrupamento semelhante ao do comando &lt;code&gt;uniq&lt;/code&gt; do Unix, juntando elementos iguais consecutivos em um &lt;a href=&#34;https://docs.python.org/dev/howto/functional.html#iterators&#34;&gt;&lt;em&gt;iterator&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para quem quiser uma abordagem matem√°tica da sequ√™ncia, o &lt;a href=&#34;https://mathworld.wolfram.com/&#34;&gt;Wolfram Mathworld&lt;/a&gt; tem uma &lt;a href=&#34;https://mathworld.wolfram.com/LookandSaySequence.html&#34;&gt;p√°gina sobre ela&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Metaclasses em Python</title>
      <link>https://gmgall.net/blog/metaclasses-em-python/</link>
      <pubDate>Sat, 21 Feb 2009 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/metaclasses-em-python/</guid>
      <description>&lt;h2 id=&#34;introdu√ß√£o&#34;&gt;Introdu√ß√£o&lt;/h2&gt;
&lt;p&gt;Li dois textos interessantes no &lt;a href=&#34;http://kodumaro.blogspot.com/&#34;&gt;Kodumaro&lt;/a&gt; recentemente: um sobre &lt;a href=&#34;http://kodumaro.blogspot.com/2009/01/propriedades.html&#34;&gt;propriedades e acessores&lt;/a&gt; e outro sobre o &lt;a href=&#34;http://kodumaro.blogspot.com/2009/01/s-ingleton.html&#34;&gt;design pattern &lt;em&gt;singleton&lt;/em&gt;&lt;/a&gt;. Ambos citavam as metaclasses, um conceito novo para mim e, pelo que andei conversando, novo para muitos de meus colegas de faculdade e trabalho. O seguinte texto √© resultado de minha tentativa de explicar o que s√£o metaclasses de uma forma simples de ser assimilada por pessoas que come√ßaram a estudar Python h√° pouco tempo como eu e portanto n√£o pode ser considerado como um guia definitivo e sem erros sobre o assunto. Qualquer sugest√£o ou coment√°rio √© bem vindo.&lt;/p&gt;
&lt;h2 id=&#34;revisando-orienta√ß√£o-a-objetos-e-definindo-metaclasses&#34;&gt;Revisando Orienta√ß√£o a Objetos e definindo metaclasses&lt;/h2&gt;
&lt;p&gt;Em uma linguagem de programa√ß√£o orientada a objetos, voc√™ pode definir classes que combinam dados (atributos) e m√©todos (comportamentos) que atuam sobre esses dados. Pode-se afirmar que ao definir uma classe se est√° definindo um dom√≠nio.&lt;/p&gt;
&lt;p&gt;As classes geralmente atuam como modelos para a cria√ß√£o de inst√¢ncias de classe, que apesar de compartilharem uma mesma &amp;ldquo;forma&amp;rdquo;, possuem dados diferentes. Uma inst√¢ncia &lt;code&gt;real&lt;/code&gt; e outra &lt;code&gt;peso&lt;/code&gt; de uma mesma classe &lt;code&gt;Moeda&lt;/code&gt; podem possuir um atributo &lt;code&gt;cotacao&lt;/code&gt;, mas cada inst√¢ncia ter√° seu pr√≥prio valor para esse atributo.&lt;/p&gt;
&lt;p&gt;Em Python, tudo √© objeto e tudo tem um tipo. N√£o existe diferen√ßa real entre uma classe e um tipo, especialmente depois da unifica√ß√£o de classes e tipos iniciada no Python 2.2. Ao definir uma classe, portanto, o programador est√° criando um novo tipo de dados. Como tudo √© objeto, as classes tamb√©m o s√£o e possuem uma classe, um tipo. A classe de uma classe √© chamada de metaclasse. O tipo &lt;em&gt;default&lt;/em&gt; de uma classe √© &lt;code&gt;type&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Moeda&lt;/span&gt;(object):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; type(Moeda)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;type&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; Moeda
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;__main__&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Moeda&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ao chamar &lt;code&gt;type()&lt;/code&gt; com apenas um argumento, obt√©m-se o tipo do objeto. Observe que o tipo da &lt;strong&gt;classe&lt;/strong&gt; &lt;code&gt;Moeda&lt;/code&gt; √© &lt;code&gt;type&lt;/code&gt;. Afirmar que o tipo de uma classe √© &lt;code&gt;type&lt;/code&gt; √© o mesmo que afirmar que a sua metaclasse √© &lt;code&gt;type&lt;/code&gt;. O exemplo acima comprovou que as classes realmente s√£o um objeto com um tipo.&lt;/p&gt;
&lt;p&gt;Os conceitos apresentados at√© aqui s√£o um tanto abstratos para quem aprendeu orienta√ß√£o a objetos em linguagens como Java e C# e para os novatos em Python. No t√≥pico seguinte, apresento a implementa√ß√£o de uma classe e de uma metaclasse com dicion√°rios, como se Python n√£o tivesse suporte sint√°tico para OO. Apesar de ningu√©m querer programar assim na pr√°tica o exemplo √© extremamente √∫til para entender como os objetos funcionam em Python.&lt;/p&gt;
&lt;h2 id=&#34;implementando-classes-com-dicion√°rios&#34;&gt;Implementando classes com dicion√°rios&lt;/h2&gt;
&lt;p&gt;O c√≥digo abaixo foi originalmente postado no blog de Pedro Werneck em um post que explicava o &lt;a href=&#34;https://web.archive.org/web/20110812155307/http://diaspar.blogspot.com/2008/11/o-porqu-do-self-explcito-ser-que-agora.html&#34;&gt;porqu√™ do &lt;code&gt;self&lt;/code&gt; expl√≠cito&lt;/a&gt;. Apesar de explicar metaclasses n√£o ser o objetivo principal do texto, achei bastante √∫til para entender como o suporte a orienta√ß√£o a objetos foi implementado em Python. Isso acaba levando ao entendimento de v√°rios conceitos interessantes (entre eles metaclasses) da linguagem e a uma aprecia√ß√£o ainda maior de sua simplicidade e consist√™ncia.&lt;/p&gt;
&lt;p&gt;No post original, o c√≥digo evoluiu aos poucos at√© chegar ao ponto em que est√° aqui. Para um entendimento pleno, &lt;a href=&#34;https://web.archive.org/web/20110812155307/http://diaspar.blogspot.com/2008/11/o-porqu-do-self-explcito-ser-que-agora.html&#34;&gt;leia o post original&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A primeira parte define uma fun√ß√£o &lt;code&gt;newClass&lt;/code&gt; que recebe um nome de classe e um dicion√°rio com seus atributos e retorna um dicion√°rio que faz o papel das &amp;ldquo;classes&amp;rdquo; desse programa.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# precisaremos usar isso logo adiante...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; functools &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; partial
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;### Agora j√° podemos pensar nela como a classe &amp;#39;Class&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;newClass&lt;/span&gt;(nome, atributos):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cls &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nome&amp;#39;&lt;/span&gt;:nome} &lt;span style=&#34;color:#75715e&#34;&gt;# cria o dicion√°rio para a classe somente com seu nome&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; k, v &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; atributos&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;items():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# aqui se um m√©todo for o newNome, ele tem de receber a mesma&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# altera√ß√£o e passar a receber &amp;#39;cls&amp;#39; como primeiro argumento&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; k &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;new&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;nome:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            v &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; partial(v, cls)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# e atribu√≠mos tudo normalmente&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        cls[k] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; v
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; cls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Em seguida, √© definido uma &amp;ldquo;classe&amp;rdquo; &lt;code&gt;Pessoa&lt;/code&gt; com os atributos &lt;code&gt;nome&lt;/code&gt;, &lt;code&gt;nascimento&lt;/code&gt; e um m√©todo &lt;code&gt;idade&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;### Classe Pessoa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# construtor, corresponde ao __new__ de Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;newPessoa&lt;/span&gt;(cls, nome, nascimento): &lt;span style=&#34;color:#75715e&#34;&gt;# agora a classe mesmo vem aqui&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inst &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {} &lt;span style=&#34;color:#75715e&#34;&gt;# a nova inst√¢ncia&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inst[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;classe&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cls &lt;span style=&#34;color:#75715e&#34;&gt;# a inst√¢ncia tem de saber de que classe √©, e&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                         &lt;span style=&#34;color:#75715e&#34;&gt;# agora pode saber dinamicamente&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Agora a inst√¢ncia vai criar os m√©todos embrulhando as chamadas&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# para as fun√ß√µes originais em uma nova, j√° se incluindo nela&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; k, v &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; cls&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;items():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Se for fun√ß√£o...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; callable(v):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;# √©, ent√£o vamos embrulhar...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            metodo &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; partial(v, inst)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            inst[k] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; metodo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inst[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;init&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;cls[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nome&amp;#39;&lt;/span&gt;]](nome, nascimento)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; inst
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# inicializador, corresponde ao __init__ de Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;initPessoa&lt;/span&gt;(inst, nome, nascimento):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inst[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nome&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; nome
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inst[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nascimento&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; nascimento
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# assim como fazemos normalmente no __init__, aqui n√£o precisamos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# nos preocupar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;idade&lt;/span&gt;(inst, hoje):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    hd, hm, ha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hoje
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    nd, nm, na &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; inst[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nascimento&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ha &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; na
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Com as fun√ß√µes que se tornar√£o os m√©todos da classe &lt;code&gt;Pessoa&lt;/code&gt; definidos, falta a √∫ltima parte da defini√ß√£o da classe que √© criar o objeto que representa a classe. Esse objeto √© retornado pela fun√ß√£o &lt;code&gt;newClass&lt;/code&gt; definida no in√≠cio do c√≥digo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# e agora initPessoa() tem de entrar aqui tamb√©m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Pessoa &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; newClass(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Pessoa&amp;#39;&lt;/span&gt;, {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;newPessoa&amp;#39;&lt;/span&gt;:newPessoa,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                             &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;initPessoa&amp;#39;&lt;/span&gt;:initPessoa,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                             &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;idade&amp;#39;&lt;/span&gt;:idade})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;### Fim da defini√ß√£o de classe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A seguir, cria-se duas inst√¢ncias de &lt;code&gt;Pessoa&lt;/code&gt; para testar a implementa√ß√£o.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hank &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Pessoa[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;newPessoa&amp;#39;&lt;/span&gt;](&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Hank Moody&amp;#39;&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1967&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print hank[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;idade&amp;#39;&lt;/span&gt;]((&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2008&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fante &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Pessoa[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;newPessoa&amp;#39;&lt;/span&gt;](&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;John Fante&amp;#39;&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1909&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print fante[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;idade&amp;#39;&lt;/span&gt;]((&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2008&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nesse exemplo, a fun√ß√£o &lt;code&gt;newClass&lt;/code&gt; faz o papel de uma metaclasse, pois √© ela que √© chamada para criar a classe. √â interessante notar que n√£o existe diferen√ßa real entre o funcionamento de &lt;code&gt;newClass&lt;/code&gt; e &lt;code&gt;newPessoa&lt;/code&gt;. Ambas s√£o fun√ß√µes que retornam inst√¢ncias, as inst√¢ncias retornadas por &lt;code&gt;newClass&lt;/code&gt; s√£o &amp;ldquo;classes&amp;rdquo; e as inst√¢ncias retornadas por &lt;code&gt;newPessoa&lt;/code&gt; s√£o objetos do tipo &lt;code&gt;Pessoa&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O autor termina o texto usando as fun√ß√µes de inicializa√ß√£o e c√°lculo de idade com a metaclasse padr√£o de Python, &lt;code&gt;type&lt;/code&gt;. Ela recebe uma string que ser√° o nome da nova classe, uma tupla de classes base e um dicion√°rio representando o &lt;em&gt;namespace&lt;/em&gt; da classe. Esse dicion√°rio cont√©m o que voc√™ normalmente define como o corpo de uma instru√ß√£o &lt;code&gt;class&lt;/code&gt;. A √∫nica coisa que tem que mudar √© o acesso aos atributos, que antes estavam sendo feitos como chaves de dicion√°rios e agora devem usar a sintaxe de atributos normais.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#-*- coding: utf-8 -*-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;initPessoa&lt;/span&gt;(inst, nome, nascimento):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        inst&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; nome
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        inst&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nascimento &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; nascimento
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;idade&lt;/span&gt;(inst, hoje):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        hd, hm, ha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hoje
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        nd, nm, na &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; inst&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nascimento
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ha &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; na
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Pessoa &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; type(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Pessoa&amp;#39;&lt;/span&gt;, (), {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;__init__&amp;#39;&lt;/span&gt;:initPessoa,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                              &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;idade&amp;#39;&lt;/span&gt;:idade})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Representa√ß√£o de Pessoa como string: &amp;#34;&lt;/span&gt;,Pessoa
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Tipo de Pessoa (sua metaclasse): &amp;#34;&lt;/span&gt;,type(Pessoa)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Imprimindo a idade de uma inst√¢ncia de Pessoa para teste: &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hank &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Pessoa(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Hank Moody&amp;#39;&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1967&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print hank&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;idade((&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2008&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Resumindo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Em Python tudo √© objeto, inclusive classes e inst√¢ncias. N√£o existe diferen√ßa real entre elas.&lt;/li&gt;
&lt;li&gt;Criar uma classe √© criar um novo tipo.&lt;/li&gt;
&lt;li&gt;A classe de uma classe √© chamada de metaclasse. As inst√¢ncias de metaclasses s√£o classes.&lt;/li&gt;
&lt;li&gt;A metaclasse &lt;em&gt;default&lt;/em&gt; √© &lt;code&gt;type&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;N√£o existe diferen√ßa real entre m√©todos e fun√ß√µes. Os m√©todos s√£o apenas fun√ß√µes com &lt;em&gt;namespaces&lt;/em&gt; espec√≠ficos (suas classes).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;criando-e-definindo-metaclasses&#34;&gt;Criando e definindo metaclasses&lt;/h2&gt;
&lt;p&gt;Para definir sua pr√≥pria metaclasse, basta criar uma classe que herda da metaclasse &lt;code&gt;type&lt;/code&gt;. O m√©todo inicializador recebe os mesmos argumentos que o m√©todo inicializador de &lt;code&gt;type&lt;/code&gt;: uma string que ser√° o nome da classe, uma tupla de classes bases e um dicion√°rio representando o &lt;em&gt;namespace&lt;/em&gt; da classe.&lt;/p&gt;
&lt;p&gt;Segue um &lt;a href=&#34;https://web.archive.org/web/20090215011047/http://www.ibm.com/developerworks/linux/library/l-pymeta.html&#34;&gt;exemplo ligeiramente modificado&lt;/a&gt; de um artigo do &lt;a href=&#34;https://web.archive.org/web/20090221162632/http://www.ibm.com/developerworks/&#34;&gt;IBM developerWorks&lt;/a&gt;. Primeiramente, vamos definir uma nova metaclasse:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChattyType&lt;/span&gt;(type):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; __new__(cls, name, bases, dct):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;       print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Alocando mem√≥ria para classe&amp;#34;&lt;/span&gt;, name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;       dct[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;usa_metaclasse&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; type&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;__new__(cls, name, bases, dct)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; __init__(cls, name, bases, dct):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;       print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Inicializando (configurando) classe&amp;#34;&lt;/span&gt;, name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;       super(ChattyType, cls)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;__init__(name, bases, dct)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Essa metaclasse sobrescreve o m√©todo &lt;code&gt;__new__&lt;/code&gt; que efetivamente √© o construtor e retorna uma nova inst√¢ncia de classe (nesse exemplo espec√≠fico, a inst√¢ncia retornada ser√° uma classe por estarmos escrevendo uma &lt;strong&gt;meta&lt;/strong&gt;classe) e o m√©todo &lt;code&gt;__init__&lt;/code&gt; que √© o inicializador da inst√¢ncia e n√£o retorna nada. √â tentador chamar o &lt;code&gt;__init__&lt;/code&gt; de construtor, mas o trabalho de cria√ß√£o de inst√¢ncias √© do &lt;code&gt;__new__&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;O c√≥digo acima criou um novo tipo que imprime uma mensagem quando est√° sendo criado e outra quando est√° sendo inicializado. Definiu-se tamb√©m que todas as inst√¢ncias do novo tipo ter√£o um atributo &lt;code&gt;usa_metaclasse&lt;/code&gt; com o valor inicial &lt;code&gt;True&lt;/code&gt;. Essa mudan√ßa foi feita adicionando uma chave ao dicion√°rio que representa o &lt;em&gt;namespace&lt;/em&gt;  da classe (&lt;code&gt;dct&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Com a metaclasse definida, j√° √© poss√≠vel criar classes a partir dela chamando-a como chama-se &lt;code&gt;type&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; X&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ChattyType(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;X&amp;#39;&lt;/span&gt;, (object,), {})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Alocando mem√≥ria para classe X
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Inicializando (configurando) classe X
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Instanciar classes manualmente como feito acima, n√£o √© um procedimento muito comum. Segue como Python &lt;a href=&#34;https://www.python.org/download/releases/2.2.3/descrintro/#metaclasses&#34;&gt;determina a metaclasse&lt;/a&gt; de uma determinada classe:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Se o dicion√°rio que representa o &lt;em&gt;namespace&lt;/em&gt; da classe contiver uma chave &lt;code&gt;__metaclass__&lt;/code&gt;, o seu valor √© usado.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sen√£o, se existe pelo menos uma classe base, sua metaclasse √© usada.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sen√£o, se existe uma vari√°vel global &lt;code&gt;__metaclass__&lt;/code&gt;, seu valor √© usado.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sen√£o, &lt;code&gt;types.ClassType&lt;/code&gt; √© usado.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A cria√ß√£o da classe &lt;code&gt;X&lt;/code&gt; feita no exemplo acima comumente seria feita assim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;X&lt;/span&gt;(object):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;    __metaclass__&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ChattyType
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Alocando mem√≥ria para classe X
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Inicializando (configurando) classe X
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A instancia√ß√£o de &lt;code&gt;ChattyType&lt;/code&gt;, feita explicitamente no primeiro exemplo, agora √© feita pelo interpretador Python no final da instru√ß√£o &lt;code&gt;class&lt;/code&gt;. Note que a instru√ß√£o &lt;code&gt;class&lt;/code&gt; √© simplesmente &lt;a href=&#34;https://en.wikipedia.org/wiki/Syntactic_sugar&#34;&gt;a√ß√∫car sint√°tico&lt;/a&gt; para a instancia√ß√£o de classes atrav√©s de suas metaclasses. Os programadores que n√£o fazem uso de metaclasses acabam n√£o percebendo isso, j√° que simplesmente criam suas classes usando &lt;code&gt;class&lt;/code&gt; e Python simplesmente as instancia chamando &lt;code&gt;type&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Continuando o exemplo, podemos confirmar que o tipo da classe √© a metaclasse:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; type(X)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;__main__&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ChattyType&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;X()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; type(y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;__main__&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;X&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; type(X) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; type(type(y))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para concluir, segue algumas dicas na hora de usar metaclasses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A modifica√ß√£o do dicion√°rio que representa o &lt;em&gt;namespace&lt;/em&gt; da classe deve ser feita em &lt;code&gt;__new__&lt;/code&gt;, como no exemplo. Se na defini√ß√£o de &lt;code&gt;ChattyType&lt;/code&gt;, &lt;code&gt;dct[&#39;usa_metaclasse&#39;]=True&lt;/code&gt; fosse executado em &lt;code&gt;__init__&lt;/code&gt;, a altera√ß√£o n√£o teria efeito. Considere o uso de &lt;a href=&#34;https://docs.python.org/3/library/functions.html#setattr&#34;&gt;setattr&lt;/a&gt; nesses casos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sempre herde de &lt;code&gt;type&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;__new__&lt;/code&gt; √© o construtor e deve retornar uma nova inst√¢ncia.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Erros em metaclasses costumam aparecer durante &lt;code&gt;import&lt;/code&gt;s e defini√ß√µes de classes que usem metaclasses diferentes de &lt;code&gt;type&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;alguns-exemplos&#34;&gt;Alguns exemplos&lt;/h2&gt;
&lt;p&gt;Metaclasses s√£o usadas na maior parte do tempo para alterar o comportamento de cria√ß√£o e inicializa√ß√£o de classes. Na maioria dos casos, os usu√°rios finais s√£o outros programadores. Frameworks e ferramentas de mapeamento objeto-relacional s√£o exemplos de softwares que usam metaclasses.&lt;/p&gt;
&lt;p&gt;Alguns usos para as metaclasses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://web.archive.org/web/20101122212629/http://www.python.org.br/wiki/UnificandoTiposClasses&#34;&gt;Criar propriedades automaticamente&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://kodumaro.blogspot.com/2009/01/s-ingleton.html&#34;&gt;Usar o design pattern singleton de forma transparente&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://everything2.com/title/metaclass&#34;&gt;Monitorar todas as chamadas a m√©todos de uma classe&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://web.archive.org/web/20090405120043/http://effbot.org/zone/metaclass-plugins.htm&#34;&gt;Fazer plugins se registrarem automaticamente em um registro comum&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verificar diversos aspectos de uma classe para garantir que a classe tenha os m√©todos e atributos necess√°rios para o correto funcionamento do sistema. Isso √© interessante se a aplica√ß√£o pode ser estendida por plugins desenvolvidos por terceiros.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O importante √© que a classe s√≥ √© realmente criada na chamada final a &lt;code&gt;type&lt;/code&gt; na metaclasse. Voc√™ √© livre para modificar o dicion√°rio de atributos de acordo com as suas necessidades antes disso, portanto existem muito mais possibilidades de uso para as metaclasses do que as apresentadas aqui.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Here Strings, Redirecionamentos e o builtin time</title>
      <link>https://gmgall.net/blog/here-strings-redirecionamentos-e-o-builtin-time/</link>
      <pubDate>Wed, 28 Jan 2009 00:00:00 -0300</pubDate>
      
      <guid>https://gmgall.net/blog/here-strings-redirecionamentos-e-o-builtin-time/</guid>
      <description>&lt;p&gt;Estou fazendo um comparativo entre &lt;code&gt;gzip&lt;/code&gt; e &lt;code&gt;bzip2&lt;/code&gt; em seus diferentes modos de compress√£o (-1 a -9) e para automatizar o processo fiz um script bash que usa alguns recursos bastante interessantes, mas √†s vezes negligenciados, por isso vou falar sobre eles aqui.&lt;/p&gt;
&lt;p&gt;O script basicamente compacta um determinado arquivo com o &lt;code&gt;bzip2&lt;/code&gt; e o &lt;code&gt;gzip&lt;/code&gt;, cada um deles usando todos os modos de compress√£o, mede o tempo que o compactador ficou na CPU e escreve os resultados em um arquivo de sa√≠da. O comando para compactar o arquivo √© montado dinamicamente usando dois loops aninhados. Um deles, o mais externo, itera sobre a lista de modos de compress√£o (-1 a -9) e o outro, o mais interno, itera sobre os compactadores. No final, a linha que realmente faz a compacta√ß√£o e mede o tempo gasto √©&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TIMEC&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;bc &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; time eval &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$CMDC&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Onde &lt;code&gt;TIMEC&lt;/code&gt; recebe o tempo de CPU gasto pelo comando de compacta√ß√£o e &lt;code&gt;$CMDC&lt;/code&gt; cont√©m o comando de compacta√ß√£o. Um valor que essa vari√°vel pode assumir durante a execu√ß√£o √© &lt;code&gt;gzip -c -2 arquivo&amp;gt;arquivo.gz&lt;/code&gt;, por exemplo.&lt;/p&gt;
&lt;p&gt;Feita essa introdu√ß√£o, o primeiro recurso interessante que eu gostaria de apresentar √© o &lt;em&gt;here strings&lt;/em&gt;. O funcionamento dele √© simples. Dado um comando como:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bc &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1+1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;a string &lt;code&gt;1+1&lt;/code&gt; ser√° usada para alimentar a entrada padr√£o de &lt;code&gt;bc&lt;/code&gt;. Isso substitui a forma tradicional&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1+1&amp;#39;&lt;/span&gt; | bc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;que faz a mesma coisa, mas for√ßa um &lt;a href=&#34;https://en.wikipedia.org/wiki/Fork_(system_call)&#34;&gt;fork&lt;/a&gt; para isso, sendo mais ineficiente.&lt;/p&gt;
&lt;p&gt;Na linha do script que citei no in√≠cio do post, o &lt;code&gt;bc&lt;/code&gt; vai receber o tempo gasto em modo usu√°rio e o tempo gasto em modo kernel separados por um sinal de adi√ß√£o, fazendo portanto &lt;code&gt;TIMEC&lt;/code&gt; receber a soma desses valores. Aqui chegamos no segundo recurso que gostaria de citar nesse post. O builtin &lt;code&gt;time&lt;/code&gt; do bash (n√£o confundir com o comando externo &lt;code&gt;time&lt;/code&gt;), pode ter sua sa√≠da formatada atrav√©s do conte√∫do da vari√°vel &lt;code&gt;TIMEFORMAT&lt;/code&gt;. Para fazer a sa√≠da do &lt;code&gt;time&lt;/code&gt; ficar no formato de uma soma, simplesmente atribu√≠ o valor &lt;code&gt;%U+%S&lt;/code&gt; √† &lt;code&gt;TIMEFORMAT&lt;/code&gt;. O &lt;code&gt;%U&lt;/code&gt; representa o tempo gasto em modo de usu√°rio e o &lt;code&gt;%S&lt;/code&gt; o tempo gasto em modo kernel.&lt;/p&gt;
&lt;p&gt;Exemplo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ time df
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Sist. Arq.           1K-blocos      Usad Dispon.   Uso% Montado em
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/hdc3             &lt;span style=&#34;color:#ae81ff&#34;&gt;37491624&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;32393072&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;3194048&lt;/span&gt;  92% /
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tmpfs                   &lt;span style=&#34;color:#ae81ff&#34;&gt;255180&lt;/span&gt;         &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;255180&lt;/span&gt;   0% /dev/shm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real    0m0.061s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user    0m0.020s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys     0m0.016s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ TIMEFORMAT&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;%U+%S &lt;span style=&#34;color:#75715e&#34;&gt;# Formatando a sa√≠da de time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ time df
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Sist. Arq.           1K-blocos      Usad Dispon.   Uso% Montado em
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/hdc3             &lt;span style=&#34;color:#ae81ff&#34;&gt;37491624&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;32393072&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;3194048&lt;/span&gt;  92% /
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tmpfs                   &lt;span style=&#34;color:#ae81ff&#34;&gt;255180&lt;/span&gt;         &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;255180&lt;/span&gt;   0% /dev/shm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0.020+0.008
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Com isso, s√≥ fica faltando uma √∫ltima coisa para mostrar: como redirecionar a sa√≠da do builtin &lt;code&gt;time&lt;/code&gt;. A primeira coisa importante a ter em mente, √© que os tempos medidos em si s√£o jogados na &lt;code&gt;stderr&lt;/code&gt;, enquanto que a &lt;code&gt;stdout&lt;/code&gt; √© usada para a sa√≠da do comando cujo tempo de execu√ß√£o √© medido. Dito isso uma primeira tentativa de redirecionar a sa√≠da do &lt;code&gt;time&lt;/code&gt; para um arquivo por exemplo, seria fazer simplesmente fazer algo como &lt;code&gt;time comando 2&amp;gt; arquivo&lt;/code&gt;, mas isso n√£o funciona. O que √© redirecionado para arquivo nesse caso √© a sa√≠da de erros de comando, n√£o a do time, que continua imprimindo na tela. Exemplo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ time ls naoexiste 2&amp;gt;saida_erros
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real    0m0.041s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user    0m0.036s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys     0m0.004s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat saida_erros
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls: imposs√≠vel acessar naoexiste: Arquivo ou diret√≥rio n√£o encontrado
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A sa√≠da para isso √© executar o &lt;code&gt;time&lt;/code&gt; dentro de um bloco (em uma subshell tamb√©m funciona, mas √© ineficiente) e redirecionar a sa√≠da de erros desse bloco. Exemplo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; time ls naoexiste 2&amp;gt;/dev/null; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; 2&amp;gt;saida_erros
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat saida_erros
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real    0m0.056s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user    0m0.028s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys     0m0.004s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Perceba que dentro do bloco eu redirecionei a sa√≠da de erros de &lt;code&gt;ls naoexiste&lt;/code&gt; para &lt;code&gt;/dev/null&lt;/code&gt;, para que ela n√£o se misturasse com a sa√≠da do &lt;code&gt;time&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Com isso j√° temos toda a teoria para entender a linha que citei no in√≠cio do post. Vamos desmembr√°-la e revisar o que apresentei nesse post.&lt;/p&gt;
&lt;h2 id=&#34;revisando&#34;&gt;Revisando&lt;/h2&gt;
&lt;p&gt;Na linha&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TIMEC&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;bc &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; time eval &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$CMDC&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;TIMEC&lt;/code&gt; vai receber a soma, feita pela calculadora &lt;code&gt;bc&lt;/code&gt;, dos tempos calculados pelo builtin &lt;code&gt;time&lt;/code&gt; do bash. A sa√≠da desse comando foi formatada de acordo com a vari√°vel &lt;code&gt;TIMEFORMAT&lt;/code&gt; para formar uma string com uma soma do tempo gasto em modo kernel com o tempo gasto em modo de usu√°rio (&lt;code&gt;%U+%S&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Dentro da subshell cujo resultado alimenta a entrada padr√£o do &lt;code&gt;bc&lt;/code&gt; o &lt;code&gt;time&lt;/code&gt; precisou ser executado dentro de um bloco, para ser poss√≠vel capturar o seu resultado, que vai para &lt;code&gt;stderr&lt;/code&gt;. A &lt;code&gt;stdout&lt;/code&gt; √© usada para a sa√≠da do comando cujo tempo de execu√ß√£o √© medido pelo &lt;code&gt;time&lt;/code&gt;. A &lt;code&gt;stderr&lt;/code&gt; do bloco inteiro foi conectado a &lt;code&gt;stdout&lt;/code&gt;, sendo assim devidamente retornada pela subshell e usada para alimentar a entrada padr√£o da &lt;code&gt;bc&lt;/code&gt; via &lt;em&gt;here strings&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;√â isso. Quaisquer coment√°rios s√£o bem vindos.&lt;/p&gt;
&lt;h2 id=&#34;refer√™ncias&#34;&gt;Refer√™ncias&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://mywiki.wooledge.org/BashFAQ/032&#34;&gt;BashFaq: How can I redirect the output of &amp;rsquo;time&amp;rsquo; to a variable or file?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tldp.org/LDP/abs/html/io-redirection.html&#34;&gt;Advanced Bash-Scripting Guide: I/O Redirection&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jneves.wordpress.com/2008/03/05/hello-world/&#34;&gt;Papo de Botequim: Tira Gosto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://linux.die.net/man/1/bash&#34;&gt;Manpage do Bash&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
